{"ast":null,"code":"/**!\n * lg-thumbnail.js | 1.2.0 | May 20th 2020\n * http://sachinchoolur.github.io/lg-thumbnail.js\n * Copyright (c) 2016 Sachin N; \n * @license GPLv3 \n */\n(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n\n    g.LgThumbnail = f();\n  }\n})(function () {\n  var define, module, exports;\n  return function () {\n    function r(e, n, t) {\n      function o(i, f) {\n        if (!n[i]) {\n          if (!e[i]) {\n            var c = \"function\" == typeof require && require;\n            if (!f && c) return c(i, !0);\n            if (u) return u(i, !0);\n            var a = new Error(\"Cannot find module '\" + i + \"'\");\n            throw a.code = \"MODULE_NOT_FOUND\", a;\n          }\n\n          var p = n[i] = {\n            exports: {}\n          };\n          e[i][0].call(p.exports, function (r) {\n            var n = e[i][1][r];\n            return o(n || r);\n          }, p, p.exports, r, e, n, t);\n        }\n\n        return n[i].exports;\n      }\n\n      for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);\n\n      return o;\n    }\n\n    return r;\n  }()({\n    1: [function (require, module, exports) {\n      (function (global, factory) {\n        if (typeof define === \"function\" && define.amd) {\n          define([], factory);\n        } else if (typeof exports !== \"undefined\") {\n          factory();\n        } else {\n          var mod = {\n            exports: {}\n          };\n          factory();\n          global.lgThumbnail = mod.exports;\n        }\n      })(this, function () {\n        'use strict';\n\n        var _extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }\n\n          return target;\n        };\n\n        var thumbnailDefaults = {\n          thumbnail: true,\n          animateThumb: true,\n          currentPagerPosition: 'middle',\n          thumbWidth: 100,\n          thumbContHeight: 100,\n          thumbMargin: 5,\n          exThumbImage: false,\n          showThumbByDefault: true,\n          toggleThumb: true,\n          pullCaptionUp: true,\n          enableThumbDrag: true,\n          enableThumbSwipe: true,\n          swipeThreshold: 50,\n          loadYoutubeThumbnail: true,\n          youtubeThumbSize: 1,\n          loadVimeoThumbnail: true,\n          vimeoThumbSize: 'thumbnail_small',\n          loadDailymotionThumbnail: true\n        };\n\n        var Thumbnail = function Thumbnail(element) {\n          this.el = element;\n          this.core = window.lgData[this.el.getAttribute('lg-uid')];\n          this.core.s = _extends({}, thumbnailDefaults, this.core.s);\n          this.thumbOuter = null;\n          this.thumbOuterWidth = 0;\n          this.thumbTotalWidth = this.core.items.length * (this.core.s.thumbWidth + this.core.s.thumbMargin);\n          this.thumbIndex = this.core.index; // Thumbnail animation value\n\n          this.left = 0;\n          this.init();\n          return this;\n        };\n\n        Thumbnail.prototype.init = function () {\n          var _this = this;\n\n          if (this.core.s.thumbnail && this.core.items.length > 1) {\n            if (this.core.s.showThumbByDefault) {\n              setTimeout(function () {\n                utils.addClass(_this.core.outer, 'lg-thumb-open');\n              }, 700);\n            }\n\n            if (this.core.s.pullCaptionUp) {\n              utils.addClass(this.core.outer, 'lg-pull-caption-up');\n            }\n\n            this.build();\n\n            if (this.core.s.animateThumb) {\n              if (this.core.s.enableThumbDrag && !this.core.isTouch && this.core.doCss()) {\n                this.enableThumbDrag();\n              }\n\n              if (this.core.s.enableThumbSwipe && this.core.isTouch && this.core.doCss()) {\n                this.enableThumbSwipe();\n              }\n\n              this.thumbClickable = false;\n            } else {\n              this.thumbClickable = true;\n            }\n\n            this.toggle();\n            this.thumbkeyPress();\n          }\n        };\n\n        Thumbnail.prototype.build = function () {\n          var _this = this;\n\n          var thumbList = '';\n          var vimeoErrorThumbSize = '';\n          var $thumb;\n          var html = '<div class=\"lg-thumb-outer\">' + '<div class=\"lg-thumb group\">' + '</div>' + '</div>';\n\n          switch (this.core.s.vimeoThumbSize) {\n            case 'thumbnail_large':\n              vimeoErrorThumbSize = '640';\n              break;\n\n            case 'thumbnail_medium':\n              vimeoErrorThumbSize = '200x150';\n              break;\n\n            case 'thumbnail_small':\n              vimeoErrorThumbSize = '100x75';\n          }\n\n          utils.addClass(_this.core.outer, 'lg-has-thumb');\n\n          _this.core.outer.querySelector('.lg').insertAdjacentHTML('beforeend', html);\n\n          _this.thumbOuter = _this.core.outer.querySelector('.lg-thumb-outer');\n          _this.thumbOuterWidth = _this.thumbOuter.offsetWidth;\n\n          if (_this.core.s.animateThumb) {\n            _this.core.outer.querySelector('.lg-thumb').style.width = _this.thumbTotalWidth + 'px';\n            _this.core.outer.querySelector('.lg-thumb').style.position = 'relative';\n          }\n\n          if (this.core.s.animateThumb) {\n            _this.thumbOuter.style.height = _this.core.s.thumbContHeight + 'px';\n          }\n\n          function getThumb(src, thumb, index) {\n            var isVideo = _this.core.isVideo(src, index) || {};\n            var thumbImg;\n            var vimeoId = '';\n\n            if (isVideo.youtube || isVideo.vimeo || isVideo.dailymotion) {\n              if (isVideo.youtube) {\n                if (_this.core.s.loadYoutubeThumbnail) {\n                  thumbImg = '//img.youtube.com/vi/' + isVideo.youtube[1] + '/' + _this.core.s.youtubeThumbSize + '.jpg';\n                } else {\n                  thumbImg = thumb;\n                }\n              } else if (isVideo.vimeo) {\n                if (_this.core.s.loadVimeoThumbnail) {\n                  thumbImg = '//i.vimeocdn.com/video/error_' + vimeoErrorThumbSize + '.jpg';\n                  vimeoId = isVideo.vimeo[1];\n                } else {\n                  thumbImg = thumb;\n                }\n              } else if (isVideo.dailymotion) {\n                if (_this.core.s.loadDailymotionThumbnail) {\n                  thumbImg = '//www.dailymotion.com/thumbnail/video/' + isVideo.dailymotion[1];\n                } else {\n                  thumbImg = thumb;\n                }\n              }\n            } else {\n              thumbImg = thumb;\n            }\n\n            thumbList += '<div data-vimeo-id=\"' + vimeoId + '\" class=\"lg-thumb-item\" style=\"width:' + _this.core.s.thumbWidth + 'px; margin-right: ' + _this.core.s.thumbMargin + 'px\"><img src=\"' + thumbImg + '\" /></div>';\n            vimeoId = '';\n          }\n\n          if (_this.core.s.dynamic) {\n            for (var j = 0; j < _this.core.s.dynamicEl.length; j++) {\n              getThumb(_this.core.s.dynamicEl[j].src, _this.core.s.dynamicEl[j].thumb, j);\n            }\n          } else {\n            for (var i = 0; i < _this.core.items.length; i++) {\n              if (!_this.core.s.exThumbImage) {\n                getThumb(_this.core.items[i].getAttribute('href') || _this.core.items[i].getAttribute('data-src'), _this.core.items[i].querySelector('img').getAttribute('src'), i);\n              } else {\n                getThumb(_this.core.items[i].getAttribute('href') || _this.core.items[i].getAttribute('data-src'), _this.core.items[i].getAttribute(_this.core.s.exThumbImage), i);\n              }\n            }\n          }\n\n          _this.core.outer.querySelector('.lg-thumb').innerHTML = thumbList;\n          $thumb = _this.core.outer.querySelectorAll('.lg-thumb-item');\n\n          for (var n = 0; n < $thumb.length; n++) {\n            /*jshint loopfunc: true */\n            (function (index) {\n              var $this = $thumb[index];\n              var vimeoVideoId = $this.getAttribute('data-vimeo-id');\n\n              if (vimeoVideoId) {\n                window['lgJsonP' + _this.el.getAttribute('lg-uid') + '' + n] = function (content) {\n                  $this.querySelector('img').setAttribute('src', content[0][_this.core.s.vimeoThumbSize]);\n                };\n\n                var script = document.createElement('script');\n                script.className = 'lg-script';\n                script.src = '//www.vimeo.com/api/v2/video/' + vimeoVideoId + '.json?callback=lgJsonP' + _this.el.getAttribute('lg-uid') + '' + n;\n                document.body.appendChild(script);\n              }\n            })(n);\n          } // manage active class for thumbnail\n\n\n          utils.addClass($thumb[_this.core.index], 'active');\n          utils.on(_this.core.el, 'onBeforeSlide.lgtm', function () {\n            for (var j = 0; j < $thumb.length; j++) {\n              utils.removeClass($thumb[j], 'active');\n            }\n\n            utils.addClass($thumb[_this.core.index], 'active');\n          });\n\n          for (var k = 0; k < $thumb.length; k++) {\n            /*jshint loopfunc: true */\n            (function (index) {\n              utils.on($thumb[index], 'click.lg touchend.lg', function () {\n                setTimeout(function () {\n                  // In IE9 and bellow touch does not support\n                  // Go to slide if browser does not support css transitions\n                  if (_this.thumbClickable && !_this.core.lgBusy || !_this.core.doCss()) {\n                    _this.core.index = index;\n\n                    _this.core.slide(_this.core.index, false, true);\n                  }\n                }, 50);\n              });\n            })(k);\n          }\n\n          utils.on(_this.core.el, 'onBeforeSlide.lgtm', function () {\n            _this.animateThumb(_this.core.index);\n          });\n          utils.on(window, 'resize.lgthumb orientationchange.lgthumb', function () {\n            setTimeout(function () {\n              _this.animateThumb(_this.core.index);\n\n              _this.thumbOuterWidth = _this.thumbOuter.offsetWidth;\n            }, 200);\n          });\n        };\n\n        Thumbnail.prototype.setTranslate = function (value) {\n          utils.setVendor(this.core.outer.querySelector('.lg-thumb'), 'Transform', 'translate3d(-' + value + 'px, 0px, 0px)');\n        };\n\n        Thumbnail.prototype.animateThumb = function (index) {\n          var $thumb = this.core.outer.querySelector('.lg-thumb');\n\n          if (this.core.s.animateThumb) {\n            var position;\n\n            switch (this.core.s.currentPagerPosition) {\n              case 'left':\n                position = 0;\n                break;\n\n              case 'middle':\n                position = this.thumbOuterWidth / 2 - this.core.s.thumbWidth / 2;\n                break;\n\n              case 'right':\n                position = this.thumbOuterWidth - this.core.s.thumbWidth;\n            }\n\n            this.left = (this.core.s.thumbWidth + this.core.s.thumbMargin) * index - 1 - position;\n\n            if (this.left > this.thumbTotalWidth - this.thumbOuterWidth) {\n              this.left = this.thumbTotalWidth - this.thumbOuterWidth;\n            }\n\n            if (this.left < 0) {\n              this.left = 0;\n            }\n\n            if (this.core.lGalleryOn) {\n              if (!utils.hasClass($thumb, 'on')) {\n                utils.setVendor(this.core.outer.querySelector('.lg-thumb'), 'TransitionDuration', this.core.s.speed + 'ms');\n              }\n\n              if (!this.core.doCss()) {\n                $thumb.style.left = -this.left + 'px';\n              }\n            } else {\n              if (!this.core.doCss()) {\n                $thumb.style.left = -this.left + 'px';\n              }\n            }\n\n            this.setTranslate(this.left);\n          }\n        }; // Enable thumbnail dragging and swiping\n\n\n        Thumbnail.prototype.enableThumbDrag = function () {\n          var _this = this;\n\n          var startCoords = 0;\n          var endCoords = 0;\n          var isDraging = false;\n          var isMoved = false;\n          var tempLeft = 0;\n          utils.addClass(_this.thumbOuter, 'lg-grab');\n          utils.on(_this.core.outer.querySelector('.lg-thumb'), 'mousedown.lgthumb', function (e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n              // execute only on .lg-object\n              e.preventDefault();\n              startCoords = e.pageX;\n              isDraging = true; // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n\n              _this.core.outer.scrollLeft += 1;\n              _this.core.outer.scrollLeft -= 1; // *\n\n              _this.thumbClickable = false;\n              utils.removeClass(_this.thumbOuter, 'lg-grab');\n              utils.addClass(_this.thumbOuter, 'lg-grabbing');\n            }\n          });\n          utils.on(window, 'mousemove.lgthumb', function (e) {\n            if (isDraging) {\n              tempLeft = _this.left;\n              isMoved = true;\n              endCoords = e.pageX;\n              utils.addClass(_this.thumbOuter, 'lg-dragging');\n              tempLeft = tempLeft - (endCoords - startCoords);\n\n              if (tempLeft > _this.thumbTotalWidth - _this.thumbOuterWidth) {\n                tempLeft = _this.thumbTotalWidth - _this.thumbOuterWidth;\n              }\n\n              if (tempLeft < 0) {\n                tempLeft = 0;\n              } // move current slide\n\n\n              _this.setTranslate(tempLeft);\n            }\n          });\n          utils.on(window, 'mouseup.lgthumb', function () {\n            if (isMoved) {\n              isMoved = false;\n              utils.removeClass(_this.thumbOuter, 'lg-dragging');\n              _this.left = tempLeft;\n\n              if (Math.abs(endCoords - startCoords) < _this.core.s.swipeThreshold) {\n                _this.thumbClickable = true;\n              }\n            } else {\n              _this.thumbClickable = true;\n            }\n\n            if (isDraging) {\n              isDraging = false;\n              utils.removeClass(_this.thumbOuter, 'lg-grabbing');\n              utils.addClass(_this.thumbOuter, 'lg-grab');\n            }\n          });\n        };\n\n        Thumbnail.prototype.enableThumbSwipe = function () {\n          var _this = this;\n\n          var startCoords = 0;\n          var endCoords = 0;\n          var isMoved = false;\n          var tempLeft = 0;\n          utils.on(_this.core.outer.querySelector('.lg-thumb'), 'touchstart.lg', function (e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n              e.preventDefault();\n              startCoords = e.targetTouches[0].pageX;\n              _this.thumbClickable = false;\n            }\n          });\n          utils.on(_this.core.outer.querySelector('.lg-thumb'), 'touchmove.lg', function (e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n              e.preventDefault();\n              endCoords = e.targetTouches[0].pageX;\n              isMoved = true;\n              utils.addClass(_this.thumbOuter, 'lg-dragging');\n              tempLeft = _this.left;\n              tempLeft = tempLeft - (endCoords - startCoords);\n\n              if (tempLeft > _this.thumbTotalWidth - _this.thumbOuterWidth) {\n                tempLeft = _this.thumbTotalWidth - _this.thumbOuterWidth;\n              }\n\n              if (tempLeft < 0) {\n                tempLeft = 0;\n              } // move current slide\n\n\n              _this.setTranslate(tempLeft);\n            }\n          });\n          utils.on(_this.core.outer.querySelector('.lg-thumb'), 'touchend.lg', function () {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n              if (isMoved) {\n                isMoved = false;\n                utils.removeClass(_this.thumbOuter, 'lg-dragging');\n\n                if (Math.abs(endCoords - startCoords) < _this.core.s.swipeThreshold) {\n                  _this.thumbClickable = true;\n                }\n\n                _this.left = tempLeft;\n              } else {\n                _this.thumbClickable = true;\n              }\n            } else {\n              _this.thumbClickable = true;\n            }\n          });\n        };\n\n        Thumbnail.prototype.toggle = function () {\n          var _this = this;\n\n          if (_this.core.s.toggleThumb) {\n            utils.addClass(_this.core.outer, 'lg-can-toggle');\n\n            _this.thumbOuter.insertAdjacentHTML('beforeend', '<button aria-label=\"Toggle thumbnails\" class=\"lg-toggle-thumb lg-icon\"></button>');\n\n            utils.on(_this.core.outer.querySelector('.lg-toggle-thumb'), 'click.lg', function () {\n              if (utils.hasClass(_this.core.outer, 'lg-thumb-open')) {\n                utils.removeClass(_this.core.outer, 'lg-thumb-open');\n              } else {\n                utils.addClass(_this.core.outer, 'lg-thumb-open');\n              }\n            });\n          }\n        };\n\n        Thumbnail.prototype.thumbkeyPress = function () {\n          var _this = this;\n\n          utils.on(window, 'keydown.lgthumb', function (e) {\n            if (e.keyCode === 38) {\n              e.preventDefault();\n              utils.addClass(_this.core.outer, 'lg-thumb-open');\n            } else if (e.keyCode === 40) {\n              e.preventDefault();\n              utils.removeClass(_this.core.outer, 'lg-thumb-open');\n            }\n          });\n        };\n\n        Thumbnail.prototype.destroy = function (d) {\n          if (this.core.s.thumbnail && this.core.items.length > 1) {\n            utils.off(window, '.lgthumb');\n\n            if (!d) {\n              this.thumbOuter.parentNode.removeChild(this.thumbOuter);\n            }\n\n            utils.removeClass(this.core.outer, 'lg-has-thumb');\n            var lgScript = document.getElementsByClassName('lg-script');\n\n            while (lgScript[0]) {\n              lgScript[0].parentNode.removeChild(lgScript[0]);\n            }\n          }\n        };\n\n        window.lgModules.thumbnail = Thumbnail;\n      });\n    }, {}]\n  }, {}, [1])(1);\n});","map":{"version":3,"sources":["/Users/debpratiher/Downloads/quicky-messenger-v1.3/quicky-messanger/node_modules/lg-thumbnail.js/dist/lg-thumbnail.js"],"names":["f","exports","module","define","amd","g","window","global","self","LgThumbnail","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","factory","mod","lgThumbnail","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","thumbnailDefaults","thumbnail","animateThumb","currentPagerPosition","thumbWidth","thumbContHeight","thumbMargin","exThumbImage","showThumbByDefault","toggleThumb","pullCaptionUp","enableThumbDrag","enableThumbSwipe","swipeThreshold","loadYoutubeThumbnail","youtubeThumbSize","loadVimeoThumbnail","vimeoThumbSize","loadDailymotionThumbnail","Thumbnail","element","el","core","lgData","getAttribute","s","thumbOuter","thumbOuterWidth","thumbTotalWidth","items","thumbIndex","index","left","init","_this","setTimeout","utils","addClass","outer","build","isTouch","doCss","thumbClickable","toggle","thumbkeyPress","thumbList","vimeoErrorThumbSize","$thumb","html","querySelector","insertAdjacentHTML","offsetWidth","style","width","position","height","getThumb","src","thumb","isVideo","thumbImg","vimeoId","youtube","vimeo","dailymotion","dynamic","j","dynamicEl","innerHTML","querySelectorAll","$this","vimeoVideoId","content","setAttribute","script","document","createElement","className","body","appendChild","on","removeClass","k","lgBusy","slide","setTranslate","value","setVendor","lGalleryOn","hasClass","speed","startCoords","endCoords","isDraging","isMoved","tempLeft","preventDefault","pageX","scrollLeft","Math","abs","targetTouches","keyCode","destroy","d","off","parentNode","removeChild","lgScript","getElementsByClassName","lgModules"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAAG,CAAC,UAASA,CAAT,EAAW;AAAC,MAAG,OAAOC,OAAP,KAAiB,QAAjB,IAA2B,OAAOC,MAAP,KAAgB,WAA9C,EAA0D;AAACA,IAAAA,MAAM,CAACD,OAAP,GAAeD,CAAC,EAAhB;AAAmB,GAA9E,MAAmF,IAAG,OAAOG,MAAP,KAAgB,UAAhB,IAA4BA,MAAM,CAACC,GAAtC,EAA0C;AAACD,IAAAA,MAAM,CAAC,EAAD,EAAIH,CAAJ,CAAN;AAAa,GAAxD,MAA4D;AAAC,QAAIK,CAAJ;;AAAM,QAAG,OAAOC,MAAP,KAAgB,WAAnB,EAA+B;AAACD,MAAAA,CAAC,GAACC,MAAF;AAAS,KAAzC,MAA8C,IAAG,OAAOC,MAAP,KAAgB,WAAnB,EAA+B;AAACF,MAAAA,CAAC,GAACE,MAAF;AAAS,KAAzC,MAA8C,IAAG,OAAOC,IAAP,KAAc,WAAjB,EAA6B;AAACH,MAAAA,CAAC,GAACG,IAAF;AAAO,KAArC,MAAyC;AAACH,MAAAA,CAAC,GAAC,IAAF;AAAO;;AAAAA,IAAAA,CAAC,CAACI,WAAF,GAAgBT,CAAC,EAAjB;AAAoB;AAAC,CAArU,EAAuU,YAAU;AAAC,MAAIG,MAAJ,EAAWD,MAAX,EAAkBD,OAAlB;AAA0B,SAAQ,YAAU;AAAC,aAASS,CAAT,CAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,eAASC,CAAT,CAAWC,CAAX,EAAaf,CAAb,EAAe;AAAC,YAAG,CAACY,CAAC,CAACG,CAAD,CAAL,EAAS;AAAC,cAAG,CAACJ,CAAC,CAACI,CAAD,CAAL,EAAS;AAAC,gBAAIC,CAAC,GAAC,cAAY,OAAOC,OAAnB,IAA4BA,OAAlC;AAA0C,gBAAG,CAACjB,CAAD,IAAIgB,CAAP,EAAS,OAAOA,CAAC,CAACD,CAAD,EAAG,CAAC,CAAJ,CAAR;AAAe,gBAAGG,CAAH,EAAK,OAAOA,CAAC,CAACH,CAAD,EAAG,CAAC,CAAJ,CAAR;AAAe,gBAAII,CAAC,GAAC,IAAIC,KAAJ,CAAU,yBAAuBL,CAAvB,GAAyB,GAAnC,CAAN;AAA8C,kBAAMI,CAAC,CAACE,IAAF,GAAO,kBAAP,EAA0BF,CAAhC;AAAkC;;AAAA,cAAIG,CAAC,GAACV,CAAC,CAACG,CAAD,CAAD,GAAK;AAACd,YAAAA,OAAO,EAAC;AAAT,WAAX;AAAwBU,UAAAA,CAAC,CAACI,CAAD,CAAD,CAAK,CAAL,EAAQQ,IAAR,CAAaD,CAAC,CAACrB,OAAf,EAAuB,UAASS,CAAT,EAAW;AAAC,gBAAIE,CAAC,GAACD,CAAC,CAACI,CAAD,CAAD,CAAK,CAAL,EAAQL,CAAR,CAAN;AAAiB,mBAAOI,CAAC,CAACF,CAAC,IAAEF,CAAJ,CAAR;AAAe,WAAnE,EAAoEY,CAApE,EAAsEA,CAAC,CAACrB,OAAxE,EAAgFS,CAAhF,EAAkFC,CAAlF,EAAoFC,CAApF,EAAsFC,CAAtF;AAAyF;;AAAA,eAAOD,CAAC,CAACG,CAAD,CAAD,CAAKd,OAAZ;AAAoB;;AAAA,WAAI,IAAIiB,CAAC,GAAC,cAAY,OAAOD,OAAnB,IAA4BA,OAAlC,EAA0CF,CAAC,GAAC,CAAhD,EAAkDA,CAAC,GAACF,CAAC,CAACW,MAAtD,EAA6DT,CAAC,EAA9D,EAAiED,CAAC,CAACD,CAAC,CAACE,CAAD,CAAF,CAAD;;AAAQ,aAAOD,CAAP;AAAS;;AAAA,WAAOJ,CAAP;AAAS,GAAxc,GAA4c;AAAC,OAAE,CAAC,UAASO,OAAT,EAAiBf,MAAjB,EAAwBD,OAAxB,EAAgC;AACt2B,OAAC,UAAUM,MAAV,EAAkBkB,OAAlB,EAA2B;AACxB,YAAI,OAAOtB,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA3C,EAAgD;AAC5CD,UAAAA,MAAM,CAAC,EAAD,EAAKsB,OAAL,CAAN;AACH,SAFD,MAEO,IAAI,OAAOxB,OAAP,KAAmB,WAAvB,EAAoC;AACvCwB,UAAAA,OAAO;AACV,SAFM,MAEA;AACH,cAAIC,GAAG,GAAG;AACNzB,YAAAA,OAAO,EAAE;AADH,WAAV;AAGAwB,UAAAA,OAAO;AACPlB,UAAAA,MAAM,CAACoB,WAAP,GAAqBD,GAAG,CAACzB,OAAzB;AACH;AACJ,OAZD,EAYG,IAZH,EAYS,YAAY;AACjB;;AAEA,YAAI2B,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAC9C,eAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiB,SAAS,CAACR,MAA9B,EAAsCT,CAAC,EAAvC,EAA2C;AACvC,gBAAIkB,MAAM,GAAGD,SAAS,CAACjB,CAAD,CAAtB;;AAEA,iBAAK,IAAImB,GAAT,IAAgBD,MAAhB,EAAwB;AACpB,kBAAIJ,MAAM,CAACM,SAAP,CAAiBC,cAAjB,CAAgCb,IAAhC,CAAqCU,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AACnDH,gBAAAA,MAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AACH;AACJ;AACJ;;AAED,iBAAOH,MAAP;AACH,SAZD;;AAcA,YAAIM,iBAAiB,GAAG;AACpBC,UAAAA,SAAS,EAAE,IADS;AAGpBC,UAAAA,YAAY,EAAE,IAHM;AAIpBC,UAAAA,oBAAoB,EAAE,QAJF;AAMpBC,UAAAA,UAAU,EAAE,GANQ;AAOpBC,UAAAA,eAAe,EAAE,GAPG;AAQpBC,UAAAA,WAAW,EAAE,CARO;AAUpBC,UAAAA,YAAY,EAAE,KAVM;AAWpBC,UAAAA,kBAAkB,EAAE,IAXA;AAYpBC,UAAAA,WAAW,EAAE,IAZO;AAapBC,UAAAA,aAAa,EAAE,IAbK;AAepBC,UAAAA,eAAe,EAAE,IAfG;AAgBpBC,UAAAA,gBAAgB,EAAE,IAhBE;AAiBpBC,UAAAA,cAAc,EAAE,EAjBI;AAmBpBC,UAAAA,oBAAoB,EAAE,IAnBF;AAoBpBC,UAAAA,gBAAgB,EAAE,CApBE;AAsBpBC,UAAAA,kBAAkB,EAAE,IAtBA;AAuBpBC,UAAAA,cAAc,EAAE,iBAvBI;AAyBpBC,UAAAA,wBAAwB,EAAE;AAzBN,SAAxB;;AA4BA,YAAIC,SAAS,GAAG,SAASA,SAAT,CAAmBC,OAAnB,EAA4B;AAExC,eAAKC,EAAL,GAAUD,OAAV;AAEA,eAAKE,IAAL,GAAYrD,MAAM,CAACsD,MAAP,CAAc,KAAKF,EAAL,CAAQG,YAAR,CAAqB,QAArB,CAAd,CAAZ;AACA,eAAKF,IAAL,CAAUG,CAAV,GAAclC,QAAQ,CAAC,EAAD,EAAKS,iBAAL,EAAwB,KAAKsB,IAAL,CAAUG,CAAlC,CAAtB;AAEA,eAAKC,UAAL,GAAkB,IAAlB;AACA,eAAKC,eAAL,GAAuB,CAAvB;AACA,eAAKC,eAAL,GAAuB,KAAKN,IAAL,CAAUO,KAAV,CAAgB1C,MAAhB,IAA0B,KAAKmC,IAAL,CAAUG,CAAV,CAAYrB,UAAZ,GAAyB,KAAKkB,IAAL,CAAUG,CAAV,CAAYnB,WAA/D,CAAvB;AACA,eAAKwB,UAAL,GAAkB,KAAKR,IAAL,CAAUS,KAA5B,CAVwC,CAYxC;;AACA,eAAKC,IAAL,GAAY,CAAZ;AAEA,eAAKC,IAAL;AAEA,iBAAO,IAAP;AACH,SAlBD;;AAoBAd,QAAAA,SAAS,CAACrB,SAAV,CAAoBmC,IAApB,GAA2B,YAAY;AACnC,cAAIC,KAAK,GAAG,IAAZ;;AACA,cAAI,KAAKZ,IAAL,CAAUG,CAAV,CAAYxB,SAAZ,IAAyB,KAAKqB,IAAL,CAAUO,KAAV,CAAgB1C,MAAhB,GAAyB,CAAtD,EAAyD;AACrD,gBAAI,KAAKmC,IAAL,CAAUG,CAAV,CAAYjB,kBAAhB,EAAoC;AAChC2B,cAAAA,UAAU,CAAC,YAAY;AACnBC,gBAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACZ,IAAN,CAAWgB,KAA1B,EAAiC,eAAjC;AACH,eAFS,EAEP,GAFO,CAAV;AAGH;;AAED,gBAAI,KAAKhB,IAAL,CAAUG,CAAV,CAAYf,aAAhB,EAA+B;AAC3B0B,cAAAA,KAAK,CAACC,QAAN,CAAe,KAAKf,IAAL,CAAUgB,KAAzB,EAAgC,oBAAhC;AACH;;AAED,iBAAKC,KAAL;;AACA,gBAAI,KAAKjB,IAAL,CAAUG,CAAV,CAAYvB,YAAhB,EAA8B;AAC1B,kBAAI,KAAKoB,IAAL,CAAUG,CAAV,CAAYd,eAAZ,IAA+B,CAAC,KAAKW,IAAL,CAAUkB,OAA1C,IAAqD,KAAKlB,IAAL,CAAUmB,KAAV,EAAzD,EAA4E;AACxE,qBAAK9B,eAAL;AACH;;AAED,kBAAI,KAAKW,IAAL,CAAUG,CAAV,CAAYb,gBAAZ,IAAgC,KAAKU,IAAL,CAAUkB,OAA1C,IAAqD,KAAKlB,IAAL,CAAUmB,KAAV,EAAzD,EAA4E;AACxE,qBAAK7B,gBAAL;AACH;;AAED,mBAAK8B,cAAL,GAAsB,KAAtB;AACH,aAVD,MAUO;AACH,mBAAKA,cAAL,GAAsB,IAAtB;AACH;;AAED,iBAAKC,MAAL;AACA,iBAAKC,aAAL;AACH;AACJ,SA/BD;;AAiCAzB,QAAAA,SAAS,CAACrB,SAAV,CAAoByC,KAApB,GAA4B,YAAY;AACpC,cAAIL,KAAK,GAAG,IAAZ;;AACA,cAAIW,SAAS,GAAG,EAAhB;AACA,cAAIC,mBAAmB,GAAG,EAA1B;AACA,cAAIC,MAAJ;AACA,cAAIC,IAAI,GAAG,iCAAiC,8BAAjC,GAAkE,QAAlE,GAA6E,QAAxF;;AAEA,kBAAQ,KAAK1B,IAAL,CAAUG,CAAV,CAAYR,cAApB;AACI,iBAAK,iBAAL;AACI6B,cAAAA,mBAAmB,GAAG,KAAtB;AACA;;AACJ,iBAAK,kBAAL;AACIA,cAAAA,mBAAmB,GAAG,SAAtB;AACA;;AACJ,iBAAK,iBAAL;AACIA,cAAAA,mBAAmB,GAAG,QAAtB;AARR;;AAWAV,UAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACZ,IAAN,CAAWgB,KAA1B,EAAiC,cAAjC;;AAEAJ,UAAAA,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiBW,aAAjB,CAA+B,KAA/B,EAAsCC,kBAAtC,CAAyD,WAAzD,EAAsEF,IAAtE;;AAEAd,UAAAA,KAAK,CAACR,UAAN,GAAmBQ,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiBW,aAAjB,CAA+B,iBAA/B,CAAnB;AACAf,UAAAA,KAAK,CAACP,eAAN,GAAwBO,KAAK,CAACR,UAAN,CAAiByB,WAAzC;;AAEA,cAAIjB,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAavB,YAAjB,EAA+B;AAC3BgC,YAAAA,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiBW,aAAjB,CAA+B,WAA/B,EAA4CG,KAA5C,CAAkDC,KAAlD,GAA0DnB,KAAK,CAACN,eAAN,GAAwB,IAAlF;AACAM,YAAAA,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiBW,aAAjB,CAA+B,WAA/B,EAA4CG,KAA5C,CAAkDE,QAAlD,GAA6D,UAA7D;AACH;;AAED,cAAI,KAAKhC,IAAL,CAAUG,CAAV,CAAYvB,YAAhB,EAA8B;AAC1BgC,YAAAA,KAAK,CAACR,UAAN,CAAiB0B,KAAjB,CAAuBG,MAAvB,GAAgCrB,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAapB,eAAb,GAA+B,IAA/D;AACH;;AAED,mBAASmD,QAAT,CAAkBC,GAAlB,EAAuBC,KAAvB,EAA8B3B,KAA9B,EAAqC;AACjC,gBAAI4B,OAAO,GAAGzB,KAAK,CAACZ,IAAN,CAAWqC,OAAX,CAAmBF,GAAnB,EAAwB1B,KAAxB,KAAkC,EAAhD;AACA,gBAAI6B,QAAJ;AACA,gBAAIC,OAAO,GAAG,EAAd;;AAEA,gBAAIF,OAAO,CAACG,OAAR,IAAmBH,OAAO,CAACI,KAA3B,IAAoCJ,OAAO,CAACK,WAAhD,EAA6D;AACzD,kBAAIL,OAAO,CAACG,OAAZ,EAAqB;AACjB,oBAAI5B,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAaX,oBAAjB,EAAuC;AACnC8C,kBAAAA,QAAQ,GAAG,0BAA0BD,OAAO,CAACG,OAAR,CAAgB,CAAhB,CAA1B,GAA+C,GAA/C,GAAqD5B,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAaV,gBAAlE,GAAqF,MAAhG;AACH,iBAFD,MAEO;AACH6C,kBAAAA,QAAQ,GAAGF,KAAX;AACH;AACJ,eAND,MAMO,IAAIC,OAAO,CAACI,KAAZ,EAAmB;AACtB,oBAAI7B,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAaT,kBAAjB,EAAqC;AACjC4C,kBAAAA,QAAQ,GAAG,kCAAkCd,mBAAlC,GAAwD,MAAnE;AACAe,kBAAAA,OAAO,GAAGF,OAAO,CAACI,KAAR,CAAc,CAAd,CAAV;AACH,iBAHD,MAGO;AACHH,kBAAAA,QAAQ,GAAGF,KAAX;AACH;AACJ,eAPM,MAOA,IAAIC,OAAO,CAACK,WAAZ,EAAyB;AAC5B,oBAAI9B,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAaP,wBAAjB,EAA2C;AACvC0C,kBAAAA,QAAQ,GAAG,2CAA2CD,OAAO,CAACK,WAAR,CAAoB,CAApB,CAAtD;AACH,iBAFD,MAEO;AACHJ,kBAAAA,QAAQ,GAAGF,KAAX;AACH;AACJ;AACJ,aArBD,MAqBO;AACHE,cAAAA,QAAQ,GAAGF,KAAX;AACH;;AAEDb,YAAAA,SAAS,IAAI,yBAAyBgB,OAAzB,GAAmC,uCAAnC,GAA6E3B,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAarB,UAA1F,GAAuG,oBAAvG,GAA8H8B,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAanB,WAA3I,GAAyJ,gBAAzJ,GAA4KsD,QAA5K,GAAuL,YAApM;AACAC,YAAAA,OAAO,GAAG,EAAV;AACH;;AAED,cAAI3B,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAawC,OAAjB,EAA0B;AACtB,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhC,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAa0C,SAAb,CAAuBhF,MAA3C,EAAmD+E,CAAC,EAApD,EAAwD;AACpDV,cAAAA,QAAQ,CAACtB,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAa0C,SAAb,CAAuBD,CAAvB,EAA0BT,GAA3B,EAAgCvB,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAa0C,SAAb,CAAuBD,CAAvB,EAA0BR,KAA1D,EAAiEQ,CAAjE,CAAR;AACH;AACJ,WAJD,MAIO;AACH,iBAAK,IAAIxF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwD,KAAK,CAACZ,IAAN,CAAWO,KAAX,CAAiB1C,MAArC,EAA6CT,CAAC,EAA9C,EAAkD;AAC9C,kBAAI,CAACwD,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAalB,YAAlB,EAAgC;AAC5BiD,gBAAAA,QAAQ,CAACtB,KAAK,CAACZ,IAAN,CAAWO,KAAX,CAAiBnD,CAAjB,EAAoB8C,YAApB,CAAiC,MAAjC,KAA4CU,KAAK,CAACZ,IAAN,CAAWO,KAAX,CAAiBnD,CAAjB,EAAoB8C,YAApB,CAAiC,UAAjC,CAA7C,EAA2FU,KAAK,CAACZ,IAAN,CAAWO,KAAX,CAAiBnD,CAAjB,EAAoBuE,aAApB,CAAkC,KAAlC,EAAyCzB,YAAzC,CAAsD,KAAtD,CAA3F,EAAyJ9C,CAAzJ,CAAR;AACH,eAFD,MAEO;AACH8E,gBAAAA,QAAQ,CAACtB,KAAK,CAACZ,IAAN,CAAWO,KAAX,CAAiBnD,CAAjB,EAAoB8C,YAApB,CAAiC,MAAjC,KAA4CU,KAAK,CAACZ,IAAN,CAAWO,KAAX,CAAiBnD,CAAjB,EAAoB8C,YAApB,CAAiC,UAAjC,CAA7C,EAA2FU,KAAK,CAACZ,IAAN,CAAWO,KAAX,CAAiBnD,CAAjB,EAAoB8C,YAApB,CAAiCU,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAalB,YAA9C,CAA3F,EAAwJ7B,CAAxJ,CAAR;AACH;AACJ;AACJ;;AAEDwD,UAAAA,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiBW,aAAjB,CAA+B,WAA/B,EAA4CmB,SAA5C,GAAwDvB,SAAxD;AAEAE,UAAAA,MAAM,GAAGb,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiB+B,gBAAjB,CAAkC,gBAAlC,CAAT;;AAEA,eAAK,IAAI9F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwE,MAAM,CAAC5D,MAA3B,EAAmCZ,CAAC,EAApC,EAAwC;AAEpC;AACA,aAAC,UAAUwD,KAAV,EAAiB;AACd,kBAAIuC,KAAK,GAAGvB,MAAM,CAAChB,KAAD,CAAlB;AACA,kBAAIwC,YAAY,GAAGD,KAAK,CAAC9C,YAAN,CAAmB,eAAnB,CAAnB;;AACA,kBAAI+C,YAAJ,EAAkB;AAEdtG,gBAAAA,MAAM,CAAC,YAAYiE,KAAK,CAACb,EAAN,CAASG,YAAT,CAAsB,QAAtB,CAAZ,GAA8C,EAA9C,GAAmDjD,CAApD,CAAN,GAA+D,UAAUiG,OAAV,EAAmB;AAC9EF,kBAAAA,KAAK,CAACrB,aAAN,CAAoB,KAApB,EAA2BwB,YAA3B,CAAwC,KAAxC,EAA+CD,OAAO,CAAC,CAAD,CAAP,CAAWtC,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAaR,cAAxB,CAA/C;AACH,iBAFD;;AAIA,oBAAIyD,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAF,gBAAAA,MAAM,CAACG,SAAP,GAAmB,WAAnB;AACAH,gBAAAA,MAAM,CAACjB,GAAP,GAAa,kCAAkCc,YAAlC,GAAiD,wBAAjD,GAA4ErC,KAAK,CAACb,EAAN,CAASG,YAAT,CAAsB,QAAtB,CAA5E,GAA8G,EAA9G,GAAmHjD,CAAhI;AACAoG,gBAAAA,QAAQ,CAACG,IAAT,CAAcC,WAAd,CAA0BL,MAA1B;AACH;AACJ,aAdD,EAcGnG,CAdH;AAeH,WAxGmC,CA0GpC;;;AACA6D,UAAAA,KAAK,CAACC,QAAN,CAAeU,MAAM,CAACb,KAAK,CAACZ,IAAN,CAAWS,KAAZ,CAArB,EAAyC,QAAzC;AACAK,UAAAA,KAAK,CAAC4C,EAAN,CAAS9C,KAAK,CAACZ,IAAN,CAAWD,EAApB,EAAwB,oBAAxB,EAA8C,YAAY;AAEtD,iBAAK,IAAI6C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnB,MAAM,CAAC5D,MAA3B,EAAmC+E,CAAC,EAApC,EAAwC;AACpC9B,cAAAA,KAAK,CAAC6C,WAAN,CAAkBlC,MAAM,CAACmB,CAAD,CAAxB,EAA6B,QAA7B;AACH;;AAED9B,YAAAA,KAAK,CAACC,QAAN,CAAeU,MAAM,CAACb,KAAK,CAACZ,IAAN,CAAWS,KAAZ,CAArB,EAAyC,QAAzC;AACH,WAPD;;AASA,eAAK,IAAImD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnC,MAAM,CAAC5D,MAA3B,EAAmC+F,CAAC,EAApC,EAAwC;AAEpC;AACA,aAAC,UAAUnD,KAAV,EAAiB;AAEdK,cAAAA,KAAK,CAAC4C,EAAN,CAASjC,MAAM,CAAChB,KAAD,CAAf,EAAwB,sBAAxB,EAAgD,YAAY;AAExDI,gBAAAA,UAAU,CAAC,YAAY;AAEnB;AACA;AACA,sBAAID,KAAK,CAACQ,cAAN,IAAwB,CAACR,KAAK,CAACZ,IAAN,CAAW6D,MAApC,IAA8C,CAACjD,KAAK,CAACZ,IAAN,CAAWmB,KAAX,EAAnD,EAAuE;AACnEP,oBAAAA,KAAK,CAACZ,IAAN,CAAWS,KAAX,GAAmBA,KAAnB;;AACAG,oBAAAA,KAAK,CAACZ,IAAN,CAAW8D,KAAX,CAAiBlD,KAAK,CAACZ,IAAN,CAAWS,KAA5B,EAAmC,KAAnC,EAA0C,IAA1C;AACH;AACJ,iBARS,EAQP,EARO,CAAV;AASH,eAXD;AAYH,aAdD,EAcGmD,CAdH;AAeH;;AAED9C,UAAAA,KAAK,CAAC4C,EAAN,CAAS9C,KAAK,CAACZ,IAAN,CAAWD,EAApB,EAAwB,oBAAxB,EAA8C,YAAY;AACtDa,YAAAA,KAAK,CAAChC,YAAN,CAAmBgC,KAAK,CAACZ,IAAN,CAAWS,KAA9B;AACH,WAFD;AAIAK,UAAAA,KAAK,CAAC4C,EAAN,CAAS/G,MAAT,EAAiB,0CAAjB,EAA6D,YAAY;AACrEkE,YAAAA,UAAU,CAAC,YAAY;AACnBD,cAAAA,KAAK,CAAChC,YAAN,CAAmBgC,KAAK,CAACZ,IAAN,CAAWS,KAA9B;;AACAG,cAAAA,KAAK,CAACP,eAAN,GAAwBO,KAAK,CAACR,UAAN,CAAiByB,WAAzC;AACH,aAHS,EAGP,GAHO,CAAV;AAIH,WALD;AAMH,SAnJD;;AAqJAhC,QAAAA,SAAS,CAACrB,SAAV,CAAoBuF,YAApB,GAAmC,UAAUC,KAAV,EAAiB;AAChDlD,UAAAA,KAAK,CAACmD,SAAN,CAAgB,KAAKjE,IAAL,CAAUgB,KAAV,CAAgBW,aAAhB,CAA8B,WAA9B,CAAhB,EAA4D,WAA5D,EAAyE,kBAAkBqC,KAAlB,GAA0B,eAAnG;AACH,SAFD;;AAIAnE,QAAAA,SAAS,CAACrB,SAAV,CAAoBI,YAApB,GAAmC,UAAU6B,KAAV,EAAiB;AAChD,cAAIgB,MAAM,GAAG,KAAKzB,IAAL,CAAUgB,KAAV,CAAgBW,aAAhB,CAA8B,WAA9B,CAAb;;AACA,cAAI,KAAK3B,IAAL,CAAUG,CAAV,CAAYvB,YAAhB,EAA8B;AAC1B,gBAAIoD,QAAJ;;AACA,oBAAQ,KAAKhC,IAAL,CAAUG,CAAV,CAAYtB,oBAApB;AACI,mBAAK,MAAL;AACImD,gBAAAA,QAAQ,GAAG,CAAX;AACA;;AACJ,mBAAK,QAAL;AACIA,gBAAAA,QAAQ,GAAG,KAAK3B,eAAL,GAAuB,CAAvB,GAA2B,KAAKL,IAAL,CAAUG,CAAV,CAAYrB,UAAZ,GAAyB,CAA/D;AACA;;AACJ,mBAAK,OAAL;AACIkD,gBAAAA,QAAQ,GAAG,KAAK3B,eAAL,GAAuB,KAAKL,IAAL,CAAUG,CAAV,CAAYrB,UAA9C;AARR;;AAUA,iBAAK4B,IAAL,GAAY,CAAC,KAAKV,IAAL,CAAUG,CAAV,CAAYrB,UAAZ,GAAyB,KAAKkB,IAAL,CAAUG,CAAV,CAAYnB,WAAtC,IAAqDyB,KAArD,GAA6D,CAA7D,GAAiEuB,QAA7E;;AACA,gBAAI,KAAKtB,IAAL,GAAY,KAAKJ,eAAL,GAAuB,KAAKD,eAA5C,EAA6D;AACzD,mBAAKK,IAAL,GAAY,KAAKJ,eAAL,GAAuB,KAAKD,eAAxC;AACH;;AAED,gBAAI,KAAKK,IAAL,GAAY,CAAhB,EAAmB;AACf,mBAAKA,IAAL,GAAY,CAAZ;AACH;;AAED,gBAAI,KAAKV,IAAL,CAAUkE,UAAd,EAA0B;AACtB,kBAAI,CAACpD,KAAK,CAACqD,QAAN,CAAe1C,MAAf,EAAuB,IAAvB,CAAL,EAAmC;AAC/BX,gBAAAA,KAAK,CAACmD,SAAN,CAAgB,KAAKjE,IAAL,CAAUgB,KAAV,CAAgBW,aAAhB,CAA8B,WAA9B,CAAhB,EAA4D,oBAA5D,EAAkF,KAAK3B,IAAL,CAAUG,CAAV,CAAYiE,KAAZ,GAAoB,IAAtG;AACH;;AAED,kBAAI,CAAC,KAAKpE,IAAL,CAAUmB,KAAV,EAAL,EAAwB;AACpBM,gBAAAA,MAAM,CAACK,KAAP,CAAapB,IAAb,GAAoB,CAAC,KAAKA,IAAN,GAAa,IAAjC;AACH;AACJ,aARD,MAQO;AACH,kBAAI,CAAC,KAAKV,IAAL,CAAUmB,KAAV,EAAL,EAAwB;AACpBM,gBAAAA,MAAM,CAACK,KAAP,CAAapB,IAAb,GAAoB,CAAC,KAAKA,IAAN,GAAa,IAAjC;AACH;AACJ;;AAED,iBAAKqD,YAAL,CAAkB,KAAKrD,IAAvB;AACH;AACJ,SAvCD,CA3PiB,CAoSjB;;;AACAb,QAAAA,SAAS,CAACrB,SAAV,CAAoBa,eAApB,GAAsC,YAAY;AAE9C,cAAIuB,KAAK,GAAG,IAAZ;;AACA,cAAIyD,WAAW,GAAG,CAAlB;AACA,cAAIC,SAAS,GAAG,CAAhB;AACA,cAAIC,SAAS,GAAG,KAAhB;AACA,cAAIC,OAAO,GAAG,KAAd;AACA,cAAIC,QAAQ,GAAG,CAAf;AAEA3D,UAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACR,UAArB,EAAiC,SAAjC;AAEAU,UAAAA,KAAK,CAAC4C,EAAN,CAAS9C,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiBW,aAAjB,CAA+B,WAA/B,CAAT,EAAsD,mBAAtD,EAA2E,UAAU3E,CAAV,EAAa;AACpF,gBAAI4D,KAAK,CAACN,eAAN,GAAwBM,KAAK,CAACP,eAAlC,EAAmD;AAC/C;AACArD,cAAAA,CAAC,CAAC0H,cAAF;AACAL,cAAAA,WAAW,GAAGrH,CAAC,CAAC2H,KAAhB;AACAJ,cAAAA,SAAS,GAAG,IAAZ,CAJ+C,CAM/C;;AACA3D,cAAAA,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiB4D,UAAjB,IAA+B,CAA/B;AACAhE,cAAAA,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiB4D,UAAjB,IAA+B,CAA/B,CAR+C,CAU/C;;AACAhE,cAAAA,KAAK,CAACQ,cAAN,GAAuB,KAAvB;AACAN,cAAAA,KAAK,CAAC6C,WAAN,CAAkB/C,KAAK,CAACR,UAAxB,EAAoC,SAApC;AACAU,cAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACR,UAArB,EAAiC,aAAjC;AACH;AACJ,WAhBD;AAkBAU,UAAAA,KAAK,CAAC4C,EAAN,CAAS/G,MAAT,EAAiB,mBAAjB,EAAsC,UAAUK,CAAV,EAAa;AAC/C,gBAAIuH,SAAJ,EAAe;AACXE,cAAAA,QAAQ,GAAG7D,KAAK,CAACF,IAAjB;AACA8D,cAAAA,OAAO,GAAG,IAAV;AACAF,cAAAA,SAAS,GAAGtH,CAAC,CAAC2H,KAAd;AAEA7D,cAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACR,UAArB,EAAiC,aAAjC;AAEAqE,cAAAA,QAAQ,GAAGA,QAAQ,IAAIH,SAAS,GAAGD,WAAhB,CAAnB;;AAEA,kBAAII,QAAQ,GAAG7D,KAAK,CAACN,eAAN,GAAwBM,KAAK,CAACP,eAA7C,EAA8D;AAC1DoE,gBAAAA,QAAQ,GAAG7D,KAAK,CAACN,eAAN,GAAwBM,KAAK,CAACP,eAAzC;AACH;;AAED,kBAAIoE,QAAQ,GAAG,CAAf,EAAkB;AACdA,gBAAAA,QAAQ,GAAG,CAAX;AACH,eAfU,CAiBX;;;AACA7D,cAAAA,KAAK,CAACmD,YAAN,CAAmBU,QAAnB;AACH;AACJ,WArBD;AAuBA3D,UAAAA,KAAK,CAAC4C,EAAN,CAAS/G,MAAT,EAAiB,iBAAjB,EAAoC,YAAY;AAC5C,gBAAI6H,OAAJ,EAAa;AACTA,cAAAA,OAAO,GAAG,KAAV;AACA1D,cAAAA,KAAK,CAAC6C,WAAN,CAAkB/C,KAAK,CAACR,UAAxB,EAAoC,aAApC;AAEAQ,cAAAA,KAAK,CAACF,IAAN,GAAa+D,QAAb;;AAEA,kBAAII,IAAI,CAACC,GAAL,CAASR,SAAS,GAAGD,WAArB,IAAoCzD,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAaZ,cAArD,EAAqE;AACjEqB,gBAAAA,KAAK,CAACQ,cAAN,GAAuB,IAAvB;AACH;AACJ,aATD,MASO;AACHR,cAAAA,KAAK,CAACQ,cAAN,GAAuB,IAAvB;AACH;;AAED,gBAAImD,SAAJ,EAAe;AACXA,cAAAA,SAAS,GAAG,KAAZ;AACAzD,cAAAA,KAAK,CAAC6C,WAAN,CAAkB/C,KAAK,CAACR,UAAxB,EAAoC,aAApC;AACAU,cAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACR,UAArB,EAAiC,SAAjC;AACH;AACJ,WAnBD;AAoBH,SAxED;;AA0EAP,QAAAA,SAAS,CAACrB,SAAV,CAAoBc,gBAApB,GAAuC,YAAY;AAC/C,cAAIsB,KAAK,GAAG,IAAZ;;AACA,cAAIyD,WAAW,GAAG,CAAlB;AACA,cAAIC,SAAS,GAAG,CAAhB;AACA,cAAIE,OAAO,GAAG,KAAd;AACA,cAAIC,QAAQ,GAAG,CAAf;AAEA3D,UAAAA,KAAK,CAAC4C,EAAN,CAAS9C,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiBW,aAAjB,CAA+B,WAA/B,CAAT,EAAsD,eAAtD,EAAuE,UAAU3E,CAAV,EAAa;AAChF,gBAAI4D,KAAK,CAACN,eAAN,GAAwBM,KAAK,CAACP,eAAlC,EAAmD;AAC/CrD,cAAAA,CAAC,CAAC0H,cAAF;AACAL,cAAAA,WAAW,GAAGrH,CAAC,CAAC+H,aAAF,CAAgB,CAAhB,EAAmBJ,KAAjC;AACA/D,cAAAA,KAAK,CAACQ,cAAN,GAAuB,KAAvB;AACH;AACJ,WAND;AAQAN,UAAAA,KAAK,CAAC4C,EAAN,CAAS9C,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiBW,aAAjB,CAA+B,WAA/B,CAAT,EAAsD,cAAtD,EAAsE,UAAU3E,CAAV,EAAa;AAC/E,gBAAI4D,KAAK,CAACN,eAAN,GAAwBM,KAAK,CAACP,eAAlC,EAAmD;AAC/CrD,cAAAA,CAAC,CAAC0H,cAAF;AACAJ,cAAAA,SAAS,GAAGtH,CAAC,CAAC+H,aAAF,CAAgB,CAAhB,EAAmBJ,KAA/B;AACAH,cAAAA,OAAO,GAAG,IAAV;AAEA1D,cAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACR,UAArB,EAAiC,aAAjC;AAEAqE,cAAAA,QAAQ,GAAG7D,KAAK,CAACF,IAAjB;AAEA+D,cAAAA,QAAQ,GAAGA,QAAQ,IAAIH,SAAS,GAAGD,WAAhB,CAAnB;;AAEA,kBAAII,QAAQ,GAAG7D,KAAK,CAACN,eAAN,GAAwBM,KAAK,CAACP,eAA7C,EAA8D;AAC1DoE,gBAAAA,QAAQ,GAAG7D,KAAK,CAACN,eAAN,GAAwBM,KAAK,CAACP,eAAzC;AACH;;AAED,kBAAIoE,QAAQ,GAAG,CAAf,EAAkB;AACdA,gBAAAA,QAAQ,GAAG,CAAX;AACH,eAjB8C,CAmB/C;;;AACA7D,cAAAA,KAAK,CAACmD,YAAN,CAAmBU,QAAnB;AACH;AACJ,WAvBD;AAyBA3D,UAAAA,KAAK,CAAC4C,EAAN,CAAS9C,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiBW,aAAjB,CAA+B,WAA/B,CAAT,EAAsD,aAAtD,EAAqE,YAAY;AAC7E,gBAAIf,KAAK,CAACN,eAAN,GAAwBM,KAAK,CAACP,eAAlC,EAAmD;AAE/C,kBAAImE,OAAJ,EAAa;AACTA,gBAAAA,OAAO,GAAG,KAAV;AACA1D,gBAAAA,KAAK,CAAC6C,WAAN,CAAkB/C,KAAK,CAACR,UAAxB,EAAoC,aAApC;;AACA,oBAAIyE,IAAI,CAACC,GAAL,CAASR,SAAS,GAAGD,WAArB,IAAoCzD,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAaZ,cAArD,EAAqE;AACjEqB,kBAAAA,KAAK,CAACQ,cAAN,GAAuB,IAAvB;AACH;;AAEDR,gBAAAA,KAAK,CAACF,IAAN,GAAa+D,QAAb;AACH,eARD,MAQO;AACH7D,gBAAAA,KAAK,CAACQ,cAAN,GAAuB,IAAvB;AACH;AACJ,aAbD,MAaO;AACHR,cAAAA,KAAK,CAACQ,cAAN,GAAuB,IAAvB;AACH;AACJ,WAjBD;AAkBH,SA1DD;;AA4DAvB,QAAAA,SAAS,CAACrB,SAAV,CAAoB6C,MAApB,GAA6B,YAAY;AACrC,cAAIT,KAAK,GAAG,IAAZ;;AACA,cAAIA,KAAK,CAACZ,IAAN,CAAWG,CAAX,CAAahB,WAAjB,EAA8B;AAC1B2B,YAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACZ,IAAN,CAAWgB,KAA1B,EAAiC,eAAjC;;AACAJ,YAAAA,KAAK,CAACR,UAAN,CAAiBwB,kBAAjB,CAAoC,WAApC,EAAiD,kFAAjD;;AACAd,YAAAA,KAAK,CAAC4C,EAAN,CAAS9C,KAAK,CAACZ,IAAN,CAAWgB,KAAX,CAAiBW,aAAjB,CAA+B,kBAA/B,CAAT,EAA6D,UAA7D,EAAyE,YAAY;AACjF,kBAAIb,KAAK,CAACqD,QAAN,CAAevD,KAAK,CAACZ,IAAN,CAAWgB,KAA1B,EAAiC,eAAjC,CAAJ,EAAuD;AACnDF,gBAAAA,KAAK,CAAC6C,WAAN,CAAkB/C,KAAK,CAACZ,IAAN,CAAWgB,KAA7B,EAAoC,eAApC;AACH,eAFD,MAEO;AACHF,gBAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACZ,IAAN,CAAWgB,KAA1B,EAAiC,eAAjC;AACH;AACJ,aAND;AAOH;AACJ,SAbD;;AAeAnB,QAAAA,SAAS,CAACrB,SAAV,CAAoB8C,aAApB,GAAoC,YAAY;AAC5C,cAAIV,KAAK,GAAG,IAAZ;;AACAE,UAAAA,KAAK,CAAC4C,EAAN,CAAS/G,MAAT,EAAiB,iBAAjB,EAAoC,UAAUK,CAAV,EAAa;AAC7C,gBAAIA,CAAC,CAACgI,OAAF,KAAc,EAAlB,EAAsB;AAClBhI,cAAAA,CAAC,CAAC0H,cAAF;AACA5D,cAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACZ,IAAN,CAAWgB,KAA1B,EAAiC,eAAjC;AACH,aAHD,MAGO,IAAIhE,CAAC,CAACgI,OAAF,KAAc,EAAlB,EAAsB;AACzBhI,cAAAA,CAAC,CAAC0H,cAAF;AACA5D,cAAAA,KAAK,CAAC6C,WAAN,CAAkB/C,KAAK,CAACZ,IAAN,CAAWgB,KAA7B,EAAoC,eAApC;AACH;AACJ,WARD;AASH,SAXD;;AAaAnB,QAAAA,SAAS,CAACrB,SAAV,CAAoByG,OAApB,GAA8B,UAAUC,CAAV,EAAa;AACvC,cAAI,KAAKlF,IAAL,CAAUG,CAAV,CAAYxB,SAAZ,IAAyB,KAAKqB,IAAL,CAAUO,KAAV,CAAgB1C,MAAhB,GAAyB,CAAtD,EAAyD;AACrDiD,YAAAA,KAAK,CAACqE,GAAN,CAAUxI,MAAV,EAAkB,UAAlB;;AACA,gBAAI,CAACuI,CAAL,EAAQ;AACJ,mBAAK9E,UAAL,CAAgBgF,UAAhB,CAA2BC,WAA3B,CAAuC,KAAKjF,UAA5C;AACH;;AACDU,YAAAA,KAAK,CAAC6C,WAAN,CAAkB,KAAK3D,IAAL,CAAUgB,KAA5B,EAAmC,cAAnC;AAEA,gBAAIsE,QAAQ,GAAGjC,QAAQ,CAACkC,sBAAT,CAAgC,WAAhC,CAAf;;AACA,mBAAOD,QAAQ,CAAC,CAAD,CAAf,EAAoB;AAChBA,cAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYF,UAAZ,CAAuBC,WAAvB,CAAmCC,QAAQ,CAAC,CAAD,CAA3C;AACH;AACJ;AACJ,SAbD;;AAeA3I,QAAAA,MAAM,CAAC6I,SAAP,CAAiB7G,SAAjB,GAA6BkB,SAA7B;AACH,OAneD;AAqeC,KAteo0B,EAsen0B,EAtem0B;AAAH,GAA5c,EAse/W,EAte+W,EAse5W,CAAC,CAAD,CAte4W,EAsevW,CAteuW,CAAP;AAue9W,CAveE","sourcesContent":["/**!\n * lg-thumbnail.js | 1.2.0 | May 20th 2020\n * http://sachinchoolur.github.io/lg-thumbnail.js\n * Copyright (c) 2016 Sachin N; \n * @license GPLv3 \n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.LgThumbnail = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define([], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory();\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory();\n        global.lgThumbnail = mod.exports;\n    }\n})(this, function () {\n    'use strict';\n\n    var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n\n        return target;\n    };\n\n    var thumbnailDefaults = {\n        thumbnail: true,\n\n        animateThumb: true,\n        currentPagerPosition: 'middle',\n\n        thumbWidth: 100,\n        thumbContHeight: 100,\n        thumbMargin: 5,\n\n        exThumbImage: false,\n        showThumbByDefault: true,\n        toggleThumb: true,\n        pullCaptionUp: true,\n\n        enableThumbDrag: true,\n        enableThumbSwipe: true,\n        swipeThreshold: 50,\n\n        loadYoutubeThumbnail: true,\n        youtubeThumbSize: 1,\n\n        loadVimeoThumbnail: true,\n        vimeoThumbSize: 'thumbnail_small',\n\n        loadDailymotionThumbnail: true\n    };\n\n    var Thumbnail = function Thumbnail(element) {\n\n        this.el = element;\n\n        this.core = window.lgData[this.el.getAttribute('lg-uid')];\n        this.core.s = _extends({}, thumbnailDefaults, this.core.s);\n\n        this.thumbOuter = null;\n        this.thumbOuterWidth = 0;\n        this.thumbTotalWidth = this.core.items.length * (this.core.s.thumbWidth + this.core.s.thumbMargin);\n        this.thumbIndex = this.core.index;\n\n        // Thumbnail animation value\n        this.left = 0;\n\n        this.init();\n\n        return this;\n    };\n\n    Thumbnail.prototype.init = function () {\n        var _this = this;\n        if (this.core.s.thumbnail && this.core.items.length > 1) {\n            if (this.core.s.showThumbByDefault) {\n                setTimeout(function () {\n                    utils.addClass(_this.core.outer, 'lg-thumb-open');\n                }, 700);\n            }\n\n            if (this.core.s.pullCaptionUp) {\n                utils.addClass(this.core.outer, 'lg-pull-caption-up');\n            }\n\n            this.build();\n            if (this.core.s.animateThumb) {\n                if (this.core.s.enableThumbDrag && !this.core.isTouch && this.core.doCss()) {\n                    this.enableThumbDrag();\n                }\n\n                if (this.core.s.enableThumbSwipe && this.core.isTouch && this.core.doCss()) {\n                    this.enableThumbSwipe();\n                }\n\n                this.thumbClickable = false;\n            } else {\n                this.thumbClickable = true;\n            }\n\n            this.toggle();\n            this.thumbkeyPress();\n        }\n    };\n\n    Thumbnail.prototype.build = function () {\n        var _this = this;\n        var thumbList = '';\n        var vimeoErrorThumbSize = '';\n        var $thumb;\n        var html = '<div class=\"lg-thumb-outer\">' + '<div class=\"lg-thumb group\">' + '</div>' + '</div>';\n\n        switch (this.core.s.vimeoThumbSize) {\n            case 'thumbnail_large':\n                vimeoErrorThumbSize = '640';\n                break;\n            case 'thumbnail_medium':\n                vimeoErrorThumbSize = '200x150';\n                break;\n            case 'thumbnail_small':\n                vimeoErrorThumbSize = '100x75';\n        }\n\n        utils.addClass(_this.core.outer, 'lg-has-thumb');\n\n        _this.core.outer.querySelector('.lg').insertAdjacentHTML('beforeend', html);\n\n        _this.thumbOuter = _this.core.outer.querySelector('.lg-thumb-outer');\n        _this.thumbOuterWidth = _this.thumbOuter.offsetWidth;\n\n        if (_this.core.s.animateThumb) {\n            _this.core.outer.querySelector('.lg-thumb').style.width = _this.thumbTotalWidth + 'px';\n            _this.core.outer.querySelector('.lg-thumb').style.position = 'relative';\n        }\n\n        if (this.core.s.animateThumb) {\n            _this.thumbOuter.style.height = _this.core.s.thumbContHeight + 'px';\n        }\n\n        function getThumb(src, thumb, index) {\n            var isVideo = _this.core.isVideo(src, index) || {};\n            var thumbImg;\n            var vimeoId = '';\n\n            if (isVideo.youtube || isVideo.vimeo || isVideo.dailymotion) {\n                if (isVideo.youtube) {\n                    if (_this.core.s.loadYoutubeThumbnail) {\n                        thumbImg = '//img.youtube.com/vi/' + isVideo.youtube[1] + '/' + _this.core.s.youtubeThumbSize + '.jpg';\n                    } else {\n                        thumbImg = thumb;\n                    }\n                } else if (isVideo.vimeo) {\n                    if (_this.core.s.loadVimeoThumbnail) {\n                        thumbImg = '//i.vimeocdn.com/video/error_' + vimeoErrorThumbSize + '.jpg';\n                        vimeoId = isVideo.vimeo[1];\n                    } else {\n                        thumbImg = thumb;\n                    }\n                } else if (isVideo.dailymotion) {\n                    if (_this.core.s.loadDailymotionThumbnail) {\n                        thumbImg = '//www.dailymotion.com/thumbnail/video/' + isVideo.dailymotion[1];\n                    } else {\n                        thumbImg = thumb;\n                    }\n                }\n            } else {\n                thumbImg = thumb;\n            }\n\n            thumbList += '<div data-vimeo-id=\"' + vimeoId + '\" class=\"lg-thumb-item\" style=\"width:' + _this.core.s.thumbWidth + 'px; margin-right: ' + _this.core.s.thumbMargin + 'px\"><img src=\"' + thumbImg + '\" /></div>';\n            vimeoId = '';\n        }\n\n        if (_this.core.s.dynamic) {\n            for (var j = 0; j < _this.core.s.dynamicEl.length; j++) {\n                getThumb(_this.core.s.dynamicEl[j].src, _this.core.s.dynamicEl[j].thumb, j);\n            }\n        } else {\n            for (var i = 0; i < _this.core.items.length; i++) {\n                if (!_this.core.s.exThumbImage) {\n                    getThumb(_this.core.items[i].getAttribute('href') || _this.core.items[i].getAttribute('data-src'), _this.core.items[i].querySelector('img').getAttribute('src'), i);\n                } else {\n                    getThumb(_this.core.items[i].getAttribute('href') || _this.core.items[i].getAttribute('data-src'), _this.core.items[i].getAttribute(_this.core.s.exThumbImage), i);\n                }\n            }\n        }\n\n        _this.core.outer.querySelector('.lg-thumb').innerHTML = thumbList;\n\n        $thumb = _this.core.outer.querySelectorAll('.lg-thumb-item');\n\n        for (var n = 0; n < $thumb.length; n++) {\n\n            /*jshint loopfunc: true */\n            (function (index) {\n                var $this = $thumb[index];\n                var vimeoVideoId = $this.getAttribute('data-vimeo-id');\n                if (vimeoVideoId) {\n\n                    window['lgJsonP' + _this.el.getAttribute('lg-uid') + '' + n] = function (content) {\n                        $this.querySelector('img').setAttribute('src', content[0][_this.core.s.vimeoThumbSize]);\n                    };\n\n                    var script = document.createElement('script');\n                    script.className = 'lg-script';\n                    script.src = '//www.vimeo.com/api/v2/video/' + vimeoVideoId + '.json?callback=lgJsonP' + _this.el.getAttribute('lg-uid') + '' + n;\n                    document.body.appendChild(script);\n                }\n            })(n);\n        }\n\n        // manage active class for thumbnail\n        utils.addClass($thumb[_this.core.index], 'active');\n        utils.on(_this.core.el, 'onBeforeSlide.lgtm', function () {\n\n            for (var j = 0; j < $thumb.length; j++) {\n                utils.removeClass($thumb[j], 'active');\n            }\n\n            utils.addClass($thumb[_this.core.index], 'active');\n        });\n\n        for (var k = 0; k < $thumb.length; k++) {\n\n            /*jshint loopfunc: true */\n            (function (index) {\n\n                utils.on($thumb[index], 'click.lg touchend.lg', function () {\n\n                    setTimeout(function () {\n\n                        // In IE9 and bellow touch does not support\n                        // Go to slide if browser does not support css transitions\n                        if (_this.thumbClickable && !_this.core.lgBusy || !_this.core.doCss()) {\n                            _this.core.index = index;\n                            _this.core.slide(_this.core.index, false, true);\n                        }\n                    }, 50);\n                });\n            })(k);\n        }\n\n        utils.on(_this.core.el, 'onBeforeSlide.lgtm', function () {\n            _this.animateThumb(_this.core.index);\n        });\n\n        utils.on(window, 'resize.lgthumb orientationchange.lgthumb', function () {\n            setTimeout(function () {\n                _this.animateThumb(_this.core.index);\n                _this.thumbOuterWidth = _this.thumbOuter.offsetWidth;\n            }, 200);\n        });\n    };\n\n    Thumbnail.prototype.setTranslate = function (value) {\n        utils.setVendor(this.core.outer.querySelector('.lg-thumb'), 'Transform', 'translate3d(-' + value + 'px, 0px, 0px)');\n    };\n\n    Thumbnail.prototype.animateThumb = function (index) {\n        var $thumb = this.core.outer.querySelector('.lg-thumb');\n        if (this.core.s.animateThumb) {\n            var position;\n            switch (this.core.s.currentPagerPosition) {\n                case 'left':\n                    position = 0;\n                    break;\n                case 'middle':\n                    position = this.thumbOuterWidth / 2 - this.core.s.thumbWidth / 2;\n                    break;\n                case 'right':\n                    position = this.thumbOuterWidth - this.core.s.thumbWidth;\n            }\n            this.left = (this.core.s.thumbWidth + this.core.s.thumbMargin) * index - 1 - position;\n            if (this.left > this.thumbTotalWidth - this.thumbOuterWidth) {\n                this.left = this.thumbTotalWidth - this.thumbOuterWidth;\n            }\n\n            if (this.left < 0) {\n                this.left = 0;\n            }\n\n            if (this.core.lGalleryOn) {\n                if (!utils.hasClass($thumb, 'on')) {\n                    utils.setVendor(this.core.outer.querySelector('.lg-thumb'), 'TransitionDuration', this.core.s.speed + 'ms');\n                }\n\n                if (!this.core.doCss()) {\n                    $thumb.style.left = -this.left + 'px';\n                }\n            } else {\n                if (!this.core.doCss()) {\n                    $thumb.style.left = -this.left + 'px';\n                }\n            }\n\n            this.setTranslate(this.left);\n        }\n    };\n\n    // Enable thumbnail dragging and swiping\n    Thumbnail.prototype.enableThumbDrag = function () {\n\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isDraging = false;\n        var isMoved = false;\n        var tempLeft = 0;\n\n        utils.addClass(_this.thumbOuter, 'lg-grab');\n\n        utils.on(_this.core.outer.querySelector('.lg-thumb'), 'mousedown.lgthumb', function (e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n                // execute only on .lg-object\n                e.preventDefault();\n                startCoords = e.pageX;\n                isDraging = true;\n\n                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                _this.core.outer.scrollLeft += 1;\n                _this.core.outer.scrollLeft -= 1;\n\n                // *\n                _this.thumbClickable = false;\n                utils.removeClass(_this.thumbOuter, 'lg-grab');\n                utils.addClass(_this.thumbOuter, 'lg-grabbing');\n            }\n        });\n\n        utils.on(window, 'mousemove.lgthumb', function (e) {\n            if (isDraging) {\n                tempLeft = _this.left;\n                isMoved = true;\n                endCoords = e.pageX;\n\n                utils.addClass(_this.thumbOuter, 'lg-dragging');\n\n                tempLeft = tempLeft - (endCoords - startCoords);\n\n                if (tempLeft > _this.thumbTotalWidth - _this.thumbOuterWidth) {\n                    tempLeft = _this.thumbTotalWidth - _this.thumbOuterWidth;\n                }\n\n                if (tempLeft < 0) {\n                    tempLeft = 0;\n                }\n\n                // move current slide\n                _this.setTranslate(tempLeft);\n            }\n        });\n\n        utils.on(window, 'mouseup.lgthumb', function () {\n            if (isMoved) {\n                isMoved = false;\n                utils.removeClass(_this.thumbOuter, 'lg-dragging');\n\n                _this.left = tempLeft;\n\n                if (Math.abs(endCoords - startCoords) < _this.core.s.swipeThreshold) {\n                    _this.thumbClickable = true;\n                }\n            } else {\n                _this.thumbClickable = true;\n            }\n\n            if (isDraging) {\n                isDraging = false;\n                utils.removeClass(_this.thumbOuter, 'lg-grabbing');\n                utils.addClass(_this.thumbOuter, 'lg-grab');\n            }\n        });\n    };\n\n    Thumbnail.prototype.enableThumbSwipe = function () {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isMoved = false;\n        var tempLeft = 0;\n\n        utils.on(_this.core.outer.querySelector('.lg-thumb'), 'touchstart.lg', function (e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n                e.preventDefault();\n                startCoords = e.targetTouches[0].pageX;\n                _this.thumbClickable = false;\n            }\n        });\n\n        utils.on(_this.core.outer.querySelector('.lg-thumb'), 'touchmove.lg', function (e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n                e.preventDefault();\n                endCoords = e.targetTouches[0].pageX;\n                isMoved = true;\n\n                utils.addClass(_this.thumbOuter, 'lg-dragging');\n\n                tempLeft = _this.left;\n\n                tempLeft = tempLeft - (endCoords - startCoords);\n\n                if (tempLeft > _this.thumbTotalWidth - _this.thumbOuterWidth) {\n                    tempLeft = _this.thumbTotalWidth - _this.thumbOuterWidth;\n                }\n\n                if (tempLeft < 0) {\n                    tempLeft = 0;\n                }\n\n                // move current slide\n                _this.setTranslate(tempLeft);\n            }\n        });\n\n        utils.on(_this.core.outer.querySelector('.lg-thumb'), 'touchend.lg', function () {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n\n                if (isMoved) {\n                    isMoved = false;\n                    utils.removeClass(_this.thumbOuter, 'lg-dragging');\n                    if (Math.abs(endCoords - startCoords) < _this.core.s.swipeThreshold) {\n                        _this.thumbClickable = true;\n                    }\n\n                    _this.left = tempLeft;\n                } else {\n                    _this.thumbClickable = true;\n                }\n            } else {\n                _this.thumbClickable = true;\n            }\n        });\n    };\n\n    Thumbnail.prototype.toggle = function () {\n        var _this = this;\n        if (_this.core.s.toggleThumb) {\n            utils.addClass(_this.core.outer, 'lg-can-toggle');\n            _this.thumbOuter.insertAdjacentHTML('beforeend', '<button aria-label=\"Toggle thumbnails\" class=\"lg-toggle-thumb lg-icon\"></button>');\n            utils.on(_this.core.outer.querySelector('.lg-toggle-thumb'), 'click.lg', function () {\n                if (utils.hasClass(_this.core.outer, 'lg-thumb-open')) {\n                    utils.removeClass(_this.core.outer, 'lg-thumb-open');\n                } else {\n                    utils.addClass(_this.core.outer, 'lg-thumb-open');\n                }\n            });\n        }\n    };\n\n    Thumbnail.prototype.thumbkeyPress = function () {\n        var _this = this;\n        utils.on(window, 'keydown.lgthumb', function (e) {\n            if (e.keyCode === 38) {\n                e.preventDefault();\n                utils.addClass(_this.core.outer, 'lg-thumb-open');\n            } else if (e.keyCode === 40) {\n                e.preventDefault();\n                utils.removeClass(_this.core.outer, 'lg-thumb-open');\n            }\n        });\n    };\n\n    Thumbnail.prototype.destroy = function (d) {\n        if (this.core.s.thumbnail && this.core.items.length > 1) {\n            utils.off(window, '.lgthumb');\n            if (!d) {\n                this.thumbOuter.parentNode.removeChild(this.thumbOuter);\n            }\n            utils.removeClass(this.core.outer, 'lg-has-thumb');\n\n            var lgScript = document.getElementsByClassName('lg-script');\n            while (lgScript[0]) {\n                lgScript[0].parentNode.removeChild(lgScript[0]);\n            }\n        }\n    };\n\n    window.lgModules.thumbnail = Thumbnail;\n});\n\n},{}]},{},[1])(1)\n});\n"]},"metadata":{},"sourceType":"script"}