{"ast":null,"code":"/**!\n * lg-zoom.js | 1.3.0 | October 14th 2020\n * http://sachinchoolur.github.io/lg-zoom.js\n * Copyright (c) 2016 Sachin N; \n * @license GPLv3 \n */\n(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n\n    g.LgZoom = f();\n  }\n})(function () {\n  var define, module, exports;\n  return function () {\n    function r(e, n, t) {\n      function o(i, f) {\n        if (!n[i]) {\n          if (!e[i]) {\n            var c = \"function\" == typeof require && require;\n            if (!f && c) return c(i, !0);\n            if (u) return u(i, !0);\n            var a = new Error(\"Cannot find module '\" + i + \"'\");\n            throw a.code = \"MODULE_NOT_FOUND\", a;\n          }\n\n          var p = n[i] = {\n            exports: {}\n          };\n          e[i][0].call(p.exports, function (r) {\n            var n = e[i][1][r];\n            return o(n || r);\n          }, p, p.exports, r, e, n, t);\n        }\n\n        return n[i].exports;\n      }\n\n      for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);\n\n      return o;\n    }\n\n    return r;\n  }()({\n    1: [function (require, module, exports) {\n      (function (global, factory) {\n        if (typeof define === \"function\" && define.amd) {\n          define([], factory);\n        } else if (typeof exports !== \"undefined\") {\n          factory();\n        } else {\n          var mod = {\n            exports: {}\n          };\n          factory();\n          global.lgZoom = mod.exports;\n        }\n      })(this, function () {\n        'use strict';\n\n        var _extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }\n\n          return target;\n        };\n\n        var getUseLeft = function getUseLeft() {\n          var useLeft = false;\n          var isChrome = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n\n          if (isChrome && parseInt(isChrome[2], 10) < 54) {\n            useLeft = true;\n          }\n\n          return useLeft;\n        };\n\n        var zoomDefaults = {\n          scale: 1,\n          zoom: true,\n          actualSize: true,\n          enableZoomAfter: 300,\n          useLeftForZoom: getUseLeft()\n        };\n\n        var Zoom = function Zoom(element) {\n          this.el = element;\n          this.core = window.lgData[this.el.getAttribute('lg-uid')];\n          this.core.s = _extends({}, zoomDefaults, this.core.s);\n\n          if (this.core.s.zoom && this.core.doCss()) {\n            this.init(); // Store the zoomable timeout value just to clear it while closing\n\n            this.zoomabletimeout = false; // Set the initial value center\n\n            this.pageX = window.innerWidth / 2;\n            this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n          }\n\n          return this;\n        };\n\n        Zoom.prototype.init = function () {\n          var _this = this;\n\n          var zoomIcons = '<button type=\"button\" aria-label=\"Zoom in\" id=\"lg-zoom-in\" class=\"lg-icon\"></button><button type=\"button\" aria-label=\"Zoom out\" id=\"lg-zoom-out\" class=\"lg-icon\"></button>';\n\n          if (_this.core.s.actualSize) {\n            zoomIcons += '<button type=\"button\" aria-label=\"Actual size\" id=\"lg-actual-size\" class=\"lg-icon\"></button>';\n          }\n\n          if (_this.core.s.useLeftForZoom) {\n            utils.addClass(_this.core.outer, 'lg-use-left-for-zoom');\n          } else {\n            utils.addClass(_this.core.outer, 'lg-use-transition-for-zoom');\n          }\n\n          this.core.outer.querySelector('.lg-toolbar').insertAdjacentHTML('beforeend', zoomIcons); // Add zoomable class\n\n          utils.on(_this.core.el, 'onSlideItemLoad.lgtmzoom', function (event) {\n            // delay will be 0 except first time\n            var _speed = _this.core.s.enableZoomAfter + event.detail.delay; // set _speed value 0 if gallery opened from direct url and if it is first slide\n\n\n            if (utils.hasClass(document.body, 'lg-from-hash') && event.detail.delay) {\n              // will execute only once\n              _speed = 0;\n            } else {\n              // Remove lg-from-hash to enable starting animation.\n              utils.removeClass(document.body, 'lg-from-hash');\n            }\n\n            _this.zoomabletimeout = setTimeout(function () {\n              utils.addClass(_this.core.___slide[event.detail.index], 'lg-zoomable');\n            }, _speed + 30);\n          });\n          var scale = 1;\n          /**\n           * @desc Image zoom\n           * Translate the wrap and scale the image to get better user experience\n           *\n           * @param {String} scaleVal - Zoom decrement/increment value\n           */\n\n          var zoom = function zoom(scaleVal) {\n            var image = _this.core.outer.querySelector('.lg-current .lg-image');\n\n            var _x;\n\n            var _y; // Find offset manually to avoid issue after zoom\n\n\n            var offsetX = (window.innerWidth - image.clientWidth) / 2;\n            var offsetY = (window.innerHeight - image.clientHeight) / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n            _x = _this.pageX - offsetX;\n            _y = _this.pageY - offsetY;\n            var x = (scaleVal - 1) * _x;\n            var y = (scaleVal - 1) * _y;\n            utils.setVendor(image, 'Transform', 'scale3d(' + scaleVal + ', ' + scaleVal + ', 1)');\n            image.setAttribute('data-scale', scaleVal);\n\n            if (_this.core.s.useLeftForZoom) {\n              image.parentElement.style.left = -x + 'px';\n              image.parentElement.style.top = -y + 'px';\n            } else {\n              utils.setVendor(image.parentElement, 'Transform', 'translate3d(-' + x + 'px, -' + y + 'px, 0)');\n            }\n\n            image.parentElement.setAttribute('data-x', x);\n            image.parentElement.setAttribute('data-y', y);\n          };\n\n          var callScale = function callScale() {\n            if (scale > 1) {\n              utils.addClass(_this.core.outer, 'lg-zoomed');\n            } else {\n              _this.resetZoom();\n            }\n\n            if (scale < 1) {\n              scale = 1;\n            }\n\n            zoom(scale);\n          };\n\n          var actualSize = function actualSize(event, image, index, fromIcon) {\n            var w = image.clientWidth;\n            var nw;\n\n            if (_this.core.s.dynamic) {\n              nw = _this.core.s.dynamicEl[index].width || image.naturalWidth || w;\n            } else {\n              nw = _this.core.items[index].getAttribute('data-width') || image.naturalWidth || w;\n            }\n\n            var _scale;\n\n            if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n              scale = 1;\n            } else {\n              if (nw > w) {\n                _scale = nw / w;\n                scale = _scale || 2;\n              }\n            }\n\n            if (fromIcon) {\n              _this.pageX = window.innerWidth / 2;\n              _this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n            } else {\n              _this.pageX = event.pageX || event.targetTouches[0].pageX;\n              _this.pageY = event.pageY || event.targetTouches[0].pageY;\n            }\n\n            callScale();\n            setTimeout(function () {\n              utils.removeClass(_this.core.outer, 'lg-grabbing');\n              utils.addClass(_this.core.outer, 'lg-grab');\n            }, 10);\n          };\n\n          var tapped = false; // event triggered after appending slide content\n\n          utils.on(_this.core.el, 'onAferAppendSlide.lgtmzoom', function (event) {\n            var index = event.detail.index; // Get the current element\n\n            var image = _this.core.___slide[index].querySelector('.lg-image');\n\n            if (!_this.core.isTouch) {\n              utils.on(image, 'dblclick', function (event) {\n                actualSize(event, image, index);\n              });\n            }\n\n            if (_this.core.isTouch) {\n              utils.on(image, 'touchstart', function (event) {\n                if (!tapped) {\n                  tapped = setTimeout(function () {\n                    tapped = null;\n                  }, 300);\n                } else {\n                  clearTimeout(tapped);\n                  tapped = null;\n                  actualSize(event, image, index);\n                }\n\n                event.preventDefault();\n              });\n            }\n          }); // Update zoom on resize and orientationchange\n\n          utils.on(window, 'resize.lgzoom scroll.lgzoom orientationchange.lgzoom', function () {\n            _this.pageX = window.innerWidth / 2;\n            _this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n            zoom(scale);\n          });\n          utils.on(document.getElementById('lg-zoom-out'), 'click.lg', function () {\n            if (_this.core.outer.querySelector('.lg-current .lg-image')) {\n              scale -= _this.core.s.scale;\n              callScale();\n            }\n          });\n          utils.on(document.getElementById('lg-zoom-in'), 'click.lg', function () {\n            if (_this.core.outer.querySelector('.lg-current .lg-image')) {\n              scale += _this.core.s.scale;\n              callScale();\n            }\n          });\n          utils.on(document.getElementById('lg-actual-size'), 'click.lg', function (event) {\n            actualSize(event, _this.core.___slide[_this.core.index].querySelector('.lg-image'), _this.core.index, true);\n          }); // Reset zoom on slide change\n\n          utils.on(_this.core.el, 'onBeforeSlide.lgtm', function () {\n            scale = 1;\n\n            _this.resetZoom();\n          }); // Drag option after zoom\n\n          if (!_this.core.isTouch) {\n            _this.zoomDrag();\n          }\n\n          if (_this.core.isTouch) {\n            _this.zoomSwipe();\n          }\n        };\n\n        Zoom.prototype.getModifier = function (rotateValue, axis, el) {\n          var originalRotate = rotateValue;\n          rotateValue = Math.abs(rotateValue);\n          var transformValues = this.getCurrentTransform(el);\n\n          if (!transformValues) {\n            return 1;\n          }\n\n          var modifier = 1;\n\n          if (axis === 'X') {\n            var flipHorizontalValue = Math.sign(parseFloat(transformValues[0]));\n\n            if (rotateValue === 0 || rotateValue === 180) {\n              modifier = 1;\n            } else if (rotateValue === 90) {\n              if (originalRotate === -90 && flipHorizontalValue === 1 || originalRotate === 90 && flipHorizontalValue === -1) {\n                modifier = -1;\n              } else {\n                modifier = 1;\n              }\n            }\n\n            modifier = modifier * flipHorizontalValue;\n          } else {\n            var flipVerticalValue = Math.sign(parseFloat(transformValues[3]));\n\n            if (rotateValue === 0 || rotateValue === 180) {\n              modifier = 1;\n            } else if (rotateValue === 90) {\n              var sinX = parseFloat(transformValues[1]);\n              var sinMinusX = parseFloat(transformValues[2]);\n              modifier = Math.sign(sinX * sinMinusX * originalRotate * flipVerticalValue);\n            }\n\n            modifier = modifier * flipVerticalValue;\n          }\n\n          return modifier;\n        };\n\n        Zoom.prototype.getImageSize = function ($image, rotateValue, axis) {\n          var imageSizes = {\n            y: 'offsetHeight',\n            x: 'offsetWidth'\n          };\n\n          if (rotateValue === 90) {\n            // Swap axis \n            if (axis === 'x') {\n              axis = 'y';\n            } else {\n              axis = 'x';\n            }\n          }\n\n          return $image[imageSizes[axis]];\n        };\n\n        Zoom.prototype.getDragCords = function (e, rotateValue) {\n          if (rotateValue === 90) {\n            return {\n              x: e.pageY,\n              y: e.pageX\n            };\n          } else {\n            return {\n              x: e.pageX,\n              y: e.pageY\n            };\n          }\n        };\n\n        Zoom.prototype.getSwipeCords = function (e, rotateValue) {\n          var x = e.targetTouches[0].pageX;\n          var y = e.targetTouches[0].pageY;\n\n          if (rotateValue === 90) {\n            return {\n              x: y,\n              y: x\n            };\n          } else {\n            return {\n              x: x,\n              y: y\n            };\n          }\n        };\n\n        Zoom.prototype.getPossibleDragCords = function ($image, rotateValue) {\n          var minY = (this.core.outer.querySelector('.lg').clientHeight - this.getImageSize($image, rotateValue, 'y')) / 2;\n          var maxY = Math.abs(this.getImageSize($image, rotateValue, 'y') * Math.abs($image.getAttribute('data-scale')) - this.core.outer.querySelector('.lg').clientHeight + minY);\n          var minX = (this.core.outer.querySelector('.lg').clientWidth - this.getImageSize($image, rotateValue, 'x')) / 2;\n          var maxX = Math.abs(this.getImageSize($image, rotateValue, 'x') * Math.abs($image.getAttribute('data-scale')) - this.core.outer.querySelector('.lg').clientWidth + minX);\n\n          if (rotateValue === 90) {\n            return {\n              minY: minX,\n              maxY: maxX,\n              minX: minY,\n              maxX: maxY\n            };\n          } else {\n            return {\n              minY: minY,\n              maxY: maxY,\n              minX: minX,\n              maxX: maxX\n            };\n          }\n        };\n\n        Zoom.prototype.getDragAllowedAxises = function ($image, rotateValue) {\n          var allowY = this.getImageSize($image, rotateValue, 'y') * $image.getAttribute('data-scale') > this.core.outer.querySelector('.lg').clientHeight;\n          var allowX = this.getImageSize($image, rotateValue, 'x') * $image.getAttribute('data-scale') > this.core.outer.querySelector('.lg').clientWidth;\n\n          if (rotateValue === 90) {\n            return {\n              allowX: allowY,\n              allowY: allowX\n            };\n          } else {\n            return {\n              allowX: allowX,\n              allowY: allowY\n            };\n          }\n        };\n        /**\n         * \n         * @param {Element} el \n         * @return matrix(cos(X), sin(X), -sin(X), cos(X), 0, 0);\n         * Get the current transform value\n         */\n\n\n        Zoom.prototype.getCurrentTransform = function (el) {\n          if (!el) {\n            return 0;\n          }\n\n          var st = window.getComputedStyle(el, null);\n          var tm = st.getPropertyValue('-webkit-transform') || st.getPropertyValue('-moz-transform') || st.getPropertyValue('-ms-transform') || st.getPropertyValue('-o-transform') || st.getPropertyValue('transform') || 'none';\n\n          if (tm !== 'none') {\n            return tm.split('(')[1].split(')')[0].split(',');\n          }\n\n          return 0;\n        };\n\n        Zoom.prototype.getCurrentRotation = function (el) {\n          if (!el) {\n            return 0;\n          }\n\n          var values = this.getCurrentTransform(el);\n\n          if (values) {\n            return Math.round(Math.atan2(values[1], values[0]) * (180 / Math.PI)); // If you want rotate in 360\n            //return (angle < 0 ? angle + 360 : angle);\n          }\n\n          return 0;\n        }; // Reset zoom effect\n\n\n        Zoom.prototype.resetZoom = function () {\n          utils.removeClass(this.core.outer, 'lg-zoomed');\n\n          for (var i = 0; i < this.core.___slide.length; i++) {\n            if (this.core.___slide[i].querySelector('.lg-img-wrap')) {\n              this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('style');\n\n              this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('data-x');\n\n              this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('data-y');\n            }\n          }\n\n          for (var j = 0; j < this.core.___slide.length; j++) {\n            if (this.core.___slide[j].querySelector('.lg-image')) {\n              this.core.___slide[j].querySelector('.lg-image').removeAttribute('style');\n\n              this.core.___slide[j].querySelector('.lg-image').removeAttribute('data-scale');\n            }\n          } // Reset pagx pagy values to center\n\n\n          this.pageX = window.innerWidth / 2;\n          this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n        };\n\n        Zoom.prototype.zoomSwipe = function () {\n          var _this = this;\n\n          var startCoords = {};\n          var endCoords = {};\n          var isMoved = false; // Allow x direction drag\n\n          var allowX = false; // Allow Y direction drag\n\n          var allowY = false;\n          var rotateValue = 0;\n          var rotateEl;\n\n          for (var i = 0; i < _this.core.___slide.length; i++) {\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[i], 'touchstart.lg', function (e) {\n              if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                var $image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n\n                rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n                rotateValue = _this.getCurrentRotation(rotateEl);\n\n                var dragAllowedAxises = _this.getDragAllowedAxises($image, Math.abs(rotateValue));\n\n                allowY = dragAllowedAxises.allowY;\n                allowX = dragAllowedAxises.allowX;\n\n                if (allowX || allowY) {\n                  e.preventDefault();\n                  startCoords = _this.getSwipeCords(e, Math.abs(rotateValue));\n                }\n              }\n            });\n          }\n\n          for (var j = 0; j < _this.core.___slide.length; j++) {\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[j], 'touchmove.lg', function (e) {\n              if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n\n                var distanceX;\n                var distanceY;\n                e.preventDefault();\n                isMoved = true;\n                endCoords = _this.getSwipeCords(e, Math.abs(rotateValue)); // reset opacity and transition duration\n\n                utils.addClass(_this.core.outer, 'lg-zoom-dragging');\n\n                if (allowY) {\n                  distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n                } else {\n                  distanceY = -Math.abs(_el.getAttribute('data-y'));\n                }\n\n                if (allowX) {\n                  distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n                } else {\n                  distanceX = -Math.abs(_el.getAttribute('data-x'));\n                }\n\n                if (Math.abs(endCoords.x - startCoords.x) > 15 || Math.abs(endCoords.y - startCoords.y) > 15) {\n                  if (_this.core.s.useLeftForZoom) {\n                    _el.style.left = distanceX + 'px';\n                    _el.style.top = distanceY + 'px';\n                  } else {\n                    utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n                  }\n                }\n              }\n            });\n          }\n\n          for (var k = 0; k < _this.core.___slide.length; k++) {\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[k], 'touchend.lg', function () {\n              if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                if (isMoved) {\n                  isMoved = false;\n                  utils.removeClass(_this.core.outer, 'lg-zoom-dragging');\n\n                  _this.touchendZoom(startCoords, endCoords, allowX, allowY, rotateValue);\n                }\n              }\n            });\n          }\n        };\n\n        Zoom.prototype.zoomDrag = function () {\n          var _this = this;\n\n          var startCoords = {};\n          var endCoords = {};\n          var isDraging = false;\n          var isMoved = false; // Allow x direction drag\n\n          var allowX = false; // Allow Y direction drag\n\n          var allowY = false;\n          var rotateValue = 0;\n          var rotateEl;\n\n          for (var i = 0; i < _this.core.___slide.length; i++) {\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[i], 'mousedown.lgzoom', function (e) {\n              // execute only on .lg-object\n              var $image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n\n              rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n              rotateValue = _this.getCurrentRotation(rotateEl);\n\n              var dragAllowedAxises = _this.getDragAllowedAxises($image, Math.abs(rotateValue));\n\n              allowY = dragAllowedAxises.allowY;\n              allowX = dragAllowedAxises.allowX;\n\n              if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                if (utils.hasClass(e.target, 'lg-object') && (allowX || allowY)) {\n                  e.preventDefault();\n                  startCoords = _this.getDragCords(e, Math.abs(rotateValue));\n                  isDraging = true; // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n\n                  _this.core.outer.scrollLeft += 1;\n                  _this.core.outer.scrollLeft -= 1;\n                  utils.removeClass(_this.core.outer, 'lg-grab');\n                  utils.addClass(_this.core.outer, 'lg-grabbing');\n                }\n              }\n            });\n          }\n\n          utils.on(window, 'mousemove.lgzoom', function (e) {\n            if (isDraging) {\n              var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n\n              var distanceX;\n              var distanceY;\n              isMoved = true;\n              endCoords = _this.getDragCords(e, Math.abs(rotateValue)); // reset opacity and transition duration\n\n              utils.addClass(_this.core.outer, 'lg-zoom-dragging');\n\n              if (allowY) {\n                distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n              } else {\n                distanceY = -Math.abs(_el.getAttribute('data-y'));\n              }\n\n              if (allowX) {\n                distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n              } else {\n                distanceX = -Math.abs(_el.getAttribute('data-x'));\n              }\n\n              if (_this.core.s.useLeftForZoom) {\n                _el.style.left = distanceX + 'px';\n                _el.style.top = distanceY + 'px';\n              } else {\n                utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n              }\n            }\n          });\n          utils.on(window, 'mouseup.lgzoom', function (e) {\n            if (isDraging) {\n              isDraging = false;\n              utils.removeClass(_this.core.outer, 'lg-zoom-dragging'); // Fix for chrome mouse move on click\n\n              if (isMoved && (startCoords.x !== endCoords.x || startCoords.y !== endCoords.y)) {\n                endCoords = _this.getDragCords(e, Math.abs(rotateValue));\n\n                _this.touchendZoom(startCoords, endCoords, allowX, allowY, rotateValue);\n              }\n\n              isMoved = false;\n            }\n\n            utils.removeClass(_this.core.outer, 'lg-grabbing');\n            utils.addClass(_this.core.outer, 'lg-grab');\n          });\n        };\n\n        Zoom.prototype.touchendZoom = function (startCoords, endCoords, allowX, allowY, rotateValue) {\n          var _this = this;\n\n          var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n\n          var image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n\n          var rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n\n          var distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n\n          var distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n\n          var possibleDragCords = _this.getPossibleDragCords(image, Math.abs(rotateValue));\n\n          if (Math.abs(endCoords.x - startCoords.x) > 15 || Math.abs(endCoords.y - startCoords.y) > 15) {\n            if (allowY) {\n              if (distanceY <= -possibleDragCords.maxY) {\n                distanceY = -possibleDragCords.maxY;\n              } else if (distanceY >= -possibleDragCords.minY) {\n                distanceY = -possibleDragCords.minY;\n              }\n            }\n\n            if (allowX) {\n              if (distanceX <= -possibleDragCords.maxX) {\n                distanceX = -possibleDragCords.maxX;\n              } else if (distanceX >= -possibleDragCords.minX) {\n                distanceX = -possibleDragCords.minX;\n              }\n            }\n\n            if (allowY) {\n              _el.setAttribute('data-y', Math.abs(distanceY));\n            } else {\n              distanceY = -Math.abs(_el.getAttribute('data-y'));\n            }\n\n            if (allowX) {\n              _el.setAttribute('data-x', Math.abs(distanceX));\n            } else {\n              distanceX = -Math.abs(_el.getAttribute('data-x'));\n            }\n\n            if (_this.core.s.useLeftForZoom) {\n              _el.style.left = distanceX + 'px';\n              _el.style.top = distanceY + 'px';\n            } else {\n              utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n            }\n          }\n        };\n\n        Zoom.prototype.destroy = function () {\n          var _this = this; // Unbind all events added by lightGallery zoom plugin\n\n\n          utils.off(_this.core.el, '.lgzoom');\n          utils.off(window, '.lgzoom');\n\n          for (var i = 0; i < _this.core.___slide.length; i++) {\n            utils.off(_this.core.___slide[i], '.lgzoom');\n          }\n\n          utils.off(_this.core.el, '.lgtmzoom');\n\n          _this.resetZoom();\n\n          clearTimeout(_this.zoomabletimeout);\n          _this.zoomabletimeout = false;\n        };\n\n        window.lgModules.zoom = Zoom;\n      });\n    }, {}]\n  }, {}, [1])(1);\n});","map":{"version":3,"sources":["/Users/debpratiher/Downloads/quicky-messenger-v1.3/quicky-messanger/node_modules/lg-zoom.js/dist/lg-zoom.js"],"names":["f","exports","module","define","amd","g","window","global","self","LgZoom","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","factory","mod","lgZoom","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","getUseLeft","useLeft","isChrome","navigator","userAgent","match","parseInt","zoomDefaults","scale","zoom","actualSize","enableZoomAfter","useLeftForZoom","Zoom","element","el","core","lgData","getAttribute","s","doCss","init","zoomabletimeout","pageX","innerWidth","pageY","innerHeight","document","documentElement","scrollTop","body","_this","zoomIcons","utils","addClass","outer","querySelector","insertAdjacentHTML","on","event","_speed","detail","delay","hasClass","removeClass","setTimeout","___slide","index","scaleVal","image","_x","_y","offsetX","clientWidth","offsetY","clientHeight","x","y","setVendor","setAttribute","parentElement","style","left","top","callScale","resetZoom","fromIcon","w","nw","dynamic","dynamicEl","width","naturalWidth","items","_scale","targetTouches","tapped","isTouch","clearTimeout","preventDefault","getElementById","zoomDrag","zoomSwipe","getModifier","rotateValue","axis","originalRotate","Math","abs","transformValues","getCurrentTransform","modifier","flipHorizontalValue","sign","parseFloat","flipVerticalValue","sinX","sinMinusX","getImageSize","$image","imageSizes","getDragCords","getSwipeCords","getPossibleDragCords","minY","maxY","minX","maxX","getDragAllowedAxises","allowY","allowX","st","getComputedStyle","tm","getPropertyValue","split","getCurrentRotation","values","round","atan2","PI","removeAttribute","j","startCoords","endCoords","isMoved","rotateEl","dragAllowedAxises","_el","distanceX","distanceY","k","touchendZoom","isDraging","scrollLeft","possibleDragCords","destroy","off","lgModules"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAAG,CAAC,UAASA,CAAT,EAAW;AAAC,MAAG,OAAOC,OAAP,KAAiB,QAAjB,IAA2B,OAAOC,MAAP,KAAgB,WAA9C,EAA0D;AAACA,IAAAA,MAAM,CAACD,OAAP,GAAeD,CAAC,EAAhB;AAAmB,GAA9E,MAAmF,IAAG,OAAOG,MAAP,KAAgB,UAAhB,IAA4BA,MAAM,CAACC,GAAtC,EAA0C;AAACD,IAAAA,MAAM,CAAC,EAAD,EAAIH,CAAJ,CAAN;AAAa,GAAxD,MAA4D;AAAC,QAAIK,CAAJ;;AAAM,QAAG,OAAOC,MAAP,KAAgB,WAAnB,EAA+B;AAACD,MAAAA,CAAC,GAACC,MAAF;AAAS,KAAzC,MAA8C,IAAG,OAAOC,MAAP,KAAgB,WAAnB,EAA+B;AAACF,MAAAA,CAAC,GAACE,MAAF;AAAS,KAAzC,MAA8C,IAAG,OAAOC,IAAP,KAAc,WAAjB,EAA6B;AAACH,MAAAA,CAAC,GAACG,IAAF;AAAO,KAArC,MAAyC;AAACH,MAAAA,CAAC,GAAC,IAAF;AAAO;;AAAAA,IAAAA,CAAC,CAACI,MAAF,GAAWT,CAAC,EAAZ;AAAe;AAAC,CAAhU,EAAkU,YAAU;AAAC,MAAIG,MAAJ,EAAWD,MAAX,EAAkBD,OAAlB;AAA0B,SAAQ,YAAU;AAAC,aAASS,CAAT,CAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,eAASC,CAAT,CAAWC,CAAX,EAAaf,CAAb,EAAe;AAAC,YAAG,CAACY,CAAC,CAACG,CAAD,CAAL,EAAS;AAAC,cAAG,CAACJ,CAAC,CAACI,CAAD,CAAL,EAAS;AAAC,gBAAIC,CAAC,GAAC,cAAY,OAAOC,OAAnB,IAA4BA,OAAlC;AAA0C,gBAAG,CAACjB,CAAD,IAAIgB,CAAP,EAAS,OAAOA,CAAC,CAACD,CAAD,EAAG,CAAC,CAAJ,CAAR;AAAe,gBAAGG,CAAH,EAAK,OAAOA,CAAC,CAACH,CAAD,EAAG,CAAC,CAAJ,CAAR;AAAe,gBAAII,CAAC,GAAC,IAAIC,KAAJ,CAAU,yBAAuBL,CAAvB,GAAyB,GAAnC,CAAN;AAA8C,kBAAMI,CAAC,CAACE,IAAF,GAAO,kBAAP,EAA0BF,CAAhC;AAAkC;;AAAA,cAAIG,CAAC,GAACV,CAAC,CAACG,CAAD,CAAD,GAAK;AAACd,YAAAA,OAAO,EAAC;AAAT,WAAX;AAAwBU,UAAAA,CAAC,CAACI,CAAD,CAAD,CAAK,CAAL,EAAQQ,IAAR,CAAaD,CAAC,CAACrB,OAAf,EAAuB,UAASS,CAAT,EAAW;AAAC,gBAAIE,CAAC,GAACD,CAAC,CAACI,CAAD,CAAD,CAAK,CAAL,EAAQL,CAAR,CAAN;AAAiB,mBAAOI,CAAC,CAACF,CAAC,IAAEF,CAAJ,CAAR;AAAe,WAAnE,EAAoEY,CAApE,EAAsEA,CAAC,CAACrB,OAAxE,EAAgFS,CAAhF,EAAkFC,CAAlF,EAAoFC,CAApF,EAAsFC,CAAtF;AAAyF;;AAAA,eAAOD,CAAC,CAACG,CAAD,CAAD,CAAKd,OAAZ;AAAoB;;AAAA,WAAI,IAAIiB,CAAC,GAAC,cAAY,OAAOD,OAAnB,IAA4BA,OAAlC,EAA0CF,CAAC,GAAC,CAAhD,EAAkDA,CAAC,GAACF,CAAC,CAACW,MAAtD,EAA6DT,CAAC,EAA9D,EAAiED,CAAC,CAACD,CAAC,CAACE,CAAD,CAAF,CAAD;;AAAQ,aAAOD,CAAP;AAAS;;AAAA,WAAOJ,CAAP;AAAS,GAAxc,GAA4c;AAAC,OAAE,CAAC,UAASO,OAAT,EAAiBf,MAAjB,EAAwBD,OAAxB,EAAgC;AACj2B,OAAC,UAAUM,MAAV,EAAkBkB,OAAlB,EAA2B;AACxB,YAAI,OAAOtB,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA3C,EAAgD;AAC5CD,UAAAA,MAAM,CAAC,EAAD,EAAKsB,OAAL,CAAN;AACH,SAFD,MAEO,IAAI,OAAOxB,OAAP,KAAmB,WAAvB,EAAoC;AACvCwB,UAAAA,OAAO;AACV,SAFM,MAEA;AACH,cAAIC,GAAG,GAAG;AACNzB,YAAAA,OAAO,EAAE;AADH,WAAV;AAGAwB,UAAAA,OAAO;AACPlB,UAAAA,MAAM,CAACoB,MAAP,GAAgBD,GAAG,CAACzB,OAApB;AACH;AACJ,OAZD,EAYG,IAZH,EAYS,YAAY;AACjB;;AAEA,YAAI2B,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAC9C,eAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiB,SAAS,CAACR,MAA9B,EAAsCT,CAAC,EAAvC,EAA2C;AACvC,gBAAIkB,MAAM,GAAGD,SAAS,CAACjB,CAAD,CAAtB;;AAEA,iBAAK,IAAImB,GAAT,IAAgBD,MAAhB,EAAwB;AACpB,kBAAIJ,MAAM,CAACM,SAAP,CAAiBC,cAAjB,CAAgCb,IAAhC,CAAqCU,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AACnDH,gBAAAA,MAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AACH;AACJ;AACJ;;AAED,iBAAOH,MAAP;AACH,SAZD;;AAcA,YAAIM,UAAU,GAAG,SAASA,UAAT,GAAsB;AACnC,cAAIC,OAAO,GAAG,KAAd;AACA,cAAIC,QAAQ,GAAGC,SAAS,CAACC,SAAV,CAAoBC,KAApB,CAA0B,0BAA1B,CAAf;;AACA,cAAIH,QAAQ,IAAII,QAAQ,CAACJ,QAAQ,CAAC,CAAD,CAAT,EAAc,EAAd,CAAR,GAA4B,EAA5C,EAAgD;AAC5CD,YAAAA,OAAO,GAAG,IAAV;AACH;;AAED,iBAAOA,OAAP;AACH,SARD;;AAUA,YAAIM,YAAY,GAAG;AACfC,UAAAA,KAAK,EAAE,CADQ;AAEfC,UAAAA,IAAI,EAAE,IAFS;AAGfC,UAAAA,UAAU,EAAE,IAHG;AAIfC,UAAAA,eAAe,EAAE,GAJF;AAKfC,UAAAA,cAAc,EAAEZ,UAAU;AALX,SAAnB;;AAQA,YAAIa,IAAI,GAAG,SAASA,IAAT,CAAcC,OAAd,EAAuB;AAE9B,eAAKC,EAAL,GAAUD,OAAV;AAEA,eAAKE,IAAL,GAAY/C,MAAM,CAACgD,MAAP,CAAc,KAAKF,EAAL,CAAQG,YAAR,CAAqB,QAArB,CAAd,CAAZ;AACA,eAAKF,IAAL,CAAUG,CAAV,GAAc5B,QAAQ,CAAC,EAAD,EAAKgB,YAAL,EAAmB,KAAKS,IAAL,CAAUG,CAA7B,CAAtB;;AAEA,cAAI,KAAKH,IAAL,CAAUG,CAAV,CAAYV,IAAZ,IAAoB,KAAKO,IAAL,CAAUI,KAAV,EAAxB,EAA2C;AACvC,iBAAKC,IAAL,GADuC,CAGvC;;AACA,iBAAKC,eAAL,GAAuB,KAAvB,CAJuC,CAMvC;;AACA,iBAAKC,KAAL,GAAatD,MAAM,CAACuD,UAAP,GAAoB,CAAjC;AACA,iBAAKC,KAAL,GAAaxD,MAAM,CAACyD,WAAP,GAAqB,CAArB,IAA0BC,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,IAAsCF,QAAQ,CAACG,IAAT,CAAcD,SAA9E,CAAb;AACH;;AAED,iBAAO,IAAP;AACH,SAnBD;;AAqBAhB,QAAAA,IAAI,CAACf,SAAL,CAAeuB,IAAf,GAAsB,YAAY;AAE9B,cAAIU,KAAK,GAAG,IAAZ;;AACA,cAAIC,SAAS,GAAG,4KAAhB;;AAEA,cAAID,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAaT,UAAjB,EAA6B;AACzBsB,YAAAA,SAAS,IAAI,8FAAb;AACH;;AAED,cAAID,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAaP,cAAjB,EAAiC;AAC7BqB,YAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,sBAAjC;AACH,WAFD,MAEO;AACHF,YAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,4BAAjC;AACH;;AAED,eAAKnB,IAAL,CAAUmB,KAAV,CAAgBC,aAAhB,CAA8B,aAA9B,EAA6CC,kBAA7C,CAAgE,WAAhE,EAA6EL,SAA7E,EAf8B,CAiB9B;;AACAC,UAAAA,KAAK,CAACK,EAAN,CAASP,KAAK,CAACf,IAAN,CAAWD,EAApB,EAAwB,0BAAxB,EAAoD,UAAUwB,KAAV,EAAiB;AAEjE;AACA,gBAAIC,MAAM,GAAGT,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAaR,eAAb,GAA+B4B,KAAK,CAACE,MAAN,CAAaC,KAAzD,CAHiE,CAKjE;;;AACA,gBAAIT,KAAK,CAACU,QAAN,CAAehB,QAAQ,CAACG,IAAxB,EAA8B,cAA9B,KAAiDS,KAAK,CAACE,MAAN,CAAaC,KAAlE,EAAyE;AAErE;AACAF,cAAAA,MAAM,GAAG,CAAT;AACH,aAJD,MAIO;AAEH;AACAP,cAAAA,KAAK,CAACW,WAAN,CAAkBjB,QAAQ,CAACG,IAA3B,EAAiC,cAAjC;AACH;;AAEDC,YAAAA,KAAK,CAACT,eAAN,GAAwBuB,UAAU,CAAC,YAAY;AAC3CZ,cAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBP,KAAK,CAACE,MAAN,CAAaM,KAAjC,CAAf,EAAwD,aAAxD;AACH,aAFiC,EAE/BP,MAAM,GAAG,EAFsB,CAAlC;AAGH,WAnBD;AAqBA,cAAIhC,KAAK,GAAG,CAAZ;AACA;AACR;AACA;AACA;AACA;AACA;;AACQ,cAAIC,IAAI,GAAG,SAASA,IAAT,CAAcuC,QAAd,EAAwB;AAE/B,gBAAIC,KAAK,GAAGlB,KAAK,CAACf,IAAN,CAAWmB,KAAX,CAAiBC,aAAjB,CAA+B,uBAA/B,CAAZ;;AACA,gBAAIc,EAAJ;;AACA,gBAAIC,EAAJ,CAJ+B,CAM/B;;;AACA,gBAAIC,OAAO,GAAG,CAACnF,MAAM,CAACuD,UAAP,GAAoByB,KAAK,CAACI,WAA3B,IAA0C,CAAxD;AACA,gBAAIC,OAAO,GAAG,CAACrF,MAAM,CAACyD,WAAP,GAAqBuB,KAAK,CAACM,YAA5B,IAA4C,CAA5C,IAAiD5B,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,IAAsCF,QAAQ,CAACG,IAAT,CAAcD,SAArG,CAAd;AAEAqB,YAAAA,EAAE,GAAGnB,KAAK,CAACR,KAAN,GAAc6B,OAAnB;AACAD,YAAAA,EAAE,GAAGpB,KAAK,CAACN,KAAN,GAAc6B,OAAnB;AAEA,gBAAIE,CAAC,GAAG,CAACR,QAAQ,GAAG,CAAZ,IAAiBE,EAAzB;AACA,gBAAIO,CAAC,GAAG,CAACT,QAAQ,GAAG,CAAZ,IAAiBG,EAAzB;AAEAlB,YAAAA,KAAK,CAACyB,SAAN,CAAgBT,KAAhB,EAAuB,WAAvB,EAAoC,aAAaD,QAAb,GAAwB,IAAxB,GAA+BA,QAA/B,GAA0C,MAA9E;AACAC,YAAAA,KAAK,CAACU,YAAN,CAAmB,YAAnB,EAAiCX,QAAjC;;AAEA,gBAAIjB,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAaP,cAAjB,EAAiC;AAC7BqC,cAAAA,KAAK,CAACW,aAAN,CAAoBC,KAApB,CAA0BC,IAA1B,GAAiC,CAACN,CAAD,GAAK,IAAtC;AACAP,cAAAA,KAAK,CAACW,aAAN,CAAoBC,KAApB,CAA0BE,GAA1B,GAAgC,CAACN,CAAD,GAAK,IAArC;AACH,aAHD,MAGO;AACHxB,cAAAA,KAAK,CAACyB,SAAN,CAAgBT,KAAK,CAACW,aAAtB,EAAqC,WAArC,EAAkD,kBAAkBJ,CAAlB,GAAsB,OAAtB,GAAgCC,CAAhC,GAAoC,QAAtF;AACH;;AAEDR,YAAAA,KAAK,CAACW,aAAN,CAAoBD,YAApB,CAAiC,QAAjC,EAA2CH,CAA3C;AACAP,YAAAA,KAAK,CAACW,aAAN,CAAoBD,YAApB,CAAiC,QAAjC,EAA2CF,CAA3C;AACH,WA5BD;;AA8BA,cAAIO,SAAS,GAAG,SAASA,SAAT,GAAqB;AACjC,gBAAIxD,KAAK,GAAG,CAAZ,EAAe;AACXyB,cAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,WAAjC;AACH,aAFD,MAEO;AACHJ,cAAAA,KAAK,CAACkC,SAAN;AACH;;AAED,gBAAIzD,KAAK,GAAG,CAAZ,EAAe;AACXA,cAAAA,KAAK,GAAG,CAAR;AACH;;AAEDC,YAAAA,IAAI,CAACD,KAAD,CAAJ;AACH,WAZD;;AAcA,cAAIE,UAAU,GAAG,SAASA,UAAT,CAAoB6B,KAApB,EAA2BU,KAA3B,EAAkCF,KAAlC,EAAyCmB,QAAzC,EAAmD;AAChE,gBAAIC,CAAC,GAAGlB,KAAK,CAACI,WAAd;AACA,gBAAIe,EAAJ;;AACA,gBAAIrC,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAakD,OAAjB,EAA0B;AACtBD,cAAAA,EAAE,GAAGrC,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAamD,SAAb,CAAuBvB,KAAvB,EAA8BwB,KAA9B,IAAuCtB,KAAK,CAACuB,YAA7C,IAA6DL,CAAlE;AACH,aAFD,MAEO;AACHC,cAAAA,EAAE,GAAGrC,KAAK,CAACf,IAAN,CAAWyD,KAAX,CAAiB1B,KAAjB,EAAwB7B,YAAxB,CAAqC,YAArC,KAAsD+B,KAAK,CAACuB,YAA5D,IAA4EL,CAAjF;AACH;;AAED,gBAAIO,MAAJ;;AAEA,gBAAIzC,KAAK,CAACU,QAAN,CAAeZ,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,WAAjC,CAAJ,EAAmD;AAC/C3B,cAAAA,KAAK,GAAG,CAAR;AACH,aAFD,MAEO;AACH,kBAAI4D,EAAE,GAAGD,CAAT,EAAY;AACRO,gBAAAA,MAAM,GAAGN,EAAE,GAAGD,CAAd;AACA3D,gBAAAA,KAAK,GAAGkE,MAAM,IAAI,CAAlB;AACH;AACJ;;AAED,gBAAIR,QAAJ,EAAc;AACVnC,cAAAA,KAAK,CAACR,KAAN,GAActD,MAAM,CAACuD,UAAP,GAAoB,CAAlC;AACAO,cAAAA,KAAK,CAACN,KAAN,GAAcxD,MAAM,CAACyD,WAAP,GAAqB,CAArB,IAA0BC,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,IAAsCF,QAAQ,CAACG,IAAT,CAAcD,SAA9E,CAAd;AACH,aAHD,MAGO;AACHE,cAAAA,KAAK,CAACR,KAAN,GAAcgB,KAAK,CAAChB,KAAN,IAAegB,KAAK,CAACoC,aAAN,CAAoB,CAApB,EAAuBpD,KAApD;AACAQ,cAAAA,KAAK,CAACN,KAAN,GAAcc,KAAK,CAACd,KAAN,IAAec,KAAK,CAACoC,aAAN,CAAoB,CAApB,EAAuBlD,KAApD;AACH;;AAEDuC,YAAAA,SAAS;AACTnB,YAAAA,UAAU,CAAC,YAAY;AACnBZ,cAAAA,KAAK,CAACW,WAAN,CAAkBb,KAAK,CAACf,IAAN,CAAWmB,KAA7B,EAAoC,aAApC;AACAF,cAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,SAAjC;AACH,aAHS,EAGP,EAHO,CAAV;AAIH,WAjCD;;AAmCA,cAAIyC,MAAM,GAAG,KAAb,CA7H8B,CA+H9B;;AACA3C,UAAAA,KAAK,CAACK,EAAN,CAASP,KAAK,CAACf,IAAN,CAAWD,EAApB,EAAwB,4BAAxB,EAAsD,UAAUwB,KAAV,EAAiB;AAEnE,gBAAIQ,KAAK,GAAGR,KAAK,CAACE,MAAN,CAAaM,KAAzB,CAFmE,CAInE;;AACA,gBAAIE,KAAK,GAAGlB,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBC,KAApB,EAA2BX,aAA3B,CAAyC,WAAzC,CAAZ;;AAEA,gBAAI,CAACL,KAAK,CAACf,IAAN,CAAW6D,OAAhB,EAAyB;AACrB5C,cAAAA,KAAK,CAACK,EAAN,CAASW,KAAT,EAAgB,UAAhB,EAA4B,UAAUV,KAAV,EAAiB;AACzC7B,gBAAAA,UAAU,CAAC6B,KAAD,EAAQU,KAAR,EAAeF,KAAf,CAAV;AACH,eAFD;AAGH;;AAED,gBAAIhB,KAAK,CAACf,IAAN,CAAW6D,OAAf,EAAwB;AACpB5C,cAAAA,KAAK,CAACK,EAAN,CAASW,KAAT,EAAgB,YAAhB,EAA8B,UAAUV,KAAV,EAAiB;AAC3C,oBAAI,CAACqC,MAAL,EAAa;AACTA,kBAAAA,MAAM,GAAG/B,UAAU,CAAC,YAAY;AAC5B+B,oBAAAA,MAAM,GAAG,IAAT;AACH,mBAFkB,EAEhB,GAFgB,CAAnB;AAGH,iBAJD,MAIO;AACHE,kBAAAA,YAAY,CAACF,MAAD,CAAZ;AACAA,kBAAAA,MAAM,GAAG,IAAT;AACAlE,kBAAAA,UAAU,CAAC6B,KAAD,EAAQU,KAAR,EAAeF,KAAf,CAAV;AACH;;AAEDR,gBAAAA,KAAK,CAACwC,cAAN;AACH,eAZD;AAaH;AACJ,WA5BD,EAhI8B,CA8J9B;;AACA9C,UAAAA,KAAK,CAACK,EAAN,CAASrE,MAAT,EAAiB,sDAAjB,EAAyE,YAAY;AACjF8D,YAAAA,KAAK,CAACR,KAAN,GAActD,MAAM,CAACuD,UAAP,GAAoB,CAAlC;AACAO,YAAAA,KAAK,CAACN,KAAN,GAAcxD,MAAM,CAACyD,WAAP,GAAqB,CAArB,IAA0BC,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,IAAsCF,QAAQ,CAACG,IAAT,CAAcD,SAA9E,CAAd;AACApB,YAAAA,IAAI,CAACD,KAAD,CAAJ;AACH,WAJD;AAMAyB,UAAAA,KAAK,CAACK,EAAN,CAASX,QAAQ,CAACqD,cAAT,CAAwB,aAAxB,CAAT,EAAiD,UAAjD,EAA6D,YAAY;AACrE,gBAAIjD,KAAK,CAACf,IAAN,CAAWmB,KAAX,CAAiBC,aAAjB,CAA+B,uBAA/B,CAAJ,EAA6D;AACzD5B,cAAAA,KAAK,IAAIuB,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAaX,KAAtB;AACAwD,cAAAA,SAAS;AACZ;AACJ,WALD;AAOA/B,UAAAA,KAAK,CAACK,EAAN,CAASX,QAAQ,CAACqD,cAAT,CAAwB,YAAxB,CAAT,EAAgD,UAAhD,EAA4D,YAAY;AACpE,gBAAIjD,KAAK,CAACf,IAAN,CAAWmB,KAAX,CAAiBC,aAAjB,CAA+B,uBAA/B,CAAJ,EAA6D;AACzD5B,cAAAA,KAAK,IAAIuB,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAaX,KAAtB;AACAwD,cAAAA,SAAS;AACZ;AACJ,WALD;AAOA/B,UAAAA,KAAK,CAACK,EAAN,CAASX,QAAQ,CAACqD,cAAT,CAAwB,gBAAxB,CAAT,EAAoD,UAApD,EAAgE,UAAUzC,KAAV,EAAiB;AAC7E7B,YAAAA,UAAU,CAAC6B,KAAD,EAAQR,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBf,KAAK,CAACf,IAAN,CAAW+B,KAA/B,EAAsCX,aAAtC,CAAoD,WAApD,CAAR,EAA0EL,KAAK,CAACf,IAAN,CAAW+B,KAArF,EAA4F,IAA5F,CAAV;AACH,WAFD,EAnL8B,CAuL9B;;AACAd,UAAAA,KAAK,CAACK,EAAN,CAASP,KAAK,CAACf,IAAN,CAAWD,EAApB,EAAwB,oBAAxB,EAA8C,YAAY;AACtDP,YAAAA,KAAK,GAAG,CAAR;;AACAuB,YAAAA,KAAK,CAACkC,SAAN;AACH,WAHD,EAxL8B,CA6L9B;;AACA,cAAI,CAAClC,KAAK,CAACf,IAAN,CAAW6D,OAAhB,EAAyB;AACrB9C,YAAAA,KAAK,CAACkD,QAAN;AACH;;AAED,cAAIlD,KAAK,CAACf,IAAN,CAAW6D,OAAf,EAAwB;AACpB9C,YAAAA,KAAK,CAACmD,SAAN;AACH;AACJ,SArMD;;AAuMArE,QAAAA,IAAI,CAACf,SAAL,CAAeqF,WAAf,GAA6B,UAAUC,WAAV,EAAuBC,IAAvB,EAA6BtE,EAA7B,EAAiC;AAC1D,cAAIuE,cAAc,GAAGF,WAArB;AACAA,UAAAA,WAAW,GAAGG,IAAI,CAACC,GAAL,CAASJ,WAAT,CAAd;AACA,cAAIK,eAAe,GAAG,KAAKC,mBAAL,CAAyB3E,EAAzB,CAAtB;;AACA,cAAI,CAAC0E,eAAL,EAAsB;AAClB,mBAAO,CAAP;AACH;;AACD,cAAIE,QAAQ,GAAG,CAAf;;AACA,cAAIN,IAAI,KAAK,GAAb,EAAkB;AACd,gBAAIO,mBAAmB,GAAGL,IAAI,CAACM,IAAL,CAAUC,UAAU,CAACL,eAAe,CAAC,CAAD,CAAhB,CAApB,CAA1B;;AACA,gBAAIL,WAAW,KAAK,CAAhB,IAAqBA,WAAW,KAAK,GAAzC,EAA8C;AAC1CO,cAAAA,QAAQ,GAAG,CAAX;AACH,aAFD,MAEO,IAAIP,WAAW,KAAK,EAApB,EAAwB;AAC3B,kBAAIE,cAAc,KAAK,CAAC,EAApB,IAA0BM,mBAAmB,KAAK,CAAlD,IAAuDN,cAAc,KAAK,EAAnB,IAAyBM,mBAAmB,KAAK,CAAC,CAA7G,EAAgH;AAC5GD,gBAAAA,QAAQ,GAAG,CAAC,CAAZ;AACH,eAFD,MAEO;AACHA,gBAAAA,QAAQ,GAAG,CAAX;AACH;AACJ;;AACDA,YAAAA,QAAQ,GAAGA,QAAQ,GAAGC,mBAAtB;AACH,WAZD,MAYO;AACH,gBAAIG,iBAAiB,GAAGR,IAAI,CAACM,IAAL,CAAUC,UAAU,CAACL,eAAe,CAAC,CAAD,CAAhB,CAApB,CAAxB;;AACA,gBAAIL,WAAW,KAAK,CAAhB,IAAqBA,WAAW,KAAK,GAAzC,EAA8C;AAC1CO,cAAAA,QAAQ,GAAG,CAAX;AACH,aAFD,MAEO,IAAIP,WAAW,KAAK,EAApB,EAAwB;AAC3B,kBAAIY,IAAI,GAAGF,UAAU,CAACL,eAAe,CAAC,CAAD,CAAhB,CAArB;AACA,kBAAIQ,SAAS,GAAGH,UAAU,CAACL,eAAe,CAAC,CAAD,CAAhB,CAA1B;AACAE,cAAAA,QAAQ,GAAGJ,IAAI,CAACM,IAAL,CAAUG,IAAI,GAAGC,SAAP,GAAmBX,cAAnB,GAAoCS,iBAA9C,CAAX;AACH;;AACDJ,YAAAA,QAAQ,GAAGA,QAAQ,GAAGI,iBAAtB;AACH;;AACD,iBAAOJ,QAAP;AACH,SAhCD;;AAkCA9E,QAAAA,IAAI,CAACf,SAAL,CAAeoG,YAAf,GAA8B,UAAUC,MAAV,EAAkBf,WAAlB,EAA+BC,IAA/B,EAAqC;AAC/D,cAAIe,UAAU,GAAG;AACb3C,YAAAA,CAAC,EAAE,cADU;AAEbD,YAAAA,CAAC,EAAE;AAFU,WAAjB;;AAIA,cAAI4B,WAAW,KAAK,EAApB,EAAwB;AACpB;AACA,gBAAIC,IAAI,KAAK,GAAb,EAAkB;AACdA,cAAAA,IAAI,GAAG,GAAP;AACH,aAFD,MAEO;AACHA,cAAAA,IAAI,GAAG,GAAP;AACH;AACJ;;AACD,iBAAOc,MAAM,CAACC,UAAU,CAACf,IAAD,CAAX,CAAb;AACH,SAdD;;AAgBAxE,QAAAA,IAAI,CAACf,SAAL,CAAeuG,YAAf,GAA8B,UAAU/H,CAAV,EAAa8G,WAAb,EAA0B;AACpD,cAAIA,WAAW,KAAK,EAApB,EAAwB;AACpB,mBAAO;AACH5B,cAAAA,CAAC,EAAElF,CAAC,CAACmD,KADF;AAEHgC,cAAAA,CAAC,EAAEnF,CAAC,CAACiD;AAFF,aAAP;AAIH,WALD,MAKO;AACH,mBAAO;AACHiC,cAAAA,CAAC,EAAElF,CAAC,CAACiD,KADF;AAEHkC,cAAAA,CAAC,EAAEnF,CAAC,CAACmD;AAFF,aAAP;AAIH;AACJ,SAZD;;AAaAZ,QAAAA,IAAI,CAACf,SAAL,CAAewG,aAAf,GAA+B,UAAUhI,CAAV,EAAa8G,WAAb,EAA0B;AACrD,cAAI5B,CAAC,GAAGlF,CAAC,CAACqG,aAAF,CAAgB,CAAhB,EAAmBpD,KAA3B;AACA,cAAIkC,CAAC,GAAGnF,CAAC,CAACqG,aAAF,CAAgB,CAAhB,EAAmBlD,KAA3B;;AACA,cAAI2D,WAAW,KAAK,EAApB,EAAwB;AACpB,mBAAO;AACH5B,cAAAA,CAAC,EAAEC,CADA;AAEHA,cAAAA,CAAC,EAAED;AAFA,aAAP;AAIH,WALD,MAKO;AACH,mBAAO;AACHA,cAAAA,CAAC,EAAEA,CADA;AAEHC,cAAAA,CAAC,EAAEA;AAFA,aAAP;AAIH;AACJ,SAdD;;AAgBA5C,QAAAA,IAAI,CAACf,SAAL,CAAeyG,oBAAf,GAAsC,UAAUJ,MAAV,EAAkBf,WAAlB,EAA+B;AAEjE,cAAIoB,IAAI,GAAG,CAAC,KAAKxF,IAAL,CAAUmB,KAAV,CAAgBC,aAAhB,CAA8B,KAA9B,EAAqCmB,YAArC,GAAoD,KAAK2C,YAAL,CAAkBC,MAAlB,EAA0Bf,WAA1B,EAAuC,GAAvC,CAArD,IAAoG,CAA/G;AACA,cAAIqB,IAAI,GAAGlB,IAAI,CAACC,GAAL,CAAS,KAAKU,YAAL,CAAkBC,MAAlB,EAA0Bf,WAA1B,EAAuC,GAAvC,IAA8CG,IAAI,CAACC,GAAL,CAASW,MAAM,CAACjF,YAAP,CAAoB,YAApB,CAAT,CAA9C,GAA4F,KAAKF,IAAL,CAAUmB,KAAV,CAAgBC,aAAhB,CAA8B,KAA9B,EAAqCmB,YAAjI,GAAgJiD,IAAzJ,CAAX;AACA,cAAIE,IAAI,GAAG,CAAC,KAAK1F,IAAL,CAAUmB,KAAV,CAAgBC,aAAhB,CAA8B,KAA9B,EAAqCiB,WAArC,GAAmD,KAAK6C,YAAL,CAAkBC,MAAlB,EAA0Bf,WAA1B,EAAuC,GAAvC,CAApD,IAAmG,CAA9G;AACA,cAAIuB,IAAI,GAAGpB,IAAI,CAACC,GAAL,CAAS,KAAKU,YAAL,CAAkBC,MAAlB,EAA0Bf,WAA1B,EAAuC,GAAvC,IAA8CG,IAAI,CAACC,GAAL,CAASW,MAAM,CAACjF,YAAP,CAAoB,YAApB,CAAT,CAA9C,GAA4F,KAAKF,IAAL,CAAUmB,KAAV,CAAgBC,aAAhB,CAA8B,KAA9B,EAAqCiB,WAAjI,GAA+IqD,IAAxJ,CAAX;;AACA,cAAItB,WAAW,KAAK,EAApB,EAAwB;AACpB,mBAAO;AACHoB,cAAAA,IAAI,EAAEE,IADH;AAEHD,cAAAA,IAAI,EAAEE,IAFH;AAGHD,cAAAA,IAAI,EAAEF,IAHH;AAIHG,cAAAA,IAAI,EAAEF;AAJH,aAAP;AAMH,WAPD,MAOO;AACH,mBAAO;AACHD,cAAAA,IAAI,EAAEA,IADH;AAEHC,cAAAA,IAAI,EAAEA,IAFH;AAGHC,cAAAA,IAAI,EAAEA,IAHH;AAIHC,cAAAA,IAAI,EAAEA;AAJH,aAAP;AAMH;AACJ,SArBD;;AAuBA9F,QAAAA,IAAI,CAACf,SAAL,CAAe8G,oBAAf,GAAsC,UAAUT,MAAV,EAAkBf,WAAlB,EAA+B;AACjE,cAAIyB,MAAM,GAAG,KAAKX,YAAL,CAAkBC,MAAlB,EAA0Bf,WAA1B,EAAuC,GAAvC,IAA8Ce,MAAM,CAACjF,YAAP,CAAoB,YAApB,CAA9C,GAAkF,KAAKF,IAAL,CAAUmB,KAAV,CAAgBC,aAAhB,CAA8B,KAA9B,EAAqCmB,YAApI;AACA,cAAIuD,MAAM,GAAG,KAAKZ,YAAL,CAAkBC,MAAlB,EAA0Bf,WAA1B,EAAuC,GAAvC,IAA8Ce,MAAM,CAACjF,YAAP,CAAoB,YAApB,CAA9C,GAAkF,KAAKF,IAAL,CAAUmB,KAAV,CAAgBC,aAAhB,CAA8B,KAA9B,EAAqCiB,WAApI;;AACA,cAAI+B,WAAW,KAAK,EAApB,EAAwB;AACpB,mBAAO;AACH0B,cAAAA,MAAM,EAAED,MADL;AAEHA,cAAAA,MAAM,EAAEC;AAFL,aAAP;AAIH,WALD,MAKO;AACH,mBAAO;AACHA,cAAAA,MAAM,EAAEA,MADL;AAEHD,cAAAA,MAAM,EAAEA;AAFL,aAAP;AAIH;AACJ,SAdD;AAgBA;AACJ;AACA;AACA;AACA;AACA;;;AACIhG,QAAAA,IAAI,CAACf,SAAL,CAAe4F,mBAAf,GAAqC,UAAU3E,EAAV,EAAc;AAC/C,cAAI,CAACA,EAAL,EAAS;AACL,mBAAO,CAAP;AACH;;AACD,cAAIgG,EAAE,GAAG9I,MAAM,CAAC+I,gBAAP,CAAwBjG,EAAxB,EAA4B,IAA5B,CAAT;AACA,cAAIkG,EAAE,GAAGF,EAAE,CAACG,gBAAH,CAAoB,mBAApB,KAA4CH,EAAE,CAACG,gBAAH,CAAoB,gBAApB,CAA5C,IAAqFH,EAAE,CAACG,gBAAH,CAAoB,eAApB,CAArF,IAA6HH,EAAE,CAACG,gBAAH,CAAoB,cAApB,CAA7H,IAAoKH,EAAE,CAACG,gBAAH,CAAoB,WAApB,CAApK,IAAwM,MAAjN;;AACA,cAAID,EAAE,KAAK,MAAX,EAAmB;AACf,mBAAOA,EAAE,CAACE,KAAH,CAAS,GAAT,EAAc,CAAd,EAAiBA,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,EAA+BA,KAA/B,CAAqC,GAArC,CAAP;AACH;;AACD,iBAAO,CAAP;AACH,SAVD;;AAYAtG,QAAAA,IAAI,CAACf,SAAL,CAAesH,kBAAf,GAAoC,UAAUrG,EAAV,EAAc;AAC9C,cAAI,CAACA,EAAL,EAAS;AACL,mBAAO,CAAP;AACH;;AACD,cAAIsG,MAAM,GAAG,KAAK3B,mBAAL,CAAyB3E,EAAzB,CAAb;;AACA,cAAIsG,MAAJ,EAAY;AACR,mBAAO9B,IAAI,CAAC+B,KAAL,CAAW/B,IAAI,CAACgC,KAAL,CAAWF,MAAM,CAAC,CAAD,CAAjB,EAAsBA,MAAM,CAAC,CAAD,CAA5B,KAAoC,MAAM9B,IAAI,CAACiC,EAA/C,CAAX,CAAP,CADQ,CAER;AACA;AACH;;AACD,iBAAO,CAAP;AACH,SAXD,CAvYiB,CAoZjB;;;AACA3G,QAAAA,IAAI,CAACf,SAAL,CAAemE,SAAf,GAA2B,YAAY;AACnChC,UAAAA,KAAK,CAACW,WAAN,CAAkB,KAAK5B,IAAL,CAAUmB,KAA5B,EAAmC,WAAnC;;AACA,eAAK,IAAIzD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKsC,IAAL,CAAU8B,QAAV,CAAmB3D,MAAvC,EAA+CT,CAAC,EAAhD,EAAoD;AAChD,gBAAI,KAAKsC,IAAL,CAAU8B,QAAV,CAAmBpE,CAAnB,EAAsB0D,aAAtB,CAAoC,cAApC,CAAJ,EAAyD;AACrD,mBAAKpB,IAAL,CAAU8B,QAAV,CAAmBpE,CAAnB,EAAsB0D,aAAtB,CAAoC,cAApC,EAAoDqF,eAApD,CAAoE,OAApE;;AACA,mBAAKzG,IAAL,CAAU8B,QAAV,CAAmBpE,CAAnB,EAAsB0D,aAAtB,CAAoC,cAApC,EAAoDqF,eAApD,CAAoE,QAApE;;AACA,mBAAKzG,IAAL,CAAU8B,QAAV,CAAmBpE,CAAnB,EAAsB0D,aAAtB,CAAoC,cAApC,EAAoDqF,eAApD,CAAoE,QAApE;AACH;AACJ;;AAED,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK1G,IAAL,CAAU8B,QAAV,CAAmB3D,MAAvC,EAA+CuI,CAAC,EAAhD,EAAoD;AAChD,gBAAI,KAAK1G,IAAL,CAAU8B,QAAV,CAAmB4E,CAAnB,EAAsBtF,aAAtB,CAAoC,WAApC,CAAJ,EAAsD;AAClD,mBAAKpB,IAAL,CAAU8B,QAAV,CAAmB4E,CAAnB,EAAsBtF,aAAtB,CAAoC,WAApC,EAAiDqF,eAAjD,CAAiE,OAAjE;;AACA,mBAAKzG,IAAL,CAAU8B,QAAV,CAAmB4E,CAAnB,EAAsBtF,aAAtB,CAAoC,WAApC,EAAiDqF,eAAjD,CAAiE,YAAjE;AACH;AACJ,WAfkC,CAiBnC;;;AACA,eAAKlG,KAAL,GAAatD,MAAM,CAACuD,UAAP,GAAoB,CAAjC;AACA,eAAKC,KAAL,GAAaxD,MAAM,CAACyD,WAAP,GAAqB,CAArB,IAA0BC,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,IAAsCF,QAAQ,CAACG,IAAT,CAAcD,SAA9E,CAAb;AACH,SApBD;;AAsBAhB,QAAAA,IAAI,CAACf,SAAL,CAAeoF,SAAf,GAA2B,YAAY;AACnC,cAAInD,KAAK,GAAG,IAAZ;;AACA,cAAI4F,WAAW,GAAG,EAAlB;AACA,cAAIC,SAAS,GAAG,EAAhB;AACA,cAAIC,OAAO,GAAG,KAAd,CAJmC,CAMnC;;AACA,cAAIf,MAAM,GAAG,KAAb,CAPmC,CASnC;;AACA,cAAID,MAAM,GAAG,KAAb;AAEA,cAAIzB,WAAW,GAAG,CAAlB;AACA,cAAI0C,QAAJ;;AAEA,eAAK,IAAIpJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqD,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoB3D,MAAxC,EAAgDT,CAAC,EAAjD,EAAqD;AAEjD;AACAuD,YAAAA,KAAK,CAACK,EAAN,CAASP,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBpE,CAApB,CAAT,EAAiC,eAAjC,EAAkD,UAAUJ,CAAV,EAAa;AAE3D,kBAAI2D,KAAK,CAACU,QAAN,CAAeZ,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,WAAjC,CAAJ,EAAmD;AAC/C,oBAAIgE,MAAM,GAAGpE,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBf,KAAK,CAACf,IAAN,CAAW+B,KAA/B,EAAsCX,aAAtC,CAAoD,YAApD,CAAb;;AAEA0F,gBAAAA,QAAQ,GAAG/F,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBf,KAAK,CAACf,IAAN,CAAW+B,KAA/B,EAAsCX,aAAtC,CAAoD,gBAApD,CAAX;AACAgD,gBAAAA,WAAW,GAAGrD,KAAK,CAACqF,kBAAN,CAAyBU,QAAzB,CAAd;;AAEA,oBAAIC,iBAAiB,GAAGhG,KAAK,CAAC6E,oBAAN,CAA2BT,MAA3B,EAAmCZ,IAAI,CAACC,GAAL,CAASJ,WAAT,CAAnC,CAAxB;;AACAyB,gBAAAA,MAAM,GAAGkB,iBAAiB,CAAClB,MAA3B;AACAC,gBAAAA,MAAM,GAAGiB,iBAAiB,CAACjB,MAA3B;;AAEA,oBAAIA,MAAM,IAAID,MAAd,EAAsB;AAClBvI,kBAAAA,CAAC,CAACyG,cAAF;AACA4C,kBAAAA,WAAW,GAAG5F,KAAK,CAACuE,aAAN,CAAoBhI,CAApB,EAAuBiH,IAAI,CAACC,GAAL,CAASJ,WAAT,CAAvB,CAAd;AACH;AACJ;AACJ,aAjBD;AAkBH;;AAED,eAAK,IAAIsC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG3F,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoB3D,MAAxC,EAAgDuI,CAAC,EAAjD,EAAqD;AAEjD;AACAzF,YAAAA,KAAK,CAACK,EAAN,CAASP,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoB4E,CAApB,CAAT,EAAiC,cAAjC,EAAiD,UAAUpJ,CAAV,EAAa;AAE1D,kBAAI2D,KAAK,CAACU,QAAN,CAAeZ,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,WAAjC,CAAJ,EAAmD;AAE/C,oBAAI6F,GAAG,GAAGjG,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBf,KAAK,CAACf,IAAN,CAAW+B,KAA/B,EAAsCX,aAAtC,CAAoD,cAApD,CAAV;;AACA,oBAAI6F,SAAJ;AACA,oBAAIC,SAAJ;AAEA5J,gBAAAA,CAAC,CAACyG,cAAF;AACA8C,gBAAAA,OAAO,GAAG,IAAV;AAEAD,gBAAAA,SAAS,GAAG7F,KAAK,CAACuE,aAAN,CAAoBhI,CAApB,EAAuBiH,IAAI,CAACC,GAAL,CAASJ,WAAT,CAAvB,CAAZ,CAT+C,CAW/C;;AACAnD,gBAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,kBAAjC;;AAEA,oBAAI0E,MAAJ,EAAY;AACRqB,kBAAAA,SAAS,GAAG,CAAC3C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAD,GAAwC,CAAC0G,SAAS,CAACnE,CAAV,GAAckE,WAAW,CAAClE,CAA3B,IAAgC1B,KAAK,CAACoD,WAAN,CAAkBC,WAAlB,EAA+B,GAA/B,EAAoC0C,QAApC,CAApF;AACH,iBAFD,MAEO;AACHI,kBAAAA,SAAS,GAAG,CAAC3C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAb;AACH;;AAED,oBAAI4F,MAAJ,EAAY;AACRmB,kBAAAA,SAAS,GAAG,CAAC1C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAD,GAAwC,CAAC0G,SAAS,CAACpE,CAAV,GAAcmE,WAAW,CAACnE,CAA3B,IAAgCzB,KAAK,CAACoD,WAAN,CAAkBC,WAAlB,EAA+B,GAA/B,EAAoC0C,QAApC,CAApF;AACH,iBAFD,MAEO;AACHG,kBAAAA,SAAS,GAAG,CAAC1C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAb;AACH;;AAED,oBAAIqE,IAAI,CAACC,GAAL,CAASoC,SAAS,CAACpE,CAAV,GAAcmE,WAAW,CAACnE,CAAnC,IAAwC,EAAxC,IAA8C+B,IAAI,CAACC,GAAL,CAASoC,SAAS,CAACnE,CAAV,GAAckE,WAAW,CAAClE,CAAnC,IAAwC,EAA1F,EAA8F;AAE1F,sBAAI1B,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAaP,cAAjB,EAAiC;AAC7BoH,oBAAAA,GAAG,CAACnE,KAAJ,CAAUC,IAAV,GAAiBmE,SAAS,GAAG,IAA7B;AACAD,oBAAAA,GAAG,CAACnE,KAAJ,CAAUE,GAAV,GAAgBmE,SAAS,GAAG,IAA5B;AACH,mBAHD,MAGO;AACHjG,oBAAAA,KAAK,CAACyB,SAAN,CAAgBsE,GAAhB,EAAqB,WAArB,EAAkC,iBAAiBC,SAAjB,GAA6B,MAA7B,GAAsCC,SAAtC,GAAkD,QAApF;AACH;AACJ;AACJ;AACJ,aAtCD;AAuCH;;AAED,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpG,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoB3D,MAAxC,EAAgDgJ,CAAC,EAAjD,EAAqD;AAEjD;AACAlG,YAAAA,KAAK,CAACK,EAAN,CAASP,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBqF,CAApB,CAAT,EAAiC,aAAjC,EAAgD,YAAY;AACxD,kBAAIlG,KAAK,CAACU,QAAN,CAAeZ,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,WAAjC,CAAJ,EAAmD;AAC/C,oBAAI0F,OAAJ,EAAa;AACTA,kBAAAA,OAAO,GAAG,KAAV;AACA5F,kBAAAA,KAAK,CAACW,WAAN,CAAkBb,KAAK,CAACf,IAAN,CAAWmB,KAA7B,EAAoC,kBAApC;;AACAJ,kBAAAA,KAAK,CAACqG,YAAN,CAAmBT,WAAnB,EAAgCC,SAAhC,EAA2Cd,MAA3C,EAAmDD,MAAnD,EAA2DzB,WAA3D;AACH;AACJ;AACJ,aARD;AASH;AACJ,SA/FD;;AAiGAvE,QAAAA,IAAI,CAACf,SAAL,CAAemF,QAAf,GAA0B,YAAY;AAElC,cAAIlD,KAAK,GAAG,IAAZ;;AACA,cAAI4F,WAAW,GAAG,EAAlB;AACA,cAAIC,SAAS,GAAG,EAAhB;AACA,cAAIS,SAAS,GAAG,KAAhB;AACA,cAAIR,OAAO,GAAG,KAAd,CANkC,CAQlC;;AACA,cAAIf,MAAM,GAAG,KAAb,CATkC,CAWlC;;AACA,cAAID,MAAM,GAAG,KAAb;AAEA,cAAIzB,WAAW,GAAG,CAAlB;AACA,cAAI0C,QAAJ;;AAEA,eAAK,IAAIpJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqD,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoB3D,MAAxC,EAAgDT,CAAC,EAAjD,EAAqD;AAEjD;AACAuD,YAAAA,KAAK,CAACK,EAAN,CAASP,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBpE,CAApB,CAAT,EAAiC,kBAAjC,EAAqD,UAAUJ,CAAV,EAAa;AAE9D;AACA,kBAAI6H,MAAM,GAAGpE,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBf,KAAK,CAACf,IAAN,CAAW+B,KAA/B,EAAsCX,aAAtC,CAAoD,YAApD,CAAb;;AAEA0F,cAAAA,QAAQ,GAAG/F,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBf,KAAK,CAACf,IAAN,CAAW+B,KAA/B,EAAsCX,aAAtC,CAAoD,gBAApD,CAAX;AACAgD,cAAAA,WAAW,GAAGrD,KAAK,CAACqF,kBAAN,CAAyBU,QAAzB,CAAd;;AAEA,kBAAIC,iBAAiB,GAAGhG,KAAK,CAAC6E,oBAAN,CAA2BT,MAA3B,EAAmCZ,IAAI,CAACC,GAAL,CAASJ,WAAT,CAAnC,CAAxB;;AACAyB,cAAAA,MAAM,GAAGkB,iBAAiB,CAAClB,MAA3B;AACAC,cAAAA,MAAM,GAAGiB,iBAAiB,CAACjB,MAA3B;;AAEA,kBAAI7E,KAAK,CAACU,QAAN,CAAeZ,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,WAAjC,CAAJ,EAAmD;AAC/C,oBAAIF,KAAK,CAACU,QAAN,CAAerE,CAAC,CAACoB,MAAjB,EAAyB,WAAzB,MAA0CoH,MAAM,IAAID,MAApD,CAAJ,EAAiE;AAC7DvI,kBAAAA,CAAC,CAACyG,cAAF;AACA4C,kBAAAA,WAAW,GAAG5F,KAAK,CAACsE,YAAN,CAAmB/H,CAAnB,EAAsBiH,IAAI,CAACC,GAAL,CAASJ,WAAT,CAAtB,CAAd;AAEAiD,kBAAAA,SAAS,GAAG,IAAZ,CAJ6D,CAM7D;;AACAtG,kBAAAA,KAAK,CAACf,IAAN,CAAWmB,KAAX,CAAiBmG,UAAjB,IAA+B,CAA/B;AACAvG,kBAAAA,KAAK,CAACf,IAAN,CAAWmB,KAAX,CAAiBmG,UAAjB,IAA+B,CAA/B;AAEArG,kBAAAA,KAAK,CAACW,WAAN,CAAkBb,KAAK,CAACf,IAAN,CAAWmB,KAA7B,EAAoC,SAApC;AACAF,kBAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,aAAjC;AACH;AACJ;AACJ,aA3BD;AA4BH;;AAEDF,UAAAA,KAAK,CAACK,EAAN,CAASrE,MAAT,EAAiB,kBAAjB,EAAqC,UAAUK,CAAV,EAAa;AAC9C,gBAAI+J,SAAJ,EAAe;AACX,kBAAIL,GAAG,GAAGjG,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBf,KAAK,CAACf,IAAN,CAAW+B,KAA/B,EAAsCX,aAAtC,CAAoD,cAApD,CAAV;;AACA,kBAAI6F,SAAJ;AACA,kBAAIC,SAAJ;AAEAL,cAAAA,OAAO,GAAG,IAAV;AACAD,cAAAA,SAAS,GAAG7F,KAAK,CAACsE,YAAN,CAAmB/H,CAAnB,EAAsBiH,IAAI,CAACC,GAAL,CAASJ,WAAT,CAAtB,CAAZ,CANW,CAQX;;AACAnD,cAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,kBAAjC;;AAEA,kBAAI0E,MAAJ,EAAY;AACRqB,gBAAAA,SAAS,GAAG,CAAC3C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAD,GAAwC,CAAC0G,SAAS,CAACnE,CAAV,GAAckE,WAAW,CAAClE,CAA3B,IAAgC1B,KAAK,CAACoD,WAAN,CAAkBC,WAAlB,EAA+B,GAA/B,EAAoC0C,QAApC,CAApF;AACH,eAFD,MAEO;AACHI,gBAAAA,SAAS,GAAG,CAAC3C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAb;AACH;;AAED,kBAAI4F,MAAJ,EAAY;AACRmB,gBAAAA,SAAS,GAAG,CAAC1C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAD,GAAwC,CAAC0G,SAAS,CAACpE,CAAV,GAAcmE,WAAW,CAACnE,CAA3B,IAAgCzB,KAAK,CAACoD,WAAN,CAAkBC,WAAlB,EAA+B,GAA/B,EAAoC0C,QAApC,CAApF;AACH,eAFD,MAEO;AACHG,gBAAAA,SAAS,GAAG,CAAC1C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAb;AACH;;AAED,kBAAIa,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAaP,cAAjB,EAAiC;AAC7BoH,gBAAAA,GAAG,CAACnE,KAAJ,CAAUC,IAAV,GAAiBmE,SAAS,GAAG,IAA7B;AACAD,gBAAAA,GAAG,CAACnE,KAAJ,CAAUE,GAAV,GAAgBmE,SAAS,GAAG,IAA5B;AACH,eAHD,MAGO;AACHjG,gBAAAA,KAAK,CAACyB,SAAN,CAAgBsE,GAAhB,EAAqB,WAArB,EAAkC,iBAAiBC,SAAjB,GAA6B,MAA7B,GAAsCC,SAAtC,GAAkD,QAApF;AACH;AACJ;AACJ,WA/BD;AAiCAjG,UAAAA,KAAK,CAACK,EAAN,CAASrE,MAAT,EAAiB,gBAAjB,EAAmC,UAAUK,CAAV,EAAa;AAE5C,gBAAI+J,SAAJ,EAAe;AACXA,cAAAA,SAAS,GAAG,KAAZ;AACApG,cAAAA,KAAK,CAACW,WAAN,CAAkBb,KAAK,CAACf,IAAN,CAAWmB,KAA7B,EAAoC,kBAApC,EAFW,CAIX;;AACA,kBAAI0F,OAAO,KAAKF,WAAW,CAACnE,CAAZ,KAAkBoE,SAAS,CAACpE,CAA5B,IAAiCmE,WAAW,CAAClE,CAAZ,KAAkBmE,SAAS,CAACnE,CAAlE,CAAX,EAAiF;AAC7EmE,gBAAAA,SAAS,GAAG7F,KAAK,CAACsE,YAAN,CAAmB/H,CAAnB,EAAsBiH,IAAI,CAACC,GAAL,CAASJ,WAAT,CAAtB,CAAZ;;AACArD,gBAAAA,KAAK,CAACqG,YAAN,CAAmBT,WAAnB,EAAgCC,SAAhC,EAA2Cd,MAA3C,EAAmDD,MAAnD,EAA2DzB,WAA3D;AACH;;AAEDyC,cAAAA,OAAO,GAAG,KAAV;AACH;;AAED5F,YAAAA,KAAK,CAACW,WAAN,CAAkBb,KAAK,CAACf,IAAN,CAAWmB,KAA7B,EAAoC,aAApC;AACAF,YAAAA,KAAK,CAACC,QAAN,CAAeH,KAAK,CAACf,IAAN,CAAWmB,KAA1B,EAAiC,SAAjC;AACH,WAjBD;AAkBH,SArGD;;AAuGAtB,QAAAA,IAAI,CAACf,SAAL,CAAesI,YAAf,GAA8B,UAAUT,WAAV,EAAuBC,SAAvB,EAAkCd,MAAlC,EAA0CD,MAA1C,EAAkDzB,WAAlD,EAA+D;AAEzF,cAAIrD,KAAK,GAAG,IAAZ;;AACA,cAAIiG,GAAG,GAAGjG,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBf,KAAK,CAACf,IAAN,CAAW+B,KAA/B,EAAsCX,aAAtC,CAAoD,cAApD,CAAV;;AACA,cAAIa,KAAK,GAAGlB,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBf,KAAK,CAACf,IAAN,CAAW+B,KAA/B,EAAsCX,aAAtC,CAAoD,YAApD,CAAZ;;AACA,cAAI0F,QAAQ,GAAG/F,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBf,KAAK,CAACf,IAAN,CAAW+B,KAA/B,EAAsCX,aAAtC,CAAoD,gBAApD,CAAf;;AACA,cAAI6F,SAAS,GAAG,CAAC1C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAD,GAAwC,CAAC0G,SAAS,CAACpE,CAAV,GAAcmE,WAAW,CAACnE,CAA3B,IAAgCzB,KAAK,CAACoD,WAAN,CAAkBC,WAAlB,EAA+B,GAA/B,EAAoC0C,QAApC,CAAxF;;AACA,cAAII,SAAS,GAAG,CAAC3C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAD,GAAwC,CAAC0G,SAAS,CAACnE,CAAV,GAAckE,WAAW,CAAClE,CAA3B,IAAgC1B,KAAK,CAACoD,WAAN,CAAkBC,WAAlB,EAA+B,GAA/B,EAAoC0C,QAApC,CAAxF;;AACA,cAAIS,iBAAiB,GAAGxG,KAAK,CAACwE,oBAAN,CAA2BtD,KAA3B,EAAkCsC,IAAI,CAACC,GAAL,CAASJ,WAAT,CAAlC,CAAxB;;AAEA,cAAIG,IAAI,CAACC,GAAL,CAASoC,SAAS,CAACpE,CAAV,GAAcmE,WAAW,CAACnE,CAAnC,IAAwC,EAAxC,IAA8C+B,IAAI,CAACC,GAAL,CAASoC,SAAS,CAACnE,CAAV,GAAckE,WAAW,CAAClE,CAAnC,IAAwC,EAA1F,EAA8F;AAC1F,gBAAIoD,MAAJ,EAAY;AACR,kBAAIqB,SAAS,IAAI,CAACK,iBAAiB,CAAC9B,IAApC,EAA0C;AACtCyB,gBAAAA,SAAS,GAAG,CAACK,iBAAiB,CAAC9B,IAA/B;AACH,eAFD,MAEO,IAAIyB,SAAS,IAAI,CAACK,iBAAiB,CAAC/B,IAApC,EAA0C;AAC7C0B,gBAAAA,SAAS,GAAG,CAACK,iBAAiB,CAAC/B,IAA/B;AACH;AACJ;;AAED,gBAAIM,MAAJ,EAAY;AACR,kBAAImB,SAAS,IAAI,CAACM,iBAAiB,CAAC5B,IAApC,EAA0C;AACtCsB,gBAAAA,SAAS,GAAG,CAACM,iBAAiB,CAAC5B,IAA/B;AACH,eAFD,MAEO,IAAIsB,SAAS,IAAI,CAACM,iBAAiB,CAAC7B,IAApC,EAA0C;AAC7CuB,gBAAAA,SAAS,GAAG,CAACM,iBAAiB,CAAC7B,IAA/B;AACH;AACJ;;AAED,gBAAIG,MAAJ,EAAY;AACRmB,cAAAA,GAAG,CAACrE,YAAJ,CAAiB,QAAjB,EAA2B4B,IAAI,CAACC,GAAL,CAAS0C,SAAT,CAA3B;AACH,aAFD,MAEO;AACHA,cAAAA,SAAS,GAAG,CAAC3C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAb;AACH;;AAED,gBAAI4F,MAAJ,EAAY;AACRkB,cAAAA,GAAG,CAACrE,YAAJ,CAAiB,QAAjB,EAA2B4B,IAAI,CAACC,GAAL,CAASyC,SAAT,CAA3B;AACH,aAFD,MAEO;AACHA,cAAAA,SAAS,GAAG,CAAC1C,IAAI,CAACC,GAAL,CAASwC,GAAG,CAAC9G,YAAJ,CAAiB,QAAjB,CAAT,CAAb;AACH;;AAED,gBAAIa,KAAK,CAACf,IAAN,CAAWG,CAAX,CAAaP,cAAjB,EAAiC;AAC7BoH,cAAAA,GAAG,CAACnE,KAAJ,CAAUC,IAAV,GAAiBmE,SAAS,GAAG,IAA7B;AACAD,cAAAA,GAAG,CAACnE,KAAJ,CAAUE,GAAV,GAAgBmE,SAAS,GAAG,IAA5B;AACH,aAHD,MAGO;AACHjG,cAAAA,KAAK,CAACyB,SAAN,CAAgBsE,GAAhB,EAAqB,WAArB,EAAkC,iBAAiBC,SAAjB,GAA6B,MAA7B,GAAsCC,SAAtC,GAAkD,QAApF;AACH;AACJ;AACJ,SA9CD;;AAgDArH,QAAAA,IAAI,CAACf,SAAL,CAAe0I,OAAf,GAAyB,YAAY;AAEjC,cAAIzG,KAAK,GAAG,IAAZ,CAFiC,CAIjC;;;AACAE,UAAAA,KAAK,CAACwG,GAAN,CAAU1G,KAAK,CAACf,IAAN,CAAWD,EAArB,EAAyB,SAAzB;AACAkB,UAAAA,KAAK,CAACwG,GAAN,CAAUxK,MAAV,EAAkB,SAAlB;;AACA,eAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqD,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoB3D,MAAxC,EAAgDT,CAAC,EAAjD,EAAqD;AACjDuD,YAAAA,KAAK,CAACwG,GAAN,CAAU1G,KAAK,CAACf,IAAN,CAAW8B,QAAX,CAAoBpE,CAApB,CAAV,EAAkC,SAAlC;AACH;;AAEDuD,UAAAA,KAAK,CAACwG,GAAN,CAAU1G,KAAK,CAACf,IAAN,CAAWD,EAArB,EAAyB,WAAzB;;AACAgB,UAAAA,KAAK,CAACkC,SAAN;;AACAa,UAAAA,YAAY,CAAC/C,KAAK,CAACT,eAAP,CAAZ;AACAS,UAAAA,KAAK,CAACT,eAAN,GAAwB,KAAxB;AACH,SAfD;;AAiBArD,QAAAA,MAAM,CAACyK,SAAP,CAAiBjI,IAAjB,GAAwBI,IAAxB;AACH,OAjsBD;AAmsBC,KApsB+zB,EAosB9zB,EApsB8zB;AAAH,GAA5c,EAosB1W,EApsB0W,EAosBvW,CAAC,CAAD,CApsBuW,EAosBlW,CApsBkW,CAAP;AAqsBzW,CArsBE","sourcesContent":["/**!\n * lg-zoom.js | 1.3.0 | October 14th 2020\n * http://sachinchoolur.github.io/lg-zoom.js\n * Copyright (c) 2016 Sachin N; \n * @license GPLv3 \n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.LgZoom = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define([], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory();\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory();\n        global.lgZoom = mod.exports;\n    }\n})(this, function () {\n    'use strict';\n\n    var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n\n        return target;\n    };\n\n    var getUseLeft = function getUseLeft() {\n        var useLeft = false;\n        var isChrome = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n        if (isChrome && parseInt(isChrome[2], 10) < 54) {\n            useLeft = true;\n        }\n\n        return useLeft;\n    };\n\n    var zoomDefaults = {\n        scale: 1,\n        zoom: true,\n        actualSize: true,\n        enableZoomAfter: 300,\n        useLeftForZoom: getUseLeft()\n    };\n\n    var Zoom = function Zoom(element) {\n\n        this.el = element;\n\n        this.core = window.lgData[this.el.getAttribute('lg-uid')];\n        this.core.s = _extends({}, zoomDefaults, this.core.s);\n\n        if (this.core.s.zoom && this.core.doCss()) {\n            this.init();\n\n            // Store the zoomable timeout value just to clear it while closing\n            this.zoomabletimeout = false;\n\n            // Set the initial value center\n            this.pageX = window.innerWidth / 2;\n            this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n        }\n\n        return this;\n    };\n\n    Zoom.prototype.init = function () {\n\n        var _this = this;\n        var zoomIcons = '<button type=\"button\" aria-label=\"Zoom in\" id=\"lg-zoom-in\" class=\"lg-icon\"></button><button type=\"button\" aria-label=\"Zoom out\" id=\"lg-zoom-out\" class=\"lg-icon\"></button>';\n\n        if (_this.core.s.actualSize) {\n            zoomIcons += '<button type=\"button\" aria-label=\"Actual size\" id=\"lg-actual-size\" class=\"lg-icon\"></button>';\n        }\n\n        if (_this.core.s.useLeftForZoom) {\n            utils.addClass(_this.core.outer, 'lg-use-left-for-zoom');\n        } else {\n            utils.addClass(_this.core.outer, 'lg-use-transition-for-zoom');\n        }\n\n        this.core.outer.querySelector('.lg-toolbar').insertAdjacentHTML('beforeend', zoomIcons);\n\n        // Add zoomable class\n        utils.on(_this.core.el, 'onSlideItemLoad.lgtmzoom', function (event) {\n\n            // delay will be 0 except first time\n            var _speed = _this.core.s.enableZoomAfter + event.detail.delay;\n\n            // set _speed value 0 if gallery opened from direct url and if it is first slide\n            if (utils.hasClass(document.body, 'lg-from-hash') && event.detail.delay) {\n\n                // will execute only once\n                _speed = 0;\n            } else {\n\n                // Remove lg-from-hash to enable starting animation.\n                utils.removeClass(document.body, 'lg-from-hash');\n            }\n\n            _this.zoomabletimeout = setTimeout(function () {\n                utils.addClass(_this.core.___slide[event.detail.index], 'lg-zoomable');\n            }, _speed + 30);\n        });\n\n        var scale = 1;\n        /**\n         * @desc Image zoom\n         * Translate the wrap and scale the image to get better user experience\n         *\n         * @param {String} scaleVal - Zoom decrement/increment value\n         */\n        var zoom = function zoom(scaleVal) {\n\n            var image = _this.core.outer.querySelector('.lg-current .lg-image');\n            var _x;\n            var _y;\n\n            // Find offset manually to avoid issue after zoom\n            var offsetX = (window.innerWidth - image.clientWidth) / 2;\n            var offsetY = (window.innerHeight - image.clientHeight) / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n\n            _x = _this.pageX - offsetX;\n            _y = _this.pageY - offsetY;\n\n            var x = (scaleVal - 1) * _x;\n            var y = (scaleVal - 1) * _y;\n\n            utils.setVendor(image, 'Transform', 'scale3d(' + scaleVal + ', ' + scaleVal + ', 1)');\n            image.setAttribute('data-scale', scaleVal);\n\n            if (_this.core.s.useLeftForZoom) {\n                image.parentElement.style.left = -x + 'px';\n                image.parentElement.style.top = -y + 'px';\n            } else {\n                utils.setVendor(image.parentElement, 'Transform', 'translate3d(-' + x + 'px, -' + y + 'px, 0)');\n            }\n\n            image.parentElement.setAttribute('data-x', x);\n            image.parentElement.setAttribute('data-y', y);\n        };\n\n        var callScale = function callScale() {\n            if (scale > 1) {\n                utils.addClass(_this.core.outer, 'lg-zoomed');\n            } else {\n                _this.resetZoom();\n            }\n\n            if (scale < 1) {\n                scale = 1;\n            }\n\n            zoom(scale);\n        };\n\n        var actualSize = function actualSize(event, image, index, fromIcon) {\n            var w = image.clientWidth;\n            var nw;\n            if (_this.core.s.dynamic) {\n                nw = _this.core.s.dynamicEl[index].width || image.naturalWidth || w;\n            } else {\n                nw = _this.core.items[index].getAttribute('data-width') || image.naturalWidth || w;\n            }\n\n            var _scale;\n\n            if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                scale = 1;\n            } else {\n                if (nw > w) {\n                    _scale = nw / w;\n                    scale = _scale || 2;\n                }\n            }\n\n            if (fromIcon) {\n                _this.pageX = window.innerWidth / 2;\n                _this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n            } else {\n                _this.pageX = event.pageX || event.targetTouches[0].pageX;\n                _this.pageY = event.pageY || event.targetTouches[0].pageY;\n            }\n\n            callScale();\n            setTimeout(function () {\n                utils.removeClass(_this.core.outer, 'lg-grabbing');\n                utils.addClass(_this.core.outer, 'lg-grab');\n            }, 10);\n        };\n\n        var tapped = false;\n\n        // event triggered after appending slide content\n        utils.on(_this.core.el, 'onAferAppendSlide.lgtmzoom', function (event) {\n\n            var index = event.detail.index;\n\n            // Get the current element\n            var image = _this.core.___slide[index].querySelector('.lg-image');\n\n            if (!_this.core.isTouch) {\n                utils.on(image, 'dblclick', function (event) {\n                    actualSize(event, image, index);\n                });\n            }\n\n            if (_this.core.isTouch) {\n                utils.on(image, 'touchstart', function (event) {\n                    if (!tapped) {\n                        tapped = setTimeout(function () {\n                            tapped = null;\n                        }, 300);\n                    } else {\n                        clearTimeout(tapped);\n                        tapped = null;\n                        actualSize(event, image, index);\n                    }\n\n                    event.preventDefault();\n                });\n            }\n        });\n\n        // Update zoom on resize and orientationchange\n        utils.on(window, 'resize.lgzoom scroll.lgzoom orientationchange.lgzoom', function () {\n            _this.pageX = window.innerWidth / 2;\n            _this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n            zoom(scale);\n        });\n\n        utils.on(document.getElementById('lg-zoom-out'), 'click.lg', function () {\n            if (_this.core.outer.querySelector('.lg-current .lg-image')) {\n                scale -= _this.core.s.scale;\n                callScale();\n            }\n        });\n\n        utils.on(document.getElementById('lg-zoom-in'), 'click.lg', function () {\n            if (_this.core.outer.querySelector('.lg-current .lg-image')) {\n                scale += _this.core.s.scale;\n                callScale();\n            }\n        });\n\n        utils.on(document.getElementById('lg-actual-size'), 'click.lg', function (event) {\n            actualSize(event, _this.core.___slide[_this.core.index].querySelector('.lg-image'), _this.core.index, true);\n        });\n\n        // Reset zoom on slide change\n        utils.on(_this.core.el, 'onBeforeSlide.lgtm', function () {\n            scale = 1;\n            _this.resetZoom();\n        });\n\n        // Drag option after zoom\n        if (!_this.core.isTouch) {\n            _this.zoomDrag();\n        }\n\n        if (_this.core.isTouch) {\n            _this.zoomSwipe();\n        }\n    };\n\n    Zoom.prototype.getModifier = function (rotateValue, axis, el) {\n        var originalRotate = rotateValue;\n        rotateValue = Math.abs(rotateValue);\n        var transformValues = this.getCurrentTransform(el);\n        if (!transformValues) {\n            return 1;\n        }\n        var modifier = 1;\n        if (axis === 'X') {\n            var flipHorizontalValue = Math.sign(parseFloat(transformValues[0]));\n            if (rotateValue === 0 || rotateValue === 180) {\n                modifier = 1;\n            } else if (rotateValue === 90) {\n                if (originalRotate === -90 && flipHorizontalValue === 1 || originalRotate === 90 && flipHorizontalValue === -1) {\n                    modifier = -1;\n                } else {\n                    modifier = 1;\n                }\n            }\n            modifier = modifier * flipHorizontalValue;\n        } else {\n            var flipVerticalValue = Math.sign(parseFloat(transformValues[3]));\n            if (rotateValue === 0 || rotateValue === 180) {\n                modifier = 1;\n            } else if (rotateValue === 90) {\n                var sinX = parseFloat(transformValues[1]);\n                var sinMinusX = parseFloat(transformValues[2]);\n                modifier = Math.sign(sinX * sinMinusX * originalRotate * flipVerticalValue);\n            }\n            modifier = modifier * flipVerticalValue;\n        }\n        return modifier;\n    };\n\n    Zoom.prototype.getImageSize = function ($image, rotateValue, axis) {\n        var imageSizes = {\n            y: 'offsetHeight',\n            x: 'offsetWidth'\n        };\n        if (rotateValue === 90) {\n            // Swap axis \n            if (axis === 'x') {\n                axis = 'y';\n            } else {\n                axis = 'x';\n            }\n        }\n        return $image[imageSizes[axis]];\n    };\n\n    Zoom.prototype.getDragCords = function (e, rotateValue) {\n        if (rotateValue === 90) {\n            return {\n                x: e.pageY,\n                y: e.pageX\n            };\n        } else {\n            return {\n                x: e.pageX,\n                y: e.pageY\n            };\n        }\n    };\n    Zoom.prototype.getSwipeCords = function (e, rotateValue) {\n        var x = e.targetTouches[0].pageX;\n        var y = e.targetTouches[0].pageY;\n        if (rotateValue === 90) {\n            return {\n                x: y,\n                y: x\n            };\n        } else {\n            return {\n                x: x,\n                y: y\n            };\n        }\n    };\n\n    Zoom.prototype.getPossibleDragCords = function ($image, rotateValue) {\n\n        var minY = (this.core.outer.querySelector('.lg').clientHeight - this.getImageSize($image, rotateValue, 'y')) / 2;\n        var maxY = Math.abs(this.getImageSize($image, rotateValue, 'y') * Math.abs($image.getAttribute('data-scale')) - this.core.outer.querySelector('.lg').clientHeight + minY);\n        var minX = (this.core.outer.querySelector('.lg').clientWidth - this.getImageSize($image, rotateValue, 'x')) / 2;\n        var maxX = Math.abs(this.getImageSize($image, rotateValue, 'x') * Math.abs($image.getAttribute('data-scale')) - this.core.outer.querySelector('.lg').clientWidth + minX);\n        if (rotateValue === 90) {\n            return {\n                minY: minX,\n                maxY: maxX,\n                minX: minY,\n                maxX: maxY\n            };\n        } else {\n            return {\n                minY: minY,\n                maxY: maxY,\n                minX: minX,\n                maxX: maxX\n            };\n        }\n    };\n\n    Zoom.prototype.getDragAllowedAxises = function ($image, rotateValue) {\n        var allowY = this.getImageSize($image, rotateValue, 'y') * $image.getAttribute('data-scale') > this.core.outer.querySelector('.lg').clientHeight;\n        var allowX = this.getImageSize($image, rotateValue, 'x') * $image.getAttribute('data-scale') > this.core.outer.querySelector('.lg').clientWidth;\n        if (rotateValue === 90) {\n            return {\n                allowX: allowY,\n                allowY: allowX\n            };\n        } else {\n            return {\n                allowX: allowX,\n                allowY: allowY\n            };\n        }\n    };\n\n    /**\n     * \n     * @param {Element} el \n     * @return matrix(cos(X), sin(X), -sin(X), cos(X), 0, 0);\n     * Get the current transform value\n     */\n    Zoom.prototype.getCurrentTransform = function (el) {\n        if (!el) {\n            return 0;\n        }\n        var st = window.getComputedStyle(el, null);\n        var tm = st.getPropertyValue('-webkit-transform') || st.getPropertyValue('-moz-transform') || st.getPropertyValue('-ms-transform') || st.getPropertyValue('-o-transform') || st.getPropertyValue('transform') || 'none';\n        if (tm !== 'none') {\n            return tm.split('(')[1].split(')')[0].split(',');\n        }\n        return 0;\n    };\n\n    Zoom.prototype.getCurrentRotation = function (el) {\n        if (!el) {\n            return 0;\n        }\n        var values = this.getCurrentTransform(el);\n        if (values) {\n            return Math.round(Math.atan2(values[1], values[0]) * (180 / Math.PI));\n            // If you want rotate in 360\n            //return (angle < 0 ? angle + 360 : angle);\n        }\n        return 0;\n    };\n\n    // Reset zoom effect\n    Zoom.prototype.resetZoom = function () {\n        utils.removeClass(this.core.outer, 'lg-zoomed');\n        for (var i = 0; i < this.core.___slide.length; i++) {\n            if (this.core.___slide[i].querySelector('.lg-img-wrap')) {\n                this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('style');\n                this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('data-x');\n                this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('data-y');\n            }\n        }\n\n        for (var j = 0; j < this.core.___slide.length; j++) {\n            if (this.core.___slide[j].querySelector('.lg-image')) {\n                this.core.___slide[j].querySelector('.lg-image').removeAttribute('style');\n                this.core.___slide[j].querySelector('.lg-image').removeAttribute('data-scale');\n            }\n        }\n\n        // Reset pagx pagy values to center\n        this.pageX = window.innerWidth / 2;\n        this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n    };\n\n    Zoom.prototype.zoomSwipe = function () {\n        var _this = this;\n        var startCoords = {};\n        var endCoords = {};\n        var isMoved = false;\n\n        // Allow x direction drag\n        var allowX = false;\n\n        // Allow Y direction drag\n        var allowY = false;\n\n        var rotateValue = 0;\n        var rotateEl;\n\n        for (var i = 0; i < _this.core.___slide.length; i++) {\n\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[i], 'touchstart.lg', function (e) {\n\n                if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                    var $image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n\n                    rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n                    rotateValue = _this.getCurrentRotation(rotateEl);\n\n                    var dragAllowedAxises = _this.getDragAllowedAxises($image, Math.abs(rotateValue));\n                    allowY = dragAllowedAxises.allowY;\n                    allowX = dragAllowedAxises.allowX;\n\n                    if (allowX || allowY) {\n                        e.preventDefault();\n                        startCoords = _this.getSwipeCords(e, Math.abs(rotateValue));\n                    }\n                }\n            });\n        }\n\n        for (var j = 0; j < _this.core.___slide.length; j++) {\n\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[j], 'touchmove.lg', function (e) {\n\n                if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n\n                    var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n                    var distanceX;\n                    var distanceY;\n\n                    e.preventDefault();\n                    isMoved = true;\n\n                    endCoords = _this.getSwipeCords(e, Math.abs(rotateValue));\n\n                    // reset opacity and transition duration\n                    utils.addClass(_this.core.outer, 'lg-zoom-dragging');\n\n                    if (allowY) {\n                        distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n                    } else {\n                        distanceY = -Math.abs(_el.getAttribute('data-y'));\n                    }\n\n                    if (allowX) {\n                        distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n                    } else {\n                        distanceX = -Math.abs(_el.getAttribute('data-x'));\n                    }\n\n                    if (Math.abs(endCoords.x - startCoords.x) > 15 || Math.abs(endCoords.y - startCoords.y) > 15) {\n\n                        if (_this.core.s.useLeftForZoom) {\n                            _el.style.left = distanceX + 'px';\n                            _el.style.top = distanceY + 'px';\n                        } else {\n                            utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n                        }\n                    }\n                }\n            });\n        }\n\n        for (var k = 0; k < _this.core.___slide.length; k++) {\n\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[k], 'touchend.lg', function () {\n                if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                    if (isMoved) {\n                        isMoved = false;\n                        utils.removeClass(_this.core.outer, 'lg-zoom-dragging');\n                        _this.touchendZoom(startCoords, endCoords, allowX, allowY, rotateValue);\n                    }\n                }\n            });\n        }\n    };\n\n    Zoom.prototype.zoomDrag = function () {\n\n        var _this = this;\n        var startCoords = {};\n        var endCoords = {};\n        var isDraging = false;\n        var isMoved = false;\n\n        // Allow x direction drag\n        var allowX = false;\n\n        // Allow Y direction drag\n        var allowY = false;\n\n        var rotateValue = 0;\n        var rotateEl;\n\n        for (var i = 0; i < _this.core.___slide.length; i++) {\n\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[i], 'mousedown.lgzoom', function (e) {\n\n                // execute only on .lg-object\n                var $image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n\n                rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n                rotateValue = _this.getCurrentRotation(rotateEl);\n\n                var dragAllowedAxises = _this.getDragAllowedAxises($image, Math.abs(rotateValue));\n                allowY = dragAllowedAxises.allowY;\n                allowX = dragAllowedAxises.allowX;\n\n                if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                    if (utils.hasClass(e.target, 'lg-object') && (allowX || allowY)) {\n                        e.preventDefault();\n                        startCoords = _this.getDragCords(e, Math.abs(rotateValue));\n\n                        isDraging = true;\n\n                        // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                        _this.core.outer.scrollLeft += 1;\n                        _this.core.outer.scrollLeft -= 1;\n\n                        utils.removeClass(_this.core.outer, 'lg-grab');\n                        utils.addClass(_this.core.outer, 'lg-grabbing');\n                    }\n                }\n            });\n        }\n\n        utils.on(window, 'mousemove.lgzoom', function (e) {\n            if (isDraging) {\n                var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n                var distanceX;\n                var distanceY;\n\n                isMoved = true;\n                endCoords = _this.getDragCords(e, Math.abs(rotateValue));\n\n                // reset opacity and transition duration\n                utils.addClass(_this.core.outer, 'lg-zoom-dragging');\n\n                if (allowY) {\n                    distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n                } else {\n                    distanceY = -Math.abs(_el.getAttribute('data-y'));\n                }\n\n                if (allowX) {\n                    distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n                } else {\n                    distanceX = -Math.abs(_el.getAttribute('data-x'));\n                }\n\n                if (_this.core.s.useLeftForZoom) {\n                    _el.style.left = distanceX + 'px';\n                    _el.style.top = distanceY + 'px';\n                } else {\n                    utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n                }\n            }\n        });\n\n        utils.on(window, 'mouseup.lgzoom', function (e) {\n\n            if (isDraging) {\n                isDraging = false;\n                utils.removeClass(_this.core.outer, 'lg-zoom-dragging');\n\n                // Fix for chrome mouse move on click\n                if (isMoved && (startCoords.x !== endCoords.x || startCoords.y !== endCoords.y)) {\n                    endCoords = _this.getDragCords(e, Math.abs(rotateValue));\n                    _this.touchendZoom(startCoords, endCoords, allowX, allowY, rotateValue);\n                }\n\n                isMoved = false;\n            }\n\n            utils.removeClass(_this.core.outer, 'lg-grabbing');\n            utils.addClass(_this.core.outer, 'lg-grab');\n        });\n    };\n\n    Zoom.prototype.touchendZoom = function (startCoords, endCoords, allowX, allowY, rotateValue) {\n\n        var _this = this;\n        var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n        var image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n        var rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n        var distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n        var distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n        var possibleDragCords = _this.getPossibleDragCords(image, Math.abs(rotateValue));\n\n        if (Math.abs(endCoords.x - startCoords.x) > 15 || Math.abs(endCoords.y - startCoords.y) > 15) {\n            if (allowY) {\n                if (distanceY <= -possibleDragCords.maxY) {\n                    distanceY = -possibleDragCords.maxY;\n                } else if (distanceY >= -possibleDragCords.minY) {\n                    distanceY = -possibleDragCords.minY;\n                }\n            }\n\n            if (allowX) {\n                if (distanceX <= -possibleDragCords.maxX) {\n                    distanceX = -possibleDragCords.maxX;\n                } else if (distanceX >= -possibleDragCords.minX) {\n                    distanceX = -possibleDragCords.minX;\n                }\n            }\n\n            if (allowY) {\n                _el.setAttribute('data-y', Math.abs(distanceY));\n            } else {\n                distanceY = -Math.abs(_el.getAttribute('data-y'));\n            }\n\n            if (allowX) {\n                _el.setAttribute('data-x', Math.abs(distanceX));\n            } else {\n                distanceX = -Math.abs(_el.getAttribute('data-x'));\n            }\n\n            if (_this.core.s.useLeftForZoom) {\n                _el.style.left = distanceX + 'px';\n                _el.style.top = distanceY + 'px';\n            } else {\n                utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n            }\n        }\n    };\n\n    Zoom.prototype.destroy = function () {\n\n        var _this = this;\n\n        // Unbind all events added by lightGallery zoom plugin\n        utils.off(_this.core.el, '.lgzoom');\n        utils.off(window, '.lgzoom');\n        for (var i = 0; i < _this.core.___slide.length; i++) {\n            utils.off(_this.core.___slide[i], '.lgzoom');\n        }\n\n        utils.off(_this.core.el, '.lgtmzoom');\n        _this.resetZoom();\n        clearTimeout(_this.zoomabletimeout);\n        _this.zoomabletimeout = false;\n    };\n\n    window.lgModules.zoom = Zoom;\n});\n\n},{}]},{},[1])(1)\n});\n"]},"metadata":{},"sourceType":"script"}