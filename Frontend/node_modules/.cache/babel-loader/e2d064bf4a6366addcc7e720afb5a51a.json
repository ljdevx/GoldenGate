{"ast":null,"code":"/**!\n * lg-video.js | 1.3.0 | November 7th 2020\n * http://sachinchoolur.github.io/lg-video.js\n * Copyright (c) 2016 Sachin N; \n * @license GPLv3 \n */\n(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n\n    g.LgVideo = f();\n  }\n})(function () {\n  var define, module, exports;\n  return function () {\n    function r(e, n, t) {\n      function o(i, f) {\n        if (!n[i]) {\n          if (!e[i]) {\n            var c = \"function\" == typeof require && require;\n            if (!f && c) return c(i, !0);\n            if (u) return u(i, !0);\n            var a = new Error(\"Cannot find module '\" + i + \"'\");\n            throw a.code = \"MODULE_NOT_FOUND\", a;\n          }\n\n          var p = n[i] = {\n            exports: {}\n          };\n          e[i][0].call(p.exports, function (r) {\n            var n = e[i][1][r];\n            return o(n || r);\n          }, p, p.exports, r, e, n, t);\n        }\n\n        return n[i].exports;\n      }\n\n      for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);\n\n      return o;\n    }\n\n    return r;\n  }()({\n    1: [function (require, module, exports) {\n      (function (global, factory) {\n        if (typeof define === \"function\" && define.amd) {\n          define([], factory);\n        } else if (typeof exports !== \"undefined\") {\n          factory();\n        } else {\n          var mod = {\n            exports: {}\n          };\n          factory();\n          global.lgVideo = mod.exports;\n        }\n      })(this, function () {\n        'use strict';\n\n        var _extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }\n\n          return target;\n        };\n\n        var videoDefaults = {\n          videoMaxWidth: '855px',\n          autoplayFirstVideo: true,\n          youtubePlayerParams: false,\n          vimeoPlayerParams: false,\n          dailymotionPlayerParams: false,\n          vkPlayerParams: false,\n          videojs: false,\n          videojsOptions: {}\n        };\n\n        var Video = function Video(element) {\n          this.el = element;\n          this.core = window.lgData[this.el.getAttribute('lg-uid')];\n          this.core.s = _extends({}, videoDefaults, this.core.s);\n          this.videoLoaded = false;\n          this.init();\n          return this;\n        };\n\n        Video.prototype.init = function () {\n          var _this = this; // Event triggered when video url found without poster\n\n\n          utils.on(_this.core.el, 'hasVideo.lgtm', function (event) {\n            _this.core.___slide[event.detail.index].querySelector('.lg-video').insertAdjacentHTML('beforeend', _this.loadVideo(event.detail.src, 'lg-object', true, event.detail.index, event.detail.html));\n\n            if (event.detail.html) {\n              if (_this.core.s.videojs) {\n                try {\n                  videojs(_this.core.___slide[event.detail.index].querySelector('.lg-html5'), _this.core.s.videojsOptions, function () {\n                    if (!_this.videoLoaded && event.detail.index === _this.core.index && _this.core.s.autoplayFirstVideo) {\n                      this.play();\n                    }\n                  });\n                } catch (e) {\n                  console.error('lightGallery:- Make sure you have included videojs');\n                }\n              } else {\n                if (!_this.videoLoaded && event.detail.index === _this.core.index && _this.core.s.autoplayFirstVideo) {\n                  _this.core.___slide[event.detail.index].querySelector('.lg-html5').play();\n                }\n              }\n            }\n          }); // Set max width for video\n\n          utils.on(_this.core.el, 'onAferAppendSlide.lgtm', function (event) {\n            if (_this.core.___slide[event.detail.index].querySelector('.lg-video-cont')) {\n              _this.core.___slide[event.detail.index].querySelector('.lg-video-cont').style.maxWidth = _this.core.s.videoMaxWidth;\n              _this.videoLoaded = true;\n            }\n          });\n\n          var loadOnClick = function loadOnClick($el) {\n            // check slide has poster\n            if (utils.hasClass($el.querySelector('.lg-object'), 'lg-has-poster') && $el.querySelector('.lg-object').style.display !== 'none') {\n              // check already video element present\n              if (!utils.hasClass($el, 'lg-has-video')) {\n                utils.addClass($el, 'lg-video-playing');\n                utils.addClass($el, 'lg-has-video');\n\n                var _src;\n\n                var _html;\n\n                var _loadVideo = function _loadVideo(_src, _html) {\n                  $el.querySelector('.lg-video').insertAdjacentHTML('beforeend', _this.loadVideo(_src, '', false, _this.core.index, _html));\n\n                  if (_html) {\n                    if (_this.core.s.videojs) {\n                      try {\n                        videojs(_this.core.___slide[_this.core.index].querySelector('.lg-html5'), _this.core.s.videojsOptions, function () {\n                          this.play();\n                        });\n                      } catch (e) {\n                        console.error('lightGallery:- Make sure you have included videojs');\n                      }\n                    } else {\n                      _this.core.___slide[_this.core.index].querySelector('.lg-html5').play();\n                    }\n                  }\n                };\n\n                if (_this.core.s.dynamic) {\n                  _src = _this.core.s.dynamicEl[_this.core.index].src;\n                  _html = _this.core.s.dynamicEl[_this.core.index].html;\n\n                  _loadVideo(_src, _html);\n                } else {\n                  _src = _this.core.items[_this.core.index].getAttribute('href') || _this.core.items[_this.core.index].getAttribute('data-src');\n                  _html = _this.core.items[_this.core.index].getAttribute('data-html');\n\n                  _loadVideo(_src, _html);\n                }\n\n                var $tempImg = $el.querySelector('.lg-object');\n                $el.querySelector('.lg-video').appendChild($tempImg); // @todo loading icon for html5 videos also\n                // for showing the loading indicator while loading video\n\n                if (!utils.hasClass($el.querySelector('.lg-video-object'), 'lg-html5')) {\n                  utils.removeClass($el, 'lg-complete');\n                  utils.on($el.querySelector('.lg-video-object'), 'load.lg error.lg', function () {\n                    utils.addClass($el, 'lg-complete');\n                  });\n                }\n              } else {\n                var youtubePlayer = $el.querySelector('.lg-youtube');\n                var vimeoPlayer = $el.querySelector('.lg-vimeo');\n                var dailymotionPlayer = $el.querySelector('.lg-dailymotion');\n                var html5Player = $el.querySelector('.lg-html5');\n\n                if (youtubePlayer) {\n                  youtubePlayer.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*');\n                } else if (vimeoPlayer) {\n                  try {\n                    new Vimeo.Player(vimeoPlayer).play().catch(function (error) {\n                      console.error('error playing the video:', error.name);\n                    });\n                  } catch (e) {\n                    console.warn('lightGallery:- Make sure you have included https://github.com/vimeo/player.js');\n                  }\n                } else if (dailymotionPlayer) {\n                  dailymotionPlayer.contentWindow.postMessage('play', '*');\n                } else if (html5Player) {\n                  if (_this.core.s.videojs) {\n                    try {\n                      videojs(html5Player).play();\n                    } catch (e) {\n                      console.error('lightGallery:- Make sure you have included videojs');\n                    }\n                  } else {\n                    html5Player.play();\n                  }\n                }\n\n                utils.addClass($el, 'lg-video-playing');\n              }\n            }\n          };\n\n          if (_this.core.doCss() && _this.core.items.length > 1 && (_this.core.s.enableSwipe && _this.core.isTouch || _this.core.s.enableDrag && !_this.core.isTouch)) {\n            utils.on(_this.core.el, 'onSlideClick.lgtm', function () {\n              var $el = _this.core.___slide[_this.core.index];\n              loadOnClick($el);\n            });\n          } else {\n            // For IE 9 and bellow\n            for (var i = 0; i < _this.core.___slide.length; i++) {\n              /*jshint loopfunc: true */\n              (function (index) {\n                utils.on(_this.core.___slide[index], 'click.lg', function () {\n                  loadOnClick(_this.core.___slide[index]);\n                });\n              })(i);\n            }\n          }\n\n          utils.on(_this.core.el, 'onBeforeSlide.lgtm', function (event) {\n            var $videoSlide = _this.core.___slide[event.detail.prevIndex];\n            var youtubePlayer = $videoSlide.querySelector('.lg-youtube');\n            var vimeoPlayer = $videoSlide.querySelector('.lg-vimeo');\n            var dailymotionPlayer = $videoSlide.querySelector('.lg-dailymotion');\n            var vkPlayer = $videoSlide.querySelector('.lg-vk');\n            var html5Player = $videoSlide.querySelector('.lg-html5');\n\n            if (youtubePlayer) {\n              youtubePlayer.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n            } else if (vimeoPlayer) {\n              try {\n                new Vimeo.Player(vimeoPlayer).pause().catch(function (error) {\n                  console.error('Unable to pause the video:', error.name);\n                });\n              } catch (e) {\n                console.warn('lightGallery:- Make sure you have included https://github.com/vimeo/player.js');\n              }\n            } else if (dailymotionPlayer) {\n              dailymotionPlayer.contentWindow.postMessage('pause', '*');\n            } else if (html5Player) {\n              if (_this.core.s.videojs) {\n                try {\n                  videojs(html5Player).pause();\n                } catch (e) {\n                  console.error('lightGallery:- Make sure you have included videojs');\n                }\n              } else {\n                html5Player.pause();\n              }\n            }\n\n            if (vkPlayer) {\n              vkPlayer.setAttribute('src', vkPlayer.getAttribute('src').replace('&autoplay', '&noplay'));\n            }\n\n            var _src;\n\n            if (_this.core.s.dynamic) {\n              _src = _this.core.s.dynamicEl[event.detail.index].src;\n            } else {\n              _src = _this.core.items[event.detail.index].getAttribute('href') || _this.core.items[event.detail.index].getAttribute('data-src');\n            }\n\n            var _isVideo = _this.core.isVideo(_src, event.detail.index) || {};\n\n            if (_isVideo.youtube || _isVideo.vimeo || _isVideo.dailymotion || _isVideo.vk) {\n              utils.addClass(_this.core.outer, 'lg-hide-download');\n            } //$videoSlide.addClass('lg-complete');\n\n          });\n          utils.on(_this.core.el, 'onAfterSlide.lgtm', function (event) {\n            utils.removeClass(_this.core.___slide[event.detail.prevIndex], 'lg-video-playing');\n          });\n        };\n\n        Video.prototype.loadVideo = function (src, addClass, noposter, index, html) {\n          var video = '';\n          var autoplay = 1;\n          var a = '';\n          var isVideo = this.core.isVideo(src, index) || {}; // Enable autoplay for first video if poster doesn't exist\n\n          if (noposter) {\n            if (this.videoLoaded) {\n              autoplay = 0;\n            } else {\n              autoplay = this.core.s.autoplayFirstVideo ? 1 : 0;\n            }\n          }\n\n          var videoTitle;\n\n          if (this.core.s.dynamic) {\n            videoTitle = this.core.s.dynamicEl[index].title;\n          } else {\n            videoTitle = this.core.items[index].getAttribute('title');\n\n            if (!videoTitle) {\n              var firstImage = this.core.items[index].querySelector('img');\n\n              if (firstImage) {\n                videoTitle = firstImage.getAttribute('alt');\n              }\n            }\n          }\n\n          videoTitle = videoTitle ? 'title=\"' + videoTitle + '\"' : '';\n\n          if (isVideo.youtube) {\n            a = '?wmode=opaque&autoplay=' + autoplay + '&enablejsapi=1';\n\n            if (this.core.s.youtubePlayerParams) {\n              a = a + '&' + utils.param(this.core.s.youtubePlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-youtube ' + addClass + '\" ' + videoTitle + ' width=\"560\" height=\"315\" src=\"//www.youtube.com/embed/' + isVideo.youtube[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n          } else if (isVideo.vimeo) {\n            a = '?autoplay=' + autoplay;\n\n            if (this.core.s.vimeoPlayerParams) {\n              a = a + '&' + utils.param(this.core.s.vimeoPlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-vimeo ' + addClass + '\" ' + videoTitle + ' width=\"560\" height=\"315\"  src=\"//player.vimeo.com/video/' + isVideo.vimeo[1] + a + '\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\n          } else if (isVideo.dailymotion) {\n            a = '?wmode=opaque&autoplay=' + autoplay + '&api=postMessage';\n\n            if (this.core.s.dailymotionPlayerParams) {\n              a = a + '&' + utils.param(this.core.s.dailymotionPlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-dailymotion ' + addClass + '\" ' + videoTitle + ' width=\"560\" height=\"315\" src=\"//www.dailymotion.com/embed/video/' + isVideo.dailymotion[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n          } else if (isVideo.html5) {\n            var fL = html.substring(0, 1);\n\n            if (fL === '.' || fL === '#') {\n              html = document.querySelector(html).innerHTML;\n            }\n\n            video = html;\n          } else if (isVideo.vk) {\n            a = '&autoplay=' + autoplay;\n\n            if (this.core.s.vkPlayerParams) {\n              a = a + '&' + utils.param(this.core.s.vkPlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-vk ' + addClass + '\" ' + videoTitle + '  width=\"560\" height=\"315\" src=\"//vk.com/video_ext.php?' + isVideo.vk[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n          }\n\n          return video;\n        };\n\n        Video.prototype.destroy = function () {\n          this.videoLoaded = false;\n        };\n\n        window.lgModules.video = Video;\n      });\n    }, {}]\n  }, {}, [1])(1);\n});","map":{"version":3,"sources":["/Users/debpratiher/Documents/GoldenGate/Frontend/node_modules/lg-video.js/dist/lg-video.js"],"names":["f","exports","module","define","amd","g","window","global","self","LgVideo","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","factory","mod","lgVideo","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","videoDefaults","videoMaxWidth","autoplayFirstVideo","youtubePlayerParams","vimeoPlayerParams","dailymotionPlayerParams","vkPlayerParams","videojs","videojsOptions","Video","element","el","core","lgData","getAttribute","s","videoLoaded","init","_this","utils","on","event","___slide","detail","index","querySelector","insertAdjacentHTML","loadVideo","src","html","play","console","error","style","maxWidth","loadOnClick","$el","hasClass","display","addClass","_src","_html","_loadVideo","dynamic","dynamicEl","items","$tempImg","appendChild","removeClass","youtubePlayer","vimeoPlayer","dailymotionPlayer","html5Player","contentWindow","postMessage","Vimeo","Player","catch","name","warn","doCss","enableSwipe","isTouch","enableDrag","$videoSlide","prevIndex","vkPlayer","pause","setAttribute","replace","_isVideo","isVideo","youtube","vimeo","dailymotion","vk","outer","noposter","video","autoplay","videoTitle","title","firstImage","param","html5","fL","substring","document","innerHTML","destroy","lgModules"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAAG,CAAC,UAASA,CAAT,EAAW;AAAC,MAAG,OAAOC,OAAP,KAAiB,QAAjB,IAA2B,OAAOC,MAAP,KAAgB,WAA9C,EAA0D;AAACA,IAAAA,MAAM,CAACD,OAAP,GAAeD,CAAC,EAAhB;AAAmB,GAA9E,MAAmF,IAAG,OAAOG,MAAP,KAAgB,UAAhB,IAA4BA,MAAM,CAACC,GAAtC,EAA0C;AAACD,IAAAA,MAAM,CAAC,EAAD,EAAIH,CAAJ,CAAN;AAAa,GAAxD,MAA4D;AAAC,QAAIK,CAAJ;;AAAM,QAAG,OAAOC,MAAP,KAAgB,WAAnB,EAA+B;AAACD,MAAAA,CAAC,GAACC,MAAF;AAAS,KAAzC,MAA8C,IAAG,OAAOC,MAAP,KAAgB,WAAnB,EAA+B;AAACF,MAAAA,CAAC,GAACE,MAAF;AAAS,KAAzC,MAA8C,IAAG,OAAOC,IAAP,KAAc,WAAjB,EAA6B;AAACH,MAAAA,CAAC,GAACG,IAAF;AAAO,KAArC,MAAyC;AAACH,MAAAA,CAAC,GAAC,IAAF;AAAO;;AAAAA,IAAAA,CAAC,CAACI,OAAF,GAAYT,CAAC,EAAb;AAAgB;AAAC,CAAjU,EAAmU,YAAU;AAAC,MAAIG,MAAJ,EAAWD,MAAX,EAAkBD,OAAlB;AAA0B,SAAQ,YAAU;AAAC,aAASS,CAAT,CAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,eAASC,CAAT,CAAWC,CAAX,EAAaf,CAAb,EAAe;AAAC,YAAG,CAACY,CAAC,CAACG,CAAD,CAAL,EAAS;AAAC,cAAG,CAACJ,CAAC,CAACI,CAAD,CAAL,EAAS;AAAC,gBAAIC,CAAC,GAAC,cAAY,OAAOC,OAAnB,IAA4BA,OAAlC;AAA0C,gBAAG,CAACjB,CAAD,IAAIgB,CAAP,EAAS,OAAOA,CAAC,CAACD,CAAD,EAAG,CAAC,CAAJ,CAAR;AAAe,gBAAGG,CAAH,EAAK,OAAOA,CAAC,CAACH,CAAD,EAAG,CAAC,CAAJ,CAAR;AAAe,gBAAII,CAAC,GAAC,IAAIC,KAAJ,CAAU,yBAAuBL,CAAvB,GAAyB,GAAnC,CAAN;AAA8C,kBAAMI,CAAC,CAACE,IAAF,GAAO,kBAAP,EAA0BF,CAAhC;AAAkC;;AAAA,cAAIG,CAAC,GAACV,CAAC,CAACG,CAAD,CAAD,GAAK;AAACd,YAAAA,OAAO,EAAC;AAAT,WAAX;AAAwBU,UAAAA,CAAC,CAACI,CAAD,CAAD,CAAK,CAAL,EAAQQ,IAAR,CAAaD,CAAC,CAACrB,OAAf,EAAuB,UAASS,CAAT,EAAW;AAAC,gBAAIE,CAAC,GAACD,CAAC,CAACI,CAAD,CAAD,CAAK,CAAL,EAAQL,CAAR,CAAN;AAAiB,mBAAOI,CAAC,CAACF,CAAC,IAAEF,CAAJ,CAAR;AAAe,WAAnE,EAAoEY,CAApE,EAAsEA,CAAC,CAACrB,OAAxE,EAAgFS,CAAhF,EAAkFC,CAAlF,EAAoFC,CAApF,EAAsFC,CAAtF;AAAyF;;AAAA,eAAOD,CAAC,CAACG,CAAD,CAAD,CAAKd,OAAZ;AAAoB;;AAAA,WAAI,IAAIiB,CAAC,GAAC,cAAY,OAAOD,OAAnB,IAA4BA,OAAlC,EAA0CF,CAAC,GAAC,CAAhD,EAAkDA,CAAC,GAACF,CAAC,CAACW,MAAtD,EAA6DT,CAAC,EAA9D,EAAiED,CAAC,CAACD,CAAC,CAACE,CAAD,CAAF,CAAD;;AAAQ,aAAOD,CAAP;AAAS;;AAAA,WAAOJ,CAAP;AAAS,GAAxc,GAA4c;AAAC,OAAE,CAAC,UAASO,OAAT,EAAiBf,MAAjB,EAAwBD,OAAxB,EAAgC;AACl2B,OAAC,UAAUM,MAAV,EAAkBkB,OAAlB,EAA2B;AACxB,YAAI,OAAOtB,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA3C,EAAgD;AAC5CD,UAAAA,MAAM,CAAC,EAAD,EAAKsB,OAAL,CAAN;AACH,SAFD,MAEO,IAAI,OAAOxB,OAAP,KAAmB,WAAvB,EAAoC;AACvCwB,UAAAA,OAAO;AACV,SAFM,MAEA;AACH,cAAIC,GAAG,GAAG;AACNzB,YAAAA,OAAO,EAAE;AADH,WAAV;AAGAwB,UAAAA,OAAO;AACPlB,UAAAA,MAAM,CAACoB,OAAP,GAAiBD,GAAG,CAACzB,OAArB;AACH;AACJ,OAZD,EAYG,IAZH,EAYS,YAAY;AACjB;;AAEA,YAAI2B,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAC9C,eAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiB,SAAS,CAACR,MAA9B,EAAsCT,CAAC,EAAvC,EAA2C;AACvC,gBAAIkB,MAAM,GAAGD,SAAS,CAACjB,CAAD,CAAtB;;AAEA,iBAAK,IAAImB,GAAT,IAAgBD,MAAhB,EAAwB;AACpB,kBAAIJ,MAAM,CAACM,SAAP,CAAiBC,cAAjB,CAAgCb,IAAhC,CAAqCU,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AACnDH,gBAAAA,MAAM,CAACG,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AACH;AACJ;AACJ;;AAED,iBAAOH,MAAP;AACH,SAZD;;AAcA,YAAIM,aAAa,GAAG;AAChBC,UAAAA,aAAa,EAAE,OADC;AAGhBC,UAAAA,kBAAkB,EAAE,IAHJ;AAKhBC,UAAAA,mBAAmB,EAAE,KALL;AAMhBC,UAAAA,iBAAiB,EAAE,KANH;AAOhBC,UAAAA,uBAAuB,EAAE,KAPT;AAQhBC,UAAAA,cAAc,EAAE,KARA;AAShBC,UAAAA,OAAO,EAAE,KATO;AAUhBC,UAAAA,cAAc,EAAE;AAVA,SAApB;;AAaA,YAAIC,KAAK,GAAG,SAASA,KAAT,CAAeC,OAAf,EAAwB;AAEhC,eAAKC,EAAL,GAAUD,OAAV;AAEA,eAAKE,IAAL,GAAY3C,MAAM,CAAC4C,MAAP,CAAc,KAAKF,EAAL,CAAQG,YAAR,CAAqB,QAArB,CAAd,CAAZ;AACA,eAAKF,IAAL,CAAUG,CAAV,GAAcxB,QAAQ,CAAC,EAAD,EAAKS,aAAL,EAAoB,KAAKY,IAAL,CAAUG,CAA9B,CAAtB;AAEA,eAAKC,WAAL,GAAmB,KAAnB;AAEA,eAAKC,IAAL;AAEA,iBAAO,IAAP;AACH,SAZD;;AAcAR,QAAAA,KAAK,CAACX,SAAN,CAAgBmB,IAAhB,GAAuB,YAAY;AAC/B,cAAIC,KAAK,GAAG,IAAZ,CAD+B,CAG/B;;;AACAC,UAAAA,KAAK,CAACC,EAAN,CAASF,KAAK,CAACN,IAAN,CAAWD,EAApB,EAAwB,eAAxB,EAAyC,UAAUU,KAAV,EAAiB;AACtDH,YAAAA,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBD,KAAK,CAACE,MAAN,CAAaC,KAAjC,EAAwCC,aAAxC,CAAsD,WAAtD,EAAmEC,kBAAnE,CAAsF,WAAtF,EAAmGR,KAAK,CAACS,SAAN,CAAgBN,KAAK,CAACE,MAAN,CAAaK,GAA7B,EAAkC,WAAlC,EAA+C,IAA/C,EAAqDP,KAAK,CAACE,MAAN,CAAaC,KAAlE,EAAyEH,KAAK,CAACE,MAAN,CAAaM,IAAtF,CAAnG;;AACA,gBAAIR,KAAK,CAACE,MAAN,CAAaM,IAAjB,EAAuB;AACnB,kBAAIX,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAaR,OAAjB,EAA0B;AACtB,oBAAI;AACAA,kBAAAA,OAAO,CAACW,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBD,KAAK,CAACE,MAAN,CAAaC,KAAjC,EAAwCC,aAAxC,CAAsD,WAAtD,CAAD,EAAqEP,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAaP,cAAlF,EAAkG,YAAY;AACjH,wBAAI,CAACU,KAAK,CAACF,WAAP,IAAsBK,KAAK,CAACE,MAAN,CAAaC,KAAb,KAAuBN,KAAK,CAACN,IAAN,CAAWY,KAAxD,IAAiEN,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAab,kBAAlF,EAAsG;AAClG,2BAAK4B,IAAL;AACH;AACJ,mBAJM,CAAP;AAKH,iBAND,CAME,OAAOxD,CAAP,EAAU;AACRyD,kBAAAA,OAAO,CAACC,KAAR,CAAc,oDAAd;AACH;AACJ,eAVD,MAUO;AACH,oBAAI,CAACd,KAAK,CAACF,WAAP,IAAsBK,KAAK,CAACE,MAAN,CAAaC,KAAb,KAAuBN,KAAK,CAACN,IAAN,CAAWY,KAAxD,IAAiEN,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAab,kBAAlF,EAAsG;AAClGgB,kBAAAA,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBD,KAAK,CAACE,MAAN,CAAaC,KAAjC,EAAwCC,aAAxC,CAAsD,WAAtD,EAAmEK,IAAnE;AACH;AACJ;AACJ;AACJ,WAnBD,EAJ+B,CAyB/B;;AACAX,UAAAA,KAAK,CAACC,EAAN,CAASF,KAAK,CAACN,IAAN,CAAWD,EAApB,EAAwB,wBAAxB,EAAkD,UAAUU,KAAV,EAAiB;AAC/D,gBAAIH,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBD,KAAK,CAACE,MAAN,CAAaC,KAAjC,EAAwCC,aAAxC,CAAsD,gBAAtD,CAAJ,EAA6E;AACzEP,cAAAA,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBD,KAAK,CAACE,MAAN,CAAaC,KAAjC,EAAwCC,aAAxC,CAAsD,gBAAtD,EAAwEQ,KAAxE,CAA8EC,QAA9E,GAAyFhB,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAad,aAAtG;AACAiB,cAAAA,KAAK,CAACF,WAAN,GAAoB,IAApB;AACH;AACJ,WALD;;AAOA,cAAImB,WAAW,GAAG,SAASA,WAAT,CAAqBC,GAArB,EAA0B;AACxC;AACA,gBAAIjB,KAAK,CAACkB,QAAN,CAAeD,GAAG,CAACX,aAAJ,CAAkB,YAAlB,CAAf,EAAgD,eAAhD,KAAoEW,GAAG,CAACX,aAAJ,CAAkB,YAAlB,EAAgCQ,KAAhC,CAAsCK,OAAtC,KAAkD,MAA1H,EAAkI;AAE9H;AACA,kBAAI,CAACnB,KAAK,CAACkB,QAAN,CAAeD,GAAf,EAAoB,cAApB,CAAL,EAA0C;AAEtCjB,gBAAAA,KAAK,CAACoB,QAAN,CAAeH,GAAf,EAAoB,kBAApB;AACAjB,gBAAAA,KAAK,CAACoB,QAAN,CAAeH,GAAf,EAAoB,cAApB;;AAEA,oBAAII,IAAJ;;AACA,oBAAIC,KAAJ;;AACA,oBAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBF,IAApB,EAA0BC,KAA1B,EAAiC;AAE9CL,kBAAAA,GAAG,CAACX,aAAJ,CAAkB,WAAlB,EAA+BC,kBAA/B,CAAkD,WAAlD,EAA+DR,KAAK,CAACS,SAAN,CAAgBa,IAAhB,EAAsB,EAAtB,EAA0B,KAA1B,EAAiCtB,KAAK,CAACN,IAAN,CAAWY,KAA5C,EAAmDiB,KAAnD,CAA/D;;AAEA,sBAAIA,KAAJ,EAAW;AACP,wBAAIvB,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAaR,OAAjB,EAA0B;AACtB,0BAAI;AACAA,wBAAAA,OAAO,CAACW,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBJ,KAAK,CAACN,IAAN,CAAWY,KAA/B,EAAsCC,aAAtC,CAAoD,WAApD,CAAD,EAAmEP,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAaP,cAAhF,EAAgG,YAAY;AAC/G,+BAAKsB,IAAL;AACH,yBAFM,CAAP;AAGH,uBAJD,CAIE,OAAOxD,CAAP,EAAU;AACRyD,wBAAAA,OAAO,CAACC,KAAR,CAAc,oDAAd;AACH;AACJ,qBARD,MAQO;AACHd,sBAAAA,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBJ,KAAK,CAACN,IAAN,CAAWY,KAA/B,EAAsCC,aAAtC,CAAoD,WAApD,EAAiEK,IAAjE;AACH;AACJ;AACJ,iBAjBD;;AAmBA,oBAAIZ,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAa4B,OAAjB,EAA0B;AAEtBH,kBAAAA,IAAI,GAAGtB,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAa6B,SAAb,CAAuB1B,KAAK,CAACN,IAAN,CAAWY,KAAlC,EAAyCI,GAAhD;AACAa,kBAAAA,KAAK,GAAGvB,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAa6B,SAAb,CAAuB1B,KAAK,CAACN,IAAN,CAAWY,KAAlC,EAAyCK,IAAjD;;AAEAa,kBAAAA,UAAU,CAACF,IAAD,EAAOC,KAAP,CAAV;AACH,iBAND,MAMO;AAEHD,kBAAAA,IAAI,GAAGtB,KAAK,CAACN,IAAN,CAAWiC,KAAX,CAAiB3B,KAAK,CAACN,IAAN,CAAWY,KAA5B,EAAmCV,YAAnC,CAAgD,MAAhD,KAA2DI,KAAK,CAACN,IAAN,CAAWiC,KAAX,CAAiB3B,KAAK,CAACN,IAAN,CAAWY,KAA5B,EAAmCV,YAAnC,CAAgD,UAAhD,CAAlE;AACA2B,kBAAAA,KAAK,GAAGvB,KAAK,CAACN,IAAN,CAAWiC,KAAX,CAAiB3B,KAAK,CAACN,IAAN,CAAWY,KAA5B,EAAmCV,YAAnC,CAAgD,WAAhD,CAAR;;AAEA4B,kBAAAA,UAAU,CAACF,IAAD,EAAOC,KAAP,CAAV;AACH;;AAED,oBAAIK,QAAQ,GAAGV,GAAG,CAACX,aAAJ,CAAkB,YAAlB,CAAf;AACAW,gBAAAA,GAAG,CAACX,aAAJ,CAAkB,WAAlB,EAA+BsB,WAA/B,CAA2CD,QAA3C,EAzCsC,CA2CtC;AACA;;AACA,oBAAI,CAAC3B,KAAK,CAACkB,QAAN,CAAeD,GAAG,CAACX,aAAJ,CAAkB,kBAAlB,CAAf,EAAsD,UAAtD,CAAL,EAAwE;AACpEN,kBAAAA,KAAK,CAAC6B,WAAN,CAAkBZ,GAAlB,EAAuB,aAAvB;AACAjB,kBAAAA,KAAK,CAACC,EAAN,CAASgB,GAAG,CAACX,aAAJ,CAAkB,kBAAlB,CAAT,EAAgD,kBAAhD,EAAoE,YAAY;AAC5EN,oBAAAA,KAAK,CAACoB,QAAN,CAAeH,GAAf,EAAoB,aAApB;AACH,mBAFD;AAGH;AACJ,eAnDD,MAmDO;AAEH,oBAAIa,aAAa,GAAGb,GAAG,CAACX,aAAJ,CAAkB,aAAlB,CAApB;AACA,oBAAIyB,WAAW,GAAGd,GAAG,CAACX,aAAJ,CAAkB,WAAlB,CAAlB;AACA,oBAAI0B,iBAAiB,GAAGf,GAAG,CAACX,aAAJ,CAAkB,iBAAlB,CAAxB;AACA,oBAAI2B,WAAW,GAAGhB,GAAG,CAACX,aAAJ,CAAkB,WAAlB,CAAlB;;AACA,oBAAIwB,aAAJ,EAAmB;AACfA,kBAAAA,aAAa,CAACI,aAAd,CAA4BC,WAA5B,CAAwC,kDAAxC,EAA4F,GAA5F;AACH,iBAFD,MAEO,IAAIJ,WAAJ,EAAiB;AACpB,sBAAI;AACA,wBAAIK,KAAK,CAACC,MAAV,CAAiBN,WAAjB,EAA8BpB,IAA9B,GAAqC2B,KAArC,CAA2C,UAAUzB,KAAV,EAAiB;AACxDD,sBAAAA,OAAO,CAACC,KAAR,CAAc,0BAAd,EAA0CA,KAAK,CAAC0B,IAAhD;AACH,qBAFD;AAGH,mBAJD,CAIE,OAAOpF,CAAP,EAAU;AACRyD,oBAAAA,OAAO,CAAC4B,IAAR,CAAa,+EAAb;AACH;AACJ,iBARM,MAQA,IAAIR,iBAAJ,EAAuB;AAC1BA,kBAAAA,iBAAiB,CAACE,aAAlB,CAAgCC,WAAhC,CAA4C,MAA5C,EAAoD,GAApD;AACH,iBAFM,MAEA,IAAIF,WAAJ,EAAiB;AACpB,sBAAIlC,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAaR,OAAjB,EAA0B;AACtB,wBAAI;AACAA,sBAAAA,OAAO,CAAC6C,WAAD,CAAP,CAAqBtB,IAArB;AACH,qBAFD,CAEE,OAAOxD,CAAP,EAAU;AACRyD,sBAAAA,OAAO,CAACC,KAAR,CAAc,oDAAd;AACH;AACJ,mBAND,MAMO;AACHoB,oBAAAA,WAAW,CAACtB,IAAZ;AACH;AACJ;;AAEDX,gBAAAA,KAAK,CAACoB,QAAN,CAAeH,GAAf,EAAoB,kBAApB;AACH;AACJ;AACJ,WAzFD;;AA2FA,cAAIlB,KAAK,CAACN,IAAN,CAAWgD,KAAX,MAAsB1C,KAAK,CAACN,IAAN,CAAWiC,KAAX,CAAiB1D,MAAjB,GAA0B,CAAhD,KAAsD+B,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAa8C,WAAb,IAA4B3C,KAAK,CAACN,IAAN,CAAWkD,OAAvC,IAAkD5C,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAagD,UAAb,IAA2B,CAAC7C,KAAK,CAACN,IAAN,CAAWkD,OAA/I,CAAJ,EAA6J;AACzJ3C,YAAAA,KAAK,CAACC,EAAN,CAASF,KAAK,CAACN,IAAN,CAAWD,EAApB,EAAwB,mBAAxB,EAA6C,YAAY;AACrD,kBAAIyB,GAAG,GAAGlB,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBJ,KAAK,CAACN,IAAN,CAAWY,KAA/B,CAAV;AACAW,cAAAA,WAAW,CAACC,GAAD,CAAX;AACH,aAHD;AAIH,WALD,MAKO;AAEH;AACA,iBAAK,IAAI1D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwC,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBnC,MAAxC,EAAgDT,CAAC,EAAjD,EAAqD;AAEjD;AACA,eAAC,UAAU8C,KAAV,EAAiB;AACdL,gBAAAA,KAAK,CAACC,EAAN,CAASF,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBE,KAApB,CAAT,EAAqC,UAArC,EAAiD,YAAY;AACzDW,kBAAAA,WAAW,CAACjB,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBE,KAApB,CAAD,CAAX;AACH,iBAFD;AAGH,eAJD,EAIG9C,CAJH;AAKH;AACJ;;AAEDyC,UAAAA,KAAK,CAACC,EAAN,CAASF,KAAK,CAACN,IAAN,CAAWD,EAApB,EAAwB,oBAAxB,EAA8C,UAAUU,KAAV,EAAiB;AAE3D,gBAAI2C,WAAW,GAAG9C,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBD,KAAK,CAACE,MAAN,CAAa0C,SAAjC,CAAlB;AACA,gBAAIhB,aAAa,GAAGe,WAAW,CAACvC,aAAZ,CAA0B,aAA1B,CAApB;AACA,gBAAIyB,WAAW,GAAGc,WAAW,CAACvC,aAAZ,CAA0B,WAA1B,CAAlB;AACA,gBAAI0B,iBAAiB,GAAGa,WAAW,CAACvC,aAAZ,CAA0B,iBAA1B,CAAxB;AACA,gBAAIyC,QAAQ,GAAGF,WAAW,CAACvC,aAAZ,CAA0B,QAA1B,CAAf;AACA,gBAAI2B,WAAW,GAAGY,WAAW,CAACvC,aAAZ,CAA0B,WAA1B,CAAlB;;AACA,gBAAIwB,aAAJ,EAAmB;AACfA,cAAAA,aAAa,CAACI,aAAd,CAA4BC,WAA5B,CAAwC,mDAAxC,EAA6F,GAA7F;AACH,aAFD,MAEO,IAAIJ,WAAJ,EAAiB;AACpB,kBAAI;AACA,oBAAIK,KAAK,CAACC,MAAV,CAAiBN,WAAjB,EAA8BiB,KAA9B,GAAsCV,KAAtC,CAA4C,UAAUzB,KAAV,EAAiB;AACzDD,kBAAAA,OAAO,CAACC,KAAR,CAAc,4BAAd,EAA4CA,KAAK,CAAC0B,IAAlD;AACH,iBAFD;AAGH,eAJD,CAIE,OAAOpF,CAAP,EAAU;AACRyD,gBAAAA,OAAO,CAAC4B,IAAR,CAAa,+EAAb;AACH;AACJ,aARM,MAQA,IAAIR,iBAAJ,EAAuB;AAC1BA,cAAAA,iBAAiB,CAACE,aAAlB,CAAgCC,WAAhC,CAA4C,OAA5C,EAAqD,GAArD;AACH,aAFM,MAEA,IAAIF,WAAJ,EAAiB;AACpB,kBAAIlC,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAaR,OAAjB,EAA0B;AACtB,oBAAI;AACAA,kBAAAA,OAAO,CAAC6C,WAAD,CAAP,CAAqBe,KAArB;AACH,iBAFD,CAEE,OAAO7F,CAAP,EAAU;AACRyD,kBAAAA,OAAO,CAACC,KAAR,CAAc,oDAAd;AACH;AACJ,eAND,MAMO;AACHoB,gBAAAA,WAAW,CAACe,KAAZ;AACH;AACJ;;AAAA,gBAAID,QAAJ,EAAc;AAEXA,cAAAA,QAAQ,CAACE,YAAT,CAAsB,KAAtB,EAA6BF,QAAQ,CAACpD,YAAT,CAAsB,KAAtB,EAA6BuD,OAA7B,CAAqC,WAArC,EAAkD,SAAlD,CAA7B;AACH;;AAED,gBAAI7B,IAAJ;;AACA,gBAAItB,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAa4B,OAAjB,EAA0B;AACtBH,cAAAA,IAAI,GAAGtB,KAAK,CAACN,IAAN,CAAWG,CAAX,CAAa6B,SAAb,CAAuBvB,KAAK,CAACE,MAAN,CAAaC,KAApC,EAA2CI,GAAlD;AACH,aAFD,MAEO;AACHY,cAAAA,IAAI,GAAGtB,KAAK,CAACN,IAAN,CAAWiC,KAAX,CAAiBxB,KAAK,CAACE,MAAN,CAAaC,KAA9B,EAAqCV,YAArC,CAAkD,MAAlD,KAA6DI,KAAK,CAACN,IAAN,CAAWiC,KAAX,CAAiBxB,KAAK,CAACE,MAAN,CAAaC,KAA9B,EAAqCV,YAArC,CAAkD,UAAlD,CAApE;AACH;;AAED,gBAAIwD,QAAQ,GAAGpD,KAAK,CAACN,IAAN,CAAW2D,OAAX,CAAmB/B,IAAnB,EAAyBnB,KAAK,CAACE,MAAN,CAAaC,KAAtC,KAAgD,EAA/D;;AACA,gBAAI8C,QAAQ,CAACE,OAAT,IAAoBF,QAAQ,CAACG,KAA7B,IAAsCH,QAAQ,CAACI,WAA/C,IAA8DJ,QAAQ,CAACK,EAA3E,EAA+E;AAC3ExD,cAAAA,KAAK,CAACoB,QAAN,CAAerB,KAAK,CAACN,IAAN,CAAWgE,KAA1B,EAAiC,kBAAjC;AACH,aA7C0D,CA+C3D;;AACH,WAhDD;AAkDAzD,UAAAA,KAAK,CAACC,EAAN,CAASF,KAAK,CAACN,IAAN,CAAWD,EAApB,EAAwB,mBAAxB,EAA6C,UAAUU,KAAV,EAAiB;AAC1DF,YAAAA,KAAK,CAAC6B,WAAN,CAAkB9B,KAAK,CAACN,IAAN,CAAWU,QAAX,CAAoBD,KAAK,CAACE,MAAN,CAAa0C,SAAjC,CAAlB,EAA+D,kBAA/D;AACH,WAFD;AAGH,SApMD;;AAsMAxD,QAAAA,KAAK,CAACX,SAAN,CAAgB6B,SAAhB,GAA4B,UAAUC,GAAV,EAAeW,QAAf,EAAyBsC,QAAzB,EAAmCrD,KAAnC,EAA0CK,IAA1C,EAAgD;AACxE,cAAIiD,KAAK,GAAG,EAAZ;AACA,cAAIC,QAAQ,GAAG,CAAf;AACA,cAAIjG,CAAC,GAAG,EAAR;AACA,cAAIyF,OAAO,GAAG,KAAK3D,IAAL,CAAU2D,OAAV,CAAkB3C,GAAlB,EAAuBJ,KAAvB,KAAiC,EAA/C,CAJwE,CAMxE;;AACA,cAAIqD,QAAJ,EAAc;AACV,gBAAI,KAAK7D,WAAT,EAAsB;AAClB+D,cAAAA,QAAQ,GAAG,CAAX;AACH,aAFD,MAEO;AACHA,cAAAA,QAAQ,GAAG,KAAKnE,IAAL,CAAUG,CAAV,CAAYb,kBAAZ,GAAiC,CAAjC,GAAqC,CAAhD;AACH;AACJ;;AAED,cAAI8E,UAAJ;;AAEA,cAAI,KAAKpE,IAAL,CAAUG,CAAV,CAAY4B,OAAhB,EAAyB;AACrBqC,YAAAA,UAAU,GAAG,KAAKpE,IAAL,CAAUG,CAAV,CAAY6B,SAAZ,CAAsBpB,KAAtB,EAA6ByD,KAA1C;AACH,WAFD,MAEO;AACHD,YAAAA,UAAU,GAAG,KAAKpE,IAAL,CAAUiC,KAAV,CAAgBrB,KAAhB,EAAuBV,YAAvB,CAAoC,OAApC,CAAb;;AACA,gBAAI,CAACkE,UAAL,EAAiB;AACb,kBAAIE,UAAU,GAAG,KAAKtE,IAAL,CAAUiC,KAAV,CAAgBrB,KAAhB,EAAuBC,aAAvB,CAAqC,KAArC,CAAjB;;AACA,kBAAIyD,UAAJ,EAAgB;AACZF,gBAAAA,UAAU,GAAGE,UAAU,CAACpE,YAAX,CAAwB,KAAxB,CAAb;AACH;AACJ;AACJ;;AAEDkE,UAAAA,UAAU,GAAGA,UAAU,GAAG,YAAYA,UAAZ,GAAyB,GAA5B,GAAkC,EAAzD;;AAEA,cAAIT,OAAO,CAACC,OAAZ,EAAqB;AAEjB1F,YAAAA,CAAC,GAAG,4BAA4BiG,QAA5B,GAAuC,gBAA3C;;AACA,gBAAI,KAAKnE,IAAL,CAAUG,CAAV,CAAYZ,mBAAhB,EAAqC;AACjCrB,cAAAA,CAAC,GAAGA,CAAC,GAAG,GAAJ,GAAUqC,KAAK,CAACgE,KAAN,CAAY,KAAKvE,IAAL,CAAUG,CAAV,CAAYZ,mBAAxB,CAAd;AACH;;AAED2E,YAAAA,KAAK,GAAG,gEAAgEvC,QAAhE,GAA2E,IAA3E,GAAkFyC,UAAlF,GAA+F,yDAA/F,GAA2JT,OAAO,CAACC,OAAR,CAAgB,CAAhB,CAA3J,GAAgL1F,CAAhL,GAAoL,6CAA5L;AACH,WARD,MAQO,IAAIyF,OAAO,CAACE,KAAZ,EAAmB;AAEtB3F,YAAAA,CAAC,GAAG,eAAeiG,QAAnB;;AACA,gBAAI,KAAKnE,IAAL,CAAUG,CAAV,CAAYX,iBAAhB,EAAmC;AAC/BtB,cAAAA,CAAC,GAAGA,CAAC,GAAG,GAAJ,GAAUqC,KAAK,CAACgE,KAAN,CAAY,KAAKvE,IAAL,CAAUG,CAAV,CAAYX,iBAAxB,CAAd;AACH;;AAED0E,YAAAA,KAAK,GAAG,8DAA8DvC,QAA9D,GAAyE,IAAzE,GAAgFyC,UAAhF,GAA6F,2DAA7F,GAA2JT,OAAO,CAACE,KAAR,CAAc,CAAd,CAA3J,GAA8K3F,CAA9K,GAAkL,sFAA1L;AACH,WARM,MAQA,IAAIyF,OAAO,CAACG,WAAZ,EAAyB;AAE5B5F,YAAAA,CAAC,GAAG,4BAA4BiG,QAA5B,GAAuC,kBAA3C;;AACA,gBAAI,KAAKnE,IAAL,CAAUG,CAAV,CAAYV,uBAAhB,EAAyC;AACrCvB,cAAAA,CAAC,GAAGA,CAAC,GAAG,GAAJ,GAAUqC,KAAK,CAACgE,KAAN,CAAY,KAAKvE,IAAL,CAAUG,CAAV,CAAYV,uBAAxB,CAAd;AACH;;AAEDyE,YAAAA,KAAK,GAAG,oEAAoEvC,QAApE,GAA+E,IAA/E,GAAsFyC,UAAtF,GAAmG,mEAAnG,GAAyKT,OAAO,CAACG,WAAR,CAAoB,CAApB,CAAzK,GAAkM5F,CAAlM,GAAsM,6CAA9M;AACH,WARM,MAQA,IAAIyF,OAAO,CAACa,KAAZ,EAAmB;AACtB,gBAAIC,EAAE,GAAGxD,IAAI,CAACyD,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAAT;;AACA,gBAAID,EAAE,KAAK,GAAP,IAAcA,EAAE,KAAK,GAAzB,EAA8B;AAC1BxD,cAAAA,IAAI,GAAG0D,QAAQ,CAAC9D,aAAT,CAAuBI,IAAvB,EAA6B2D,SAApC;AACH;;AAEDV,YAAAA,KAAK,GAAGjD,IAAR;AACH,WAPM,MAOA,IAAI0C,OAAO,CAACI,EAAZ,EAAgB;AAEnB7F,YAAAA,CAAC,GAAG,eAAeiG,QAAnB;;AACA,gBAAI,KAAKnE,IAAL,CAAUG,CAAV,CAAYT,cAAhB,EAAgC;AAC5BxB,cAAAA,CAAC,GAAGA,CAAC,GAAG,GAAJ,GAAUqC,KAAK,CAACgE,KAAN,CAAY,KAAKvE,IAAL,CAAUG,CAAV,CAAYT,cAAxB,CAAd;AACH;;AAEDwE,YAAAA,KAAK,GAAG,2DAA2DvC,QAA3D,GAAsE,IAAtE,GAA6EyC,UAA7E,GAA0F,yDAA1F,GAAsJT,OAAO,CAACI,EAAR,CAAW,CAAX,CAAtJ,GAAsK7F,CAAtK,GAA0K,6CAAlL;AACH;;AAED,iBAAOgG,KAAP;AACH,SAzED;;AA2EArE,QAAAA,KAAK,CAACX,SAAN,CAAgB2F,OAAhB,GAA0B,YAAY;AAClC,eAAKzE,WAAL,GAAmB,KAAnB;AACH,SAFD;;AAIA/C,QAAAA,MAAM,CAACyH,SAAP,CAAiBZ,KAAjB,GAAyBrE,KAAzB;AACH,OA9UD;AAgVC,KAjVg0B,EAiV/zB,EAjV+zB;AAAH,GAA5c,EAiV3W,EAjV2W,EAiVxW,CAAC,CAAD,CAjVwW,EAiVnW,CAjVmW,CAAP;AAkV1W,CAlVE","sourcesContent":["/**!\n * lg-video.js | 1.3.0 | November 7th 2020\n * http://sachinchoolur.github.io/lg-video.js\n * Copyright (c) 2016 Sachin N; \n * @license GPLv3 \n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.LgVideo = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define([], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory();\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory();\n        global.lgVideo = mod.exports;\n    }\n})(this, function () {\n    'use strict';\n\n    var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n\n        return target;\n    };\n\n    var videoDefaults = {\n        videoMaxWidth: '855px',\n\n        autoplayFirstVideo: true,\n\n        youtubePlayerParams: false,\n        vimeoPlayerParams: false,\n        dailymotionPlayerParams: false,\n        vkPlayerParams: false,\n        videojs: false,\n        videojsOptions: {}\n    };\n\n    var Video = function Video(element) {\n\n        this.el = element;\n\n        this.core = window.lgData[this.el.getAttribute('lg-uid')];\n        this.core.s = _extends({}, videoDefaults, this.core.s);\n\n        this.videoLoaded = false;\n\n        this.init();\n\n        return this;\n    };\n\n    Video.prototype.init = function () {\n        var _this = this;\n\n        // Event triggered when video url found without poster\n        utils.on(_this.core.el, 'hasVideo.lgtm', function (event) {\n            _this.core.___slide[event.detail.index].querySelector('.lg-video').insertAdjacentHTML('beforeend', _this.loadVideo(event.detail.src, 'lg-object', true, event.detail.index, event.detail.html));\n            if (event.detail.html) {\n                if (_this.core.s.videojs) {\n                    try {\n                        videojs(_this.core.___slide[event.detail.index].querySelector('.lg-html5'), _this.core.s.videojsOptions, function () {\n                            if (!_this.videoLoaded && event.detail.index === _this.core.index && _this.core.s.autoplayFirstVideo) {\n                                this.play();\n                            }\n                        });\n                    } catch (e) {\n                        console.error('lightGallery:- Make sure you have included videojs');\n                    }\n                } else {\n                    if (!_this.videoLoaded && event.detail.index === _this.core.index && _this.core.s.autoplayFirstVideo) {\n                        _this.core.___slide[event.detail.index].querySelector('.lg-html5').play();\n                    }\n                }\n            }\n        });\n\n        // Set max width for video\n        utils.on(_this.core.el, 'onAferAppendSlide.lgtm', function (event) {\n            if (_this.core.___slide[event.detail.index].querySelector('.lg-video-cont')) {\n                _this.core.___slide[event.detail.index].querySelector('.lg-video-cont').style.maxWidth = _this.core.s.videoMaxWidth;\n                _this.videoLoaded = true;\n            }\n        });\n\n        var loadOnClick = function loadOnClick($el) {\n            // check slide has poster\n            if (utils.hasClass($el.querySelector('.lg-object'), 'lg-has-poster') && $el.querySelector('.lg-object').style.display !== 'none') {\n\n                // check already video element present\n                if (!utils.hasClass($el, 'lg-has-video')) {\n\n                    utils.addClass($el, 'lg-video-playing');\n                    utils.addClass($el, 'lg-has-video');\n\n                    var _src;\n                    var _html;\n                    var _loadVideo = function _loadVideo(_src, _html) {\n\n                        $el.querySelector('.lg-video').insertAdjacentHTML('beforeend', _this.loadVideo(_src, '', false, _this.core.index, _html));\n\n                        if (_html) {\n                            if (_this.core.s.videojs) {\n                                try {\n                                    videojs(_this.core.___slide[_this.core.index].querySelector('.lg-html5'), _this.core.s.videojsOptions, function () {\n                                        this.play();\n                                    });\n                                } catch (e) {\n                                    console.error('lightGallery:- Make sure you have included videojs');\n                                }\n                            } else {\n                                _this.core.___slide[_this.core.index].querySelector('.lg-html5').play();\n                            }\n                        }\n                    };\n\n                    if (_this.core.s.dynamic) {\n\n                        _src = _this.core.s.dynamicEl[_this.core.index].src;\n                        _html = _this.core.s.dynamicEl[_this.core.index].html;\n\n                        _loadVideo(_src, _html);\n                    } else {\n\n                        _src = _this.core.items[_this.core.index].getAttribute('href') || _this.core.items[_this.core.index].getAttribute('data-src');\n                        _html = _this.core.items[_this.core.index].getAttribute('data-html');\n\n                        _loadVideo(_src, _html);\n                    }\n\n                    var $tempImg = $el.querySelector('.lg-object');\n                    $el.querySelector('.lg-video').appendChild($tempImg);\n\n                    // @todo loading icon for html5 videos also\n                    // for showing the loading indicator while loading video\n                    if (!utils.hasClass($el.querySelector('.lg-video-object'), 'lg-html5')) {\n                        utils.removeClass($el, 'lg-complete');\n                        utils.on($el.querySelector('.lg-video-object'), 'load.lg error.lg', function () {\n                            utils.addClass($el, 'lg-complete');\n                        });\n                    }\n                } else {\n\n                    var youtubePlayer = $el.querySelector('.lg-youtube');\n                    var vimeoPlayer = $el.querySelector('.lg-vimeo');\n                    var dailymotionPlayer = $el.querySelector('.lg-dailymotion');\n                    var html5Player = $el.querySelector('.lg-html5');\n                    if (youtubePlayer) {\n                        youtubePlayer.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*');\n                    } else if (vimeoPlayer) {\n                        try {\n                            new Vimeo.Player(vimeoPlayer).play().catch(function (error) {\n                                console.error('error playing the video:', error.name);\n                            });\n                        } catch (e) {\n                            console.warn('lightGallery:- Make sure you have included https://github.com/vimeo/player.js');\n                        }\n                    } else if (dailymotionPlayer) {\n                        dailymotionPlayer.contentWindow.postMessage('play', '*');\n                    } else if (html5Player) {\n                        if (_this.core.s.videojs) {\n                            try {\n                                videojs(html5Player).play();\n                            } catch (e) {\n                                console.error('lightGallery:- Make sure you have included videojs');\n                            }\n                        } else {\n                            html5Player.play();\n                        }\n                    }\n\n                    utils.addClass($el, 'lg-video-playing');\n                }\n            }\n        };\n\n        if (_this.core.doCss() && _this.core.items.length > 1 && (_this.core.s.enableSwipe && _this.core.isTouch || _this.core.s.enableDrag && !_this.core.isTouch)) {\n            utils.on(_this.core.el, 'onSlideClick.lgtm', function () {\n                var $el = _this.core.___slide[_this.core.index];\n                loadOnClick($el);\n            });\n        } else {\n\n            // For IE 9 and bellow\n            for (var i = 0; i < _this.core.___slide.length; i++) {\n\n                /*jshint loopfunc: true */\n                (function (index) {\n                    utils.on(_this.core.___slide[index], 'click.lg', function () {\n                        loadOnClick(_this.core.___slide[index]);\n                    });\n                })(i);\n            }\n        }\n\n        utils.on(_this.core.el, 'onBeforeSlide.lgtm', function (event) {\n\n            var $videoSlide = _this.core.___slide[event.detail.prevIndex];\n            var youtubePlayer = $videoSlide.querySelector('.lg-youtube');\n            var vimeoPlayer = $videoSlide.querySelector('.lg-vimeo');\n            var dailymotionPlayer = $videoSlide.querySelector('.lg-dailymotion');\n            var vkPlayer = $videoSlide.querySelector('.lg-vk');\n            var html5Player = $videoSlide.querySelector('.lg-html5');\n            if (youtubePlayer) {\n                youtubePlayer.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n            } else if (vimeoPlayer) {\n                try {\n                    new Vimeo.Player(vimeoPlayer).pause().catch(function (error) {\n                        console.error('Unable to pause the video:', error.name);\n                    });\n                } catch (e) {\n                    console.warn('lightGallery:- Make sure you have included https://github.com/vimeo/player.js');\n                }\n            } else if (dailymotionPlayer) {\n                dailymotionPlayer.contentWindow.postMessage('pause', '*');\n            } else if (html5Player) {\n                if (_this.core.s.videojs) {\n                    try {\n                        videojs(html5Player).pause();\n                    } catch (e) {\n                        console.error('lightGallery:- Make sure you have included videojs');\n                    }\n                } else {\n                    html5Player.pause();\n                }\n            }if (vkPlayer) {\n\n                vkPlayer.setAttribute('src', vkPlayer.getAttribute('src').replace('&autoplay', '&noplay'));\n            }\n\n            var _src;\n            if (_this.core.s.dynamic) {\n                _src = _this.core.s.dynamicEl[event.detail.index].src;\n            } else {\n                _src = _this.core.items[event.detail.index].getAttribute('href') || _this.core.items[event.detail.index].getAttribute('data-src');\n            }\n\n            var _isVideo = _this.core.isVideo(_src, event.detail.index) || {};\n            if (_isVideo.youtube || _isVideo.vimeo || _isVideo.dailymotion || _isVideo.vk) {\n                utils.addClass(_this.core.outer, 'lg-hide-download');\n            }\n\n            //$videoSlide.addClass('lg-complete');\n        });\n\n        utils.on(_this.core.el, 'onAfterSlide.lgtm', function (event) {\n            utils.removeClass(_this.core.___slide[event.detail.prevIndex], 'lg-video-playing');\n        });\n    };\n\n    Video.prototype.loadVideo = function (src, addClass, noposter, index, html) {\n        var video = '';\n        var autoplay = 1;\n        var a = '';\n        var isVideo = this.core.isVideo(src, index) || {};\n\n        // Enable autoplay for first video if poster doesn't exist\n        if (noposter) {\n            if (this.videoLoaded) {\n                autoplay = 0;\n            } else {\n                autoplay = this.core.s.autoplayFirstVideo ? 1 : 0;\n            }\n        }\n\n        var videoTitle;\n\n        if (this.core.s.dynamic) {\n            videoTitle = this.core.s.dynamicEl[index].title;\n        } else {\n            videoTitle = this.core.items[index].getAttribute('title');\n            if (!videoTitle) {\n                var firstImage = this.core.items[index].querySelector('img');\n                if (firstImage) {\n                    videoTitle = firstImage.getAttribute('alt');\n                }\n            }\n        }\n\n        videoTitle = videoTitle ? 'title=\"' + videoTitle + '\"' : '';\n\n        if (isVideo.youtube) {\n\n            a = '?wmode=opaque&autoplay=' + autoplay + '&enablejsapi=1';\n            if (this.core.s.youtubePlayerParams) {\n                a = a + '&' + utils.param(this.core.s.youtubePlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-youtube ' + addClass + '\" ' + videoTitle + ' width=\"560\" height=\"315\" src=\"//www.youtube.com/embed/' + isVideo.youtube[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n        } else if (isVideo.vimeo) {\n\n            a = '?autoplay=' + autoplay;\n            if (this.core.s.vimeoPlayerParams) {\n                a = a + '&' + utils.param(this.core.s.vimeoPlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-vimeo ' + addClass + '\" ' + videoTitle + ' width=\"560\" height=\"315\"  src=\"//player.vimeo.com/video/' + isVideo.vimeo[1] + a + '\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\n        } else if (isVideo.dailymotion) {\n\n            a = '?wmode=opaque&autoplay=' + autoplay + '&api=postMessage';\n            if (this.core.s.dailymotionPlayerParams) {\n                a = a + '&' + utils.param(this.core.s.dailymotionPlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-dailymotion ' + addClass + '\" ' + videoTitle + ' width=\"560\" height=\"315\" src=\"//www.dailymotion.com/embed/video/' + isVideo.dailymotion[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n        } else if (isVideo.html5) {\n            var fL = html.substring(0, 1);\n            if (fL === '.' || fL === '#') {\n                html = document.querySelector(html).innerHTML;\n            }\n\n            video = html;\n        } else if (isVideo.vk) {\n\n            a = '&autoplay=' + autoplay;\n            if (this.core.s.vkPlayerParams) {\n                a = a + '&' + utils.param(this.core.s.vkPlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-vk ' + addClass + '\" ' + videoTitle + '  width=\"560\" height=\"315\" src=\"//vk.com/video_ext.php?' + isVideo.vk[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n        }\n\n        return video;\n    };\n\n    Video.prototype.destroy = function () {\n        this.videoLoaded = false;\n    };\n\n    window.lgModules.video = Video;\n});\n\n},{}]},{},[1])(1)\n});\n"]},"metadata":{},"sourceType":"script"}